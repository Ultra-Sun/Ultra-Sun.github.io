(function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(e,'__esModule',{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&'object'==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,'default',{enumerable:!0,value:e}),2&r&&'string'!=typeof e)for(var a in e)t.d(n,a,function(t){return e[t]}.bind(null,a));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(r,'a',r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=193)})([function(e,t){'use strict';var r=Math.PI;t.__esModule=!0;var n=t.VERSION='4.8.3',a=t.PI_2=2*r,o=t.RAD_TO_DEG=180/r,i=t.DEG_TO_RAD=r/180,s=t.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},d=t.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},l=t.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},u=t.SCALE_MODES={LINEAR:0,NEAREST:1},p=t.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},c=t.GC_MODES={AUTO:0,MANUAL:1},h=t.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,f=t.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,y=t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,m=t.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},_=t.PRECISION={LOW:'lowp',MEDIUM:'mediump',HIGH:'highp'},x=t.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},b=t.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},v=t.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},function(e,t,r){'use strict';function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.autoDetectRenderer=t.Application=t.Filter=t.SpriteMaskFilter=t.Quad=t.RenderTarget=t.ObjectRenderer=t.WebGLManager=t.Shader=t.CanvasRenderTarget=t.TextureUvs=t.VideoBaseTexture=t.BaseRenderTexture=t.RenderTexture=t.BaseTexture=t.TextureMatrix=t.Texture=t.Spritesheet=t.CanvasGraphicsRenderer=t.GraphicsRenderer=t.GraphicsData=t.Graphics=t.TextMetrics=t.TextStyle=t.Text=t.SpriteRenderer=t.CanvasTinter=t.CanvasSpriteRenderer=t.Sprite=t.TransformBase=t.TransformStatic=t.Transform=t.Container=t.DisplayObject=t.Bounds=t.glCore=t.WebGLRenderer=t.CanvasRenderer=t.ticker=t.utils=t.settings=void 0;var o=r(0);Object.keys(o).forEach(function(e){'default'===e||'__esModule'===e||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var i=r(4);Object.keys(i).forEach(function(e){'default'===e||'__esModule'===e||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var s=r(6);Object.defineProperty(t,'glCore',{enumerable:!0,get:function(){return a(s).default}});var d=r(27);Object.defineProperty(t,'Bounds',{enumerable:!0,get:function(){return a(d).default}});var l=r(50);Object.defineProperty(t,'DisplayObject',{enumerable:!0,get:function(){return a(l).default}});var u=r(11);Object.defineProperty(t,'Container',{enumerable:!0,get:function(){return a(u).default}});var p=r(52);Object.defineProperty(t,'Transform',{enumerable:!0,get:function(){return a(p).default}});var c=r(51);Object.defineProperty(t,'TransformStatic',{enumerable:!0,get:function(){return a(c).default}});var h=r(29);Object.defineProperty(t,'TransformBase',{enumerable:!0,get:function(){return a(h).default}});var f=r(31);Object.defineProperty(t,'Sprite',{enumerable:!0,get:function(){return a(f).default}});var y=r(121);Object.defineProperty(t,'CanvasSpriteRenderer',{enumerable:!0,get:function(){return a(y).default}});var m=r(35);Object.defineProperty(t,'CanvasTinter',{enumerable:!0,get:function(){return a(m).default}});var _=r(124);Object.defineProperty(t,'SpriteRenderer',{enumerable:!0,get:function(){return a(_).default}});var x=r(140);Object.defineProperty(t,'Text',{enumerable:!0,get:function(){return a(x).default}});var b=r(65);Object.defineProperty(t,'TextStyle',{enumerable:!0,get:function(){return a(b).default}});var v=r(66);Object.defineProperty(t,'TextMetrics',{enumerable:!0,get:function(){return a(v).default}});var T=r(142);Object.defineProperty(t,'Graphics',{enumerable:!0,get:function(){return a(T).default}});var E=r(67);Object.defineProperty(t,'GraphicsData',{enumerable:!0,get:function(){return a(E).default}});var S=r(144);Object.defineProperty(t,'GraphicsRenderer',{enumerable:!0,get:function(){return a(S).default}});var C=r(151);Object.defineProperty(t,'CanvasGraphicsRenderer',{enumerable:!0,get:function(){return a(C).default}});var P=r(152);Object.defineProperty(t,'Spritesheet',{enumerable:!0,get:function(){return a(P).default}});var A=r(8);Object.defineProperty(t,'Texture',{enumerable:!0,get:function(){return a(A).default}});var M=r(63);Object.defineProperty(t,'TextureMatrix',{enumerable:!0,get:function(){return a(M).default}});var w=r(10);Object.defineProperty(t,'BaseTexture',{enumerable:!0,get:function(){return a(w).default}});var O=r(34);Object.defineProperty(t,'RenderTexture',{enumerable:!0,get:function(){return a(O).default}});var D=r(58);Object.defineProperty(t,'BaseRenderTexture',{enumerable:!0,get:function(){return a(D).default}});var R=r(55);Object.defineProperty(t,'VideoBaseTexture',{enumerable:!0,get:function(){return a(R).default}});var I=r(56);Object.defineProperty(t,'TextureUvs',{enumerable:!0,get:function(){return a(I).default}});var k=r(59);Object.defineProperty(t,'CanvasRenderTarget',{enumerable:!0,get:function(){return a(k).default}});var L=r(14);Object.defineProperty(t,'Shader',{enumerable:!0,get:function(){return a(L).default}});var F=r(13);Object.defineProperty(t,'WebGLManager',{enumerable:!0,get:function(){return a(F).default}});var N=r(17);Object.defineProperty(t,'ObjectRenderer',{enumerable:!0,get:function(){return a(N).default}});var B=r(19);Object.defineProperty(t,'RenderTarget',{enumerable:!0,get:function(){return a(B).default}});var U=r(64);Object.defineProperty(t,'Quad',{enumerable:!0,get:function(){return a(U).default}});var X=r(61);Object.defineProperty(t,'SpriteMaskFilter',{enumerable:!0,get:function(){return a(X).default}});var j=r(62);Object.defineProperty(t,'Filter',{enumerable:!0,get:function(){return a(j).default}});var G=r(68);Object.defineProperty(t,'Application',{enumerable:!0,get:function(){return a(G).default}});var H=r(69);Object.defineProperty(t,'autoDetectRenderer',{enumerable:!0,get:function(){return H.autoDetectRenderer}});var W=r(2),V=n(W),Y=r(33),z=n(Y),q=r(3),K=a(q),Z=r(12),J=a(Z),Q=r(18),$=a(Q);t.settings=K.default,t.utils=V,t.ticker=z,t.CanvasRenderer=J.default,t.WebGLRenderer=$.default},function(e,t,r){'use strict';function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function o(){return++P}function i(e){if(!A){if(-1<navigator.userAgent.toLowerCase().indexOf('chrome')){var t=['\n %c %c %c PixiJS '+d.VERSION+' - \u2730 '+e+' \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n','background: #ff66a5; padding:5px 0;','background: #ff66a5; padding:5px 0;','color: #ff66a5; background: #030307; padding:5px 0;','background: #ff66a5; padding:5px 0;','background: #ffc3dc; padding:5px 0;','background: #ff66a5; padding:5px 0;','color: #ff2424; background: #fff; padding:5px 0;','color: #ff2424; background: #fff; padding:5px 0;','color: #ff2424; background: #fff; padding:5px 0;'];window.console.log.apply(console,t)}else window.console&&window.console.log('PixiJS '+d.VERSION+' - '+e+' - http://www.pixijs.com/');A=!0}}var s=Math.round;t.__esModule=!0,t.premultiplyBlendMode=t.BaseTextureCache=t.TextureCache=t.earcut=t.mixins=t.pluginTarget=t.EventEmitter=t.removeItems=t.isMobile=void 0,t.uid=o,t.hex2rgb=function(e,t){return t=t||[],t[0]=(255&e>>16)/255,t[1]=(255&e>>8)/255,t[2]=(255&e)/255,t},t.hex2string=function(e){return e=e.toString(16),e='000000'.substr(0,6-e.length)+e,'#'+e},t.rgb2hex=function(e){return(255*e[0]<<16)+(255*e[1]<<8)+(0|255*e[2])},t.getResolutionOfUrl=function(e,t){var r=u.default.RETINA_PREFIX.exec(e);return r?parseFloat(r[1]):t===void 0?1:t},t.decomposeDataUri=function(e){var t=d.DATA_URI.exec(e);return t?{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}:void 0},t.getUrlFileExtension=function(e){var t=d.URL_FILE_EXTENSION.exec(e);return t?t[1].toLowerCase():void 0},t.getSvgSize=function(e){var t=d.SVG_SIZE.exec(e),r={};return t&&(r[t[1]]=s(parseFloat(t[3])),r[t[5]]=s(parseFloat(t[7]))),r},t.skipHello=function(){A=!0},t.sayHello=i,t.isWebGLSupported=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var t=document.createElement('canvas'),r=t.getContext('webgl',e)||t.getContext('experimental-webgl',e),n=!!(r&&r.getContextAttributes().stencil);if(r){var a=r.getExtension('WEBGL_lose_context');a&&a.loseContext()}return r=null,n}catch(t){return!1}},t.sign=function(e){return 0===e?0:0>e?-1:1},t.destroyTextureCache=function(){for(var e in M)M[e].destroy();for(e in w)w[e].destroy()},t.clearTextureCache=function(){for(var e in M)delete M[e];for(e in w)delete w[e]},t.correctBlendMode=function(e,t){return O[t?1:0][e]},t.premultiplyTint=function(e,t){if(1===t)return(255*t<<24)+e;if(0===t)return 0;var r=255&e>>16,n=255&e>>8,a=255&e;return r=0|r*t+.5,n=0|n*t+.5,a=0|a*t+.5,(255*t<<24)+(r<<16)+(n<<8)+a},t.premultiplyRgba=function(e,t,r,n){return r=r||new Float32Array(4),n||void 0===n?(r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t):(r[0]=e[0],r[1]=e[1],r[2]=e[2]),r[3]=t,r},t.premultiplyTintToRgba=function(e,t,r,n){return r=r||new Float32Array(4),r[0]=(255&e>>16)/255,r[1]=(255&e>>8)/255,r[2]=(255&e)/255,(n||void 0===n)&&(r[0]*=t,r[1]*=t,r[2]*=t),r[3]=t,r};var d=r(0),l=r(3),u=a(l),p=r(9),c=a(p),h=r(109),f=a(h),y=r(110),m=n(y),_=r(28),x=n(_),b=r(111),v=a(b),T=r(112),E=a(T),S=r(30),C=a(S),P=0,A=!1;t.isMobile=x,t.removeItems=v.default,t.EventEmitter=c.default,t.pluginTarget=f.default,t.mixins=m,t.earcut=C.default;var M=t.TextureCache=Object.create(null),w=t.BaseTextureCache=Object.create(null),O=t.premultiplyBlendMode=(0,E.default)()},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=r(107),o=n(a),i=r(108),s=n(i);t.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,o.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:'highp',PRECISION_FRAGMENT:'mediump',CAN_UPLOAD_SAME_BUFFER:(0,s.default)(),MESH_CANVAS_PADDING:0}},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=r(23);Object.defineProperty(t,'Point',{enumerable:!0,get:function(){return n(a).default}});var o=r(39);Object.defineProperty(t,'ObservablePoint',{enumerable:!0,get:function(){return n(o).default}});var i=r(24);Object.defineProperty(t,'Matrix',{enumerable:!0,get:function(){return n(i).default}});var s=r(40);Object.defineProperty(t,'GroupD8',{enumerable:!0,get:function(){return n(s).default}});var d=r(97);Object.defineProperty(t,'Circle',{enumerable:!0,get:function(){return n(d).default}});var l=r(98);Object.defineProperty(t,'Ellipse',{enumerable:!0,get:function(){return n(l).default}});var u=r(99);Object.defineProperty(t,'Polygon',{enumerable:!0,get:function(){return n(u).default}});var p=r(25);Object.defineProperty(t,'Rectangle',{enumerable:!0,get:function(){return n(p).default}});var c=r(100);Object.defineProperty(t,'RoundedRectangle',{enumerable:!0,get:function(){return n(c).default}})},function(e,t,r){'use strict';(function(e){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}t.__esModule=!0,t.loader=t.prepare=t.particles=t.mesh=t.loaders=t.interaction=t.filters=t.extras=t.extract=t.accessibility=void 0;var a=r(91);Object.keys(a).forEach(function(e){'default'===e||'__esModule'===e||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var o=r(1);Object.keys(o).forEach(function(e){'default'===e||'__esModule'===e||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var i=r(153),s=function(e){return e&&e.__esModule?e:{default:e}}(i),d=r(154),l=n(d),u=r(156),p=n(u),c=r(71),h=n(c),f=r(166),y=n(f),m=r(173),_=n(m),x=r(175),b=n(x),v=r(179),T=n(v),E=r(184),S=n(E),C=r(189),P=n(C);o.utils.mixins.performMixins();var A=b.shared||null;t.accessibility=l,t.extract=p,t.extras=h,t.filters=y,t.interaction=_,t.loaders=b,t.mesh=T,t.particles=S,t.prepare=P,t.loader=A,'function'==typeof s.default&&(0,s.default)(t),e.PIXI=t}).call(this,r(22))},function(e,t,r){var n={createContext:r(101),setVertexAttribArrays:r(41),GLBuffer:r(102),GLFramebuffer:r(103),GLShader:r(104),GLTexture:r(42),VertexArrayObject:r(105),shader:r(106)};e.exports&&(e.exports=n),'undefined'!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=n)},function(e,t,r){(function(e){function r(e,t){for(var r=0,n=e.length-1,a;0<=n;n--)a=e[n],'.'===a?e.splice(n,1):'..'===a?(e.splice(n,1),r++):r&&(e.splice(n,1),r--);if(t)for(;r--;r)e.unshift('..');return e}function n(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}var a=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return a.exec(e).slice(1)};t.resolve=function(){for(var t='',a=!1,o=arguments.length-1,i;-1<=o&&!a;o--){if(i=0<=o?arguments[o]:e.cwd(),'string'!=typeof i)throw new TypeError('Arguments to path.resolve must be strings');else if(!i)continue;t=i+'/'+t,a='/'===i.charAt(0)}return t=r(n(t.split('/'),function(e){return!!e}),!a).join('/'),(a?'/':'')+t||'.'},t.normalize=function(e){var a=t.isAbsolute(e),o='/'===i(e,-1);return e=r(n(e.split('/'),function(e){return!!e}),!a).join('/'),e||a||(e='.'),e&&o&&(e+='/'),(a?'/':'')+e},t.isAbsolute=function(e){return'/'===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(n(e,function(e){if('string'!=typeof e)throw new TypeError('Arguments to path.join must be strings');return e}).join('/'))},t.relative=function(e,r){function n(e){for(var t=0;t<e.length&&''===e[t];t++);for(var r=e.length-1;0<=r&&''===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var a=n(e.split('/')),o=n(r.split('/')),s=Math.min(a.length,o.length),d=s,l=0;l<s;l++)if(a[l]!==o[l]){d=l;break}for(var i=[],l=d;l<a.length;l++)i.push('..');return i=i.concat(o.slice(d)),i.join('/')},t.sep='/',t.delimiter=':',t.dirname=function(e){var t=o(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):'.'},t.basename=function(e,t){var r=o(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){return o(e)[3]};var i=function(e,t,r){return e.substr(t,r)}}).call(this,r(127))},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}t.__esModule=!0;var d=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(10),u=n(l),p=r(55),c=n(p),h=r(56),f=n(h),y=r(9),m=n(y),_=r(4),x=r(2),b=r(3),v=n(b),T=function(e){function t(r,n,i,s,d,l){a(this,t);var u=o(this,e.call(this));if(u.noFrame=!1,n||(u.noFrame=!0,n=new _.Rectangle(0,0,1,1)),r instanceof t&&(r=r.baseTexture),u.baseTexture=r,u._frame=n,u.trim=s,u.valid=!1,u.requiresUpdate=!1,u._uvs=null,u.orig=i||n,u._rotate=+(d||0),!0===d)u._rotate=2;else if(0!=u._rotate%2)throw new Error('attempt to use diamond-shaped UVs. If you are sure, set rotation manually');return r.hasLoaded?(u.noFrame&&(n=new _.Rectangle(0,0,r.width,r.height),r.on('update',u.onBaseTextureUpdated,u)),u.frame=n):r.once('loaded',u.onBaseTextureLoaded,u),u.defaultAnchor=l?new _.Point(l.x,l.y):new _.Point(0,0),u._updateID=0,u.transform=null,u.textureCacheIds=[],u}return i(t,e),t.prototype.update=function(){this.baseTexture.update()},t.prototype.onBaseTextureLoaded=function(e){this._updateID++,this.frame=this.noFrame?new _.Rectangle(0,0,e.width,e.height):this._frame,this.baseTexture.on('update',this.onBaseTextureUpdated,this),this.emit('update',this)},t.prototype.onBaseTextureUpdated=function(e){this._updateID++,this._frame.width=e.width,this._frame.height=e.height,this.emit('update',this)},t.prototype.destroy=function(e){this.baseTexture&&(e&&(x.TextureCache[this.baseTexture.imageUrl]&&t.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off('update',this.onBaseTextureUpdated,this),this.baseTexture.off('loaded',this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){return new t(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},t.prototype._updateUvs=function(){this._uvs||(this._uvs=new f.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.fromImage=function(e,r,n,a){var o=x.TextureCache[e];return o||(o=new t(u.default.fromImage(e,r,n,a)),t.addToCache(o,e)),o},t.fromFrame=function(e){var t=x.TextureCache[e];if(!t)throw new Error('The frameId "'+e+'" does not exist in the texture cache');return t},t.fromCanvas=function(e,r){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'canvas';return new t(u.default.fromCanvas(e,r,n))},t.fromVideo=function(e,r,n,a){return'string'==typeof e?t.fromVideoUrl(e,r,n,a):new t(c.default.fromVideo(e,r,a))},t.fromVideoUrl=function(e,r,n,a){return new t(c.default.fromUrl(e,r,n,a))},t.from=function(e){if('string'==typeof e){var r=x.TextureCache[e];if(!r){var n=null!==e.match(/\.(mp4|webm|ogg|h264|avi|mov)$/);return n?t.fromVideoUrl(e):t.fromImage(e)}return r}return e instanceof HTMLImageElement?new t(u.default.from(e)):e instanceof HTMLCanvasElement?t.fromCanvas(e,v.default.SCALE_MODE,'HTMLCanvasElement'):e instanceof HTMLVideoElement?t.fromVideo(e):e instanceof u.default?new t(e):e},t.fromLoader=function(e,r,n){var a=new u.default(e,void 0,(0,x.getResolutionOfUrl)(r)),o=new t(a);return a.imageUrl=r,n||(n=r),u.default.addToCache(o.baseTexture,n),t.addToCache(o,n),n!==r&&(u.default.addToCache(o.baseTexture,r),t.addToCache(o,r)),o},t.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),x.TextureCache[t]&&console.warn('Texture added to the cache with an id ['+t+'] that already had an entry'),x.TextureCache[t]=e)},t.removeFromCache=function(e){if('string'==typeof e){var t=x.TextureCache[e];if(t){var r=t.textureCacheIds.indexOf(e);return-1<r&&t.textureCacheIds.splice(r,1),delete x.TextureCache[e],t}}else if(e&&e.textureCacheIds){for(var n=0;n<e.textureCacheIds.length;++n)x.TextureCache[e.textureCacheIds[n]]===e&&delete x.TextureCache[e.textureCacheIds[n]];return e.textureCacheIds.length=0,e}return null},d(t,[{key:'frame',get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var t=e.x,r=e.y,n=e.width,a=e.height,o=t+n>this.baseTexture.width,i=r+a>this.baseTexture.height;if(o||i){var s=o&&i?'and':'or',d='X: '+t+' + '+n+' = '+(t+n)+' > '+this.baseTexture.width,l='Y: '+r+' + '+a+' = '+(r+a)+' > '+this.baseTexture.height;throw new Error('Texture Error: frame does not fit inside the base Texture dimensions: '+(d+' '+s+' '+l))}this.valid=n&&a&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=e),this.valid&&this._updateUvs()}},{key:'rotate',get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this._updateUvs()}},{key:'width',get:function(){return this.orig.width}},{key:'height',get:function(){return this.orig.height}}]),t}(m.default);t.default=T,T.EMPTY=new T(new u.default()),s(T.EMPTY),s(T.EMPTY.baseTexture),T.WHITE=function(){var e=document.createElement('canvas');e.width=10,e.height=10;var t=e.getContext('2d');return t.fillStyle='white',t.fillRect(0,0,10,10),new T(new u.default(e))}(),s(T.WHITE),s(T.WHITE.baseTexture)},function(e){'use strict';function t(){}function r(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function n(){this._events=new t,this._eventsCount=0}var a=Object.prototype.hasOwnProperty,o='~';Object.create&&(t.prototype=Object.create(null),!new t().__proto__&&(o=!1)),n.prototype.eventNames=function(){var e=[],t,r;if(0===this._eventsCount)return e;for(r in t=this._events)a.call(t,r)&&e.push(o?r.slice(1):r);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e},n.prototype.listeners=function(e,t){var r=o?o+e:e,n=this._events[r];if(t)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var a=0,i=n.length,s=Array(i);a<i;a++)s[a]=n[a].fn;return s},n.prototype.emit=function(e,t,r,n,a,s){var d=o?o+e:e;if(!this._events[d])return!1;var l=this._events[d],u=arguments.length,p,c;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),u){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,n),!0;case 5:return l.fn.call(l.context,t,r,n,a),!0;case 6:return l.fn.call(l.context,t,r,n,a,s),!0;}for(c=1,p=Array(u-1);c<u;c++)p[c-1]=arguments[c];l.fn.apply(l.context,p)}else{var i=l.length,h;for(c=0;c<i;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),u){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,r);break;case 4:l[c].fn.call(l[c].context,t,r,n);break;default:if(!p)for(h=1,p=Array(u-1);h<u;h++)p[h-1]=arguments[h];l[c].fn.apply(l[c].context,p);}}return!0},n.prototype.on=function(e,t,n){var a=new r(t,n||this),i=o?o+e:e;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],a]:this._events[i].push(a):(this._events[i]=a,this._eventsCount++),this},n.prototype.once=function(e,t,n){var a=new r(t,n||this,!0),i=o?o+e:e;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],a]:this._events[i].push(a):(this._events[i]=a,this._eventsCount++),this},n.prototype.removeListener=function(e,r,n,a){var s=o?o+e:e;if(!this._events[s])return this;if(!r)return 0==--this._eventsCount?this._events=new t:delete this._events[s],this;var d=this._events[s];if(d.fn)d.fn!==r||a&&!d.once||n&&d.context!==n||(0==--this._eventsCount?this._events=new t:delete this._events[s]);else{for(var l=0,i=[],u=d.length;l<u;l++)(d[l].fn!==r||a&&!d[l].once||n&&d[l].context!==n)&&i.push(d[l]);i.length?this._events[s]=1===i.length?i[0]:i:0==--this._eventsCount?this._events=new t:delete this._events[s]}return this},n.prototype.removeAllListeners=function(e){var r;return e?(r=o?o+e:e,this._events[r]&&(0==--this._eventsCount?this._events=new t:delete this._events[r])):(this._events=new t,this._eventsCount=0),this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prototype.setMaxListeners=function(){return this},n.prefixed=o,n.EventEmitter=n,e.exports=n},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Math.round;t.__esModule=!0;var d=r(2),l=r(3),u=n(l),p=r(9),c=n(p),h=r(53),f=n(h),y=r(32),m=n(y),_=function(e){function t(r,n,i){a(this,t);var s=o(this,e.call(this));return s.uid=(0,d.uid)(),s.touched=0,s.resolution=i||u.default.RESOLUTION,s.width=100,s.height=100,s.realWidth=100,s.realHeight=100,s.scaleMode=void 0===n?u.default.SCALE_MODE:n,s.hasLoaded=!1,s.isLoading=!1,s.source=null,s.origSource=null,s.imageType=null,s.sourceScale=1,s.premultipliedAlpha=!0,s.imageUrl=null,s.isPowerOfTwo=!1,s.mipmap=u.default.MIPMAP_TEXTURES,s.wrapMode=u.default.WRAP_MODE,s._glTextures={},s._enabled=0,s._virtalBoundId=-1,s._destroyed=!1,s.textureCacheIds=[],r&&s.loadSource(r),s}return i(t,e),t.prototype.update=function(){'svg'!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit('update',this)},t.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=m.default.isPow2(this.realWidth)&&m.default.isPow2(this.realHeight)},t.prototype.loadSource=function(e){var t=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,t&&this.source&&(this.source.onload=null,this.source.onerror=null);var r=!this.source;if(this.source=e,(e.src&&e.complete||e.getContext)&&e.width&&e.height)this._updateImageType(),'svg'===this.imageType?this._loadSvgSource():this._sourceLoaded(),r&&this.emit('loaded',this);else if(!e.getContext){this.isLoading=!0;var n=this;if(e.onload=function(){if(n._updateImageType(),e.onload=null,e.onerror=null,!!n.isLoading)return n.isLoading=!1,n._sourceLoaded(),'svg'===n.imageType?void n._loadSvgSource():void n.emit('loaded',n)},e.onerror=function(){e.onload=null,e.onerror=null,n.isLoading&&(n.isLoading=!1,n.emit('error',n))},e.complete&&e.src){if(e.onload=null,e.onerror=null,'svg'===n.imageType)return void n._loadSvgSource();this.isLoading=!1,e.width&&e.height?(this._sourceLoaded(),t&&this.emit('loaded',this)):t&&this.emit('error',this)}}},t.prototype._updateImageType=function(){if(this.imageUrl){var e=(0,d.decomposeDataUri)(this.imageUrl),t=void 0;if(e&&'image'===e.mediaType){var r=e.subType.split('+')[0];if(t=(0,d.getUrlFileExtension)('.'+r),!t)throw new Error('Invalid image type in data URI.')}else t=(0,d.getUrlFileExtension)(this.imageUrl),t||(t='png');this.imageType=t}},t.prototype._loadSvgSource=function(){if('svg'===this.imageType){var e=(0,d.decomposeDataUri)(this.imageUrl);e?this._loadSvgSourceUsingDataUri(e):this._loadSvgSourceUsingXhr()}},t.prototype._loadSvgSourceUsingDataUri=function(e){var t;if('base64'===e.encoding){if(!atob)throw new Error('Your browser doesn\'t support base64 conversions.');t=atob(e.data)}else t=e.data;this._loadSvgSourceUsingString(t)},t.prototype._loadSvgSourceUsingXhr=function(){var e=this,t=new XMLHttpRequest;t.onload=function(){if(t.readyState!==t.DONE||200!==t.status)throw new Error('Failed to load SVG using XHR.');e._loadSvgSourceUsingString(t.response)},t.onerror=function(){return e.emit('error',e)},t.open('GET',this.imageUrl,!0),t.send()},t.prototype._loadSvgSourceUsingString=function(e){var r=(0,d.getSvgSize)(e),n=r.width,a=r.height;if(!n||!a)throw new Error('The SVG image must have width and height defined (in pixels), canvas API needs them.');this.realWidth=s(n*this.sourceScale),this.realHeight=s(a*this.sourceScale),this._updateDimensions();var o=document.createElement('canvas');o.width=this.realWidth,o.height=this.realHeight,o._pixiId='canvas_'+(0,d.uid)(),o.getContext('2d').drawImage(this.source,0,0,n,a,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=o,t.addToCache(this,o._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit('loaded',this)},t.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},t.prototype.destroy=function(){this.imageUrl&&(delete d.TextureCache[this.imageUrl],this.imageUrl=null,!navigator.isCocoonJS&&(this.source.src='')),this.source=null,this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},t.prototype.dispose=function(){this.emit('dispose',this)},t.prototype.updateSourceImage=function(e){this.source.src=e,this.loadSource(this.source)},t.fromImage=function(e,r,n,a){var o=d.BaseTextureCache[e];if(!o){var i=new Image;void 0===r&&0!==e.indexOf('data:')?i.crossOrigin=(0,f.default)(e):r&&(i.crossOrigin='string'==typeof r?r:'anonymous'),o=new t(i,n),o.imageUrl=e,a&&(o.sourceScale=a),o.resolution=(0,d.getResolutionOfUrl)(e),i.src=e,t.addToCache(o,e)}return o},t.fromCanvas=function(e,r){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'canvas';e._pixiId||(e._pixiId=n+'_'+(0,d.uid)());var a=d.BaseTextureCache[e._pixiId];return a||(a=new t(e,r),t.addToCache(a,e._pixiId)),a},t.from=function(e,r,n){if('string'==typeof e)return t.fromImage(e,void 0,r,n);if(e instanceof HTMLImageElement){var a=e.src,o=d.BaseTextureCache[a];return o||(o=new t(e,r),o.imageUrl=a,n&&(o.sourceScale=n),o.resolution=(0,d.getResolutionOfUrl)(a),t.addToCache(o,a)),o}return e instanceof HTMLCanvasElement?t.fromCanvas(e,r):e},t.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),d.BaseTextureCache[t]&&console.warn('BaseTexture added to the cache with an id ['+t+'] that already had an entry'),d.BaseTextureCache[t]=e)},t.removeFromCache=function(e){if('string'==typeof e){var t=d.BaseTextureCache[e];if(t){var r=t.textureCacheIds.indexOf(e);return-1<r&&t.textureCacheIds.splice(r,1),delete d.BaseTextureCache[e],t}}else if(e&&e.textureCacheIds){for(var n=0;n<e.textureCacheIds.length;++n)delete d.BaseTextureCache[e.textureCacheIds[n]];return e.textureCacheIds.length=0,e}return null},t}(c.default);t.default=_},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(2),d=r(50),l=function(e){return e&&e.__esModule?e:{default:e}}(d),u=function(e){function t(){n(this,t);var r=a(this,e.call(this));return r.children=[],r}return o(t,e),t.prototype.onChildrenChange=function(){},t.prototype.addChild=function(e){var t=arguments.length;if(1<t)for(var r=0;r<t;r++)this.addChild(arguments[r]);else e.parent&&e.parent.removeChild(e),e.parent=this,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),e.emit('added',this);return e},t.prototype.addChildAt=function(e,t){if(0>t||t>this.children.length)throw new Error(e+'addChildAt: The index '+t+' supplied is out of bounds '+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit('added',this),e},t.prototype.swapChildren=function(e,t){if(e!==t){var r=this.getChildIndex(e),n=this.getChildIndex(t);this.children[r]=t,this.children[n]=e,this.onChildrenChange(r<n?r:n)}},t.prototype.getChildIndex=function(e){var t=this.children.indexOf(e);if(-1===t)throw new Error('The supplied DisplayObject must be a child of the caller');return t},t.prototype.setChildIndex=function(e,t){if(0>t||t>=this.children.length)throw new Error('The index '+t+' supplied is out of bounds '+this.children.length);var r=this.getChildIndex(e);(0,s.removeItems)(this.children,r,1),this.children.splice(t,0,e),this.onChildrenChange(t)},t.prototype.getChildAt=function(e){if(0>e||e>=this.children.length)throw new Error('getChildAt: Index ('+e+') does not exist.');return this.children[e]},t.prototype.removeChild=function(e){var t=arguments.length;if(1<t)for(var r=0;r<t;r++)this.removeChild(arguments[r]);else{var n=this.children.indexOf(e);if(-1===n)return null;e.parent=null,e.transform._parentID=-1,(0,s.removeItems)(this.children,n,1),this._boundsID++,this.onChildrenChange(n),e.emit('removed',this)}return e},t.prototype.removeChildAt=function(e){var t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,(0,s.removeItems)(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit('removed',this),t},t.prototype.removeChildren=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1],r=e,n='number'==typeof t?t:this.children.length,a=n-r,o=void 0;if(0<a&&a<=n){o=this.children.splice(r,a);for(var s=0;s<o.length;++s)o[s].parent=null,o[s].transform&&(o[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(var i=0;i<o.length;++i)o[i].emit('removed',this);return o}if(0==a&&0===this.children.length)return[];throw new RangeError('removeChildren: numeric values are outside the acceptable range.')},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,t=this.children.length,r;e<t;++e)r=this.children[e],r.visible&&r.updateTransform()},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0,t;e<this.children.length;e++)(t=this.children[e],t.visible&&t.renderable)&&(t.calculateBounds(),t._mask?(t._mask.calculateBounds(),this._bounds.addBoundsMask(t._bounds,t._mask._bounds)):t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds));this._lastBoundsID=this._boundsID},t.prototype._calculateBounds=function(){},t.prototype.renderWebGL=function(e){if(this.visible&&!(0>=this.worldAlpha)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(e);else{this._renderWebGL(e);for(var t=0,r=this.children.length;t<r;++t)this.children[t].renderWebGL(e)}},t.prototype.renderAdvancedWebGL=function(e){e.flush();var t=this._filters,r=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var n=0;n<t.length;n++)t[n].enabled&&this._enabledFilters.push(t[n]);this._enabledFilters.length&&e.filterManager.pushFilter(this,this._enabledFilters)}r&&e.maskManager.pushMask(this,this._mask),this._renderWebGL(e);for(var a=0,o=this.children.length;a<o;a++)this.children[a].renderWebGL(e);e.flush(),r&&e.maskManager.popMask(this,this._mask),t&&this._enabledFilters&&this._enabledFilters.length&&e.filterManager.popFilter()},t.prototype._renderWebGL=function(){},t.prototype._renderCanvas=function(){},t.prototype.renderCanvas=function(e){if(this.visible&&!(0>=this.worldAlpha)&&this.renderable){this._mask&&e.maskManager.pushMask(this._mask),this._renderCanvas(e);for(var t=0,r=this.children.length;t<r;++t)this.children[t].renderCanvas(e);this._mask&&e.maskManager.popMask(e)}},t.prototype.destroy=function(t){e.prototype.destroy.call(this);var r='boolean'==typeof t?t:t&&t.children,n=this.removeChildren(0,this.children.length);if(r)for(var a=0;a<n.length;++a)n[a].destroy(t)},i(t,[{key:'width',get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var t=this.getLocalBounds().width;this.scale.x=0===t?1:e/t,this._width=e}},{key:'height',get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var t=this.getLocalBounds().height;this.scale.y=0===t?1:e/t,this._height=e}}]),t}(l.default);t.default=u,u.prototype.containerUpdateTransform=u.prototype.updateTransform},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(57),d=n(s),l=r(122),u=n(l),p=r(59),c=n(p),h=r(123),f=n(h),y=r(2),m=r(0),_=r(3),x=n(_),b=function(e){function t(r,n,i){a(this,t);var s=o(this,e.call(this,'Canvas',r,n,i));return s.type=m.RENDERER_TYPE.CANVAS,s.rootContext=s.view.getContext('2d',{alpha:s.transparent}),s.context=s.rootContext,s.refresh=!0,s.maskManager=new u.default(s),s.smoothProperty='imageSmoothingEnabled',s.rootContext.imageSmoothingEnabled||(s.rootContext.webkitImageSmoothingEnabled?s.smoothProperty='webkitImageSmoothingEnabled':s.rootContext.mozImageSmoothingEnabled?s.smoothProperty='mozImageSmoothingEnabled':s.rootContext.oImageSmoothingEnabled?s.smoothProperty='oImageSmoothingEnabled':s.rootContext.msImageSmoothingEnabled&&(s.smoothProperty='msImageSmoothingEnabled')),s.initPlugins(),s.blendModes=(0,f.default)(),s._activeBlendMode=null,s.renderingToScreen=!1,s.resize(s.options.width,s.options.height),s}return i(t,e),t.prototype.render=function(e,t,r,n,a){if(this.view){this.renderingToScreen=!t,this.emit('prerender');var o=this.resolution;t?(t=t.baseTexture||t,!t._canvasRenderTarget&&(t._canvasRenderTarget=new c.default(t.width,t.height,t.resolution),t.source=t._canvasRenderTarget.canvas,t.valid=!0),this.context=t._canvasRenderTarget.context,this.resolution=t._canvasRenderTarget.resolution):this.context=this.rootContext;var i=this.context;if(t||(this._lastObjectRendered=e),!a){var s=e.parent,d=this._tempDisplayObjectParent.transform.worldTransform;n?(n.copy(d),this._tempDisplayObjectParent.transform._worldID=-1):d.identity(),e.parent=this._tempDisplayObjectParent,e.updateTransform(),e.parent=s}i.save(),i.setTransform(1,0,0,1,0,0),i.globalAlpha=1,this._activeBlendMode=m.BLEND_MODES.NORMAL,i.globalCompositeOperation=this.blendModes[m.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(i.fillStyle='black',i.clear()),(void 0===r?this.clearBeforeRender:r)&&this.renderingToScreen&&(this.transparent?i.clearRect(0,0,this.width,this.height):(i.fillStyle=this._backgroundColorString,i.fillRect(0,0,this.width,this.height)));var l=this.context;this.context=i,e.renderCanvas(this),this.context=l,i.restore(),this.resolution=o,this.emit('postrender')}},t.prototype.clear=function(e){var t=this.context;e=e||this._backgroundColorString,!this.transparent&&e?(t.fillStyle=e,t.fillRect(0,0,this.width,this.height)):t.clearRect(0,0,this.width,this.height)},t.prototype.setBlendMode=function(e){this._activeBlendMode===e||(this._activeBlendMode=e,this.context.globalCompositeOperation=this.blendModes[e])},t.prototype.destroy=function(t){this.destroyPlugins(),e.prototype.destroy.call(this,t),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},t.prototype.resize=function(t,r){e.prototype.resize.call(this,t,r),this.smoothProperty&&(this.rootContext[this.smoothProperty]=x.default.SCALE_MODE===m.SCALE_MODES.LINEAR)},t.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},t}(d.default);t.default=b,y.pluginTarget.mixin(b)},function(e,t){'use strict';function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=function(){function e(t){r(this,e),this.renderer=t,this.renderer.on('context',this.onContextChange,this)}return e.prototype.onContextChange=function(){},e.prototype.destroy=function(){this.renderer.off('context',this.onContextChange,this),this.renderer=null},e}();t.default=n},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(e instanceof Array){if('precision'!==e[0].substring(0,9)){var r=e.slice(0);return r.unshift('precision '+t+' float;'),r}}else if('precision'!==e.trim().substring(0,9))return'precision '+t+' float;\n'+e;return e}t.__esModule=!0;var s=r(6),d=r(3),l=function(e){return e&&e.__esModule?e:{default:e}}(d),u=function(e){function t(r,o,s,d,u){return n(this,t),a(this,e.call(this,r,i(o,u||l.default.PRECISION_VERTEX),i(s,u||l.default.PRECISION_FRAGMENT),void 0,d))}return o(t,e),t}(s.GLShader);t.default=u},function(e,t,r){'use strict';var n=r(176).default,a=r(37).default,o=r(84),i=r(85);n.Resource=a,n.async=o,n.base64=i,e.exports=n,e.exports.default=n},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(1),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(s),l=r(8),u=function(e){return e&&e.__esModule?e:{default:e}}(l),p=new d.Point,c=new d.Polygon,h=function(e){function t(r,o,i,s,l){n(this,t);var p=a(this,e.call(this));return p._texture=r||u.default.EMPTY,p.uvs=i||new Float32Array([0,0,1,0,1,1,0,1]),p.vertices=o||new Float32Array([0,0,100,0,100,100,0,100]),p.indices=s||new Uint16Array([0,1,3,2]),p.dirty=0,p.indexDirty=0,p.vertexDirty=0,p.autoUpdate=!0,p.blendMode=d.BLEND_MODES.NORMAL,p.canvasPadding=d.settings.MESH_CANVAS_PADDING,p.drawMode=l||t.DRAW_MODES.TRIANGLE_MESH,p.shader=null,p.tintRgb=new Float32Array([1,1,1]),p._glDatas={},p._uvTransform=new d.TextureMatrix(p._texture),p.uploadUvTransform=!1,p.pluginName='mesh',p}return o(t,e),t.prototype._renderWebGL=function(e){this.refresh(),e.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},t.prototype._renderCanvas=function(e){this.refresh(),e.plugins[this.pluginName].render(this)},t.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},t.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},t.prototype.refresh=function(e){this.autoUpdate&&this.vertexDirty++,this._uvTransform.update(e)&&this._refresh()},t.prototype._refresh=function(){},t.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},t.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,p);for(var r=this.vertices,n=c.points,a=this.indices,o=this.indices.length,s=this.drawMode===t.DRAW_MODES.TRIANGLES?3:1,d=0;d+2<o;d+=s){var i=2*a[d],l=2*a[d+1],u=2*a[d+2];if(n[0]=r[i],n[1]=r[i+1],n[2]=r[l],n[3]=r[l+1],n[4]=r[u],n[5]=r[u+1],c.contains(p.x,p.y))return!0}return!1},t.prototype.destroy=function(t){for(var r in this._glDatas){var n=this._glDatas[r];n.destroy?n.destroy():(n.vertexBuffer&&(n.vertexBuffer.destroy(),n.vertexBuffer=null),n.indexBuffer&&(n.indexBuffer.destroy(),n.indexBuffer=null),n.uvBuffer&&(n.uvBuffer.destroy(),n.uvBuffer=null),n.vao&&(n.vao.destroy(),n.vao=null))}this._glDatas=null,e.prototype.destroy.call(this,t)},i(t,[{key:'texture',get:function(){return this._texture},set:function(e){this._texture===e||(this._texture=e,e&&(e.baseTexture.hasLoaded?this._onTextureUpdate():e.once('update',this._onTextureUpdate,this)))}},{key:'tint',get:function(){return d.utils.rgb2hex(this.tintRgb)},set:function(e){this.tintRgb=d.utils.hex2rgb(e,this.tintRgb)}}]),t}(d.Container);t.default=h,h.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=r(13),s=function(e){return e&&e.__esModule?e:{default:e}}(i),d=function(e){function t(){return n(this,t),a(this,e.apply(this,arguments))}return o(t,e),t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.flush=function(){},t.prototype.render=function(){},t}(s.default);t.default=d},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(57),d=n(s),l=r(125),u=n(l),p=r(128),c=n(p),h=r(129),f=n(h),y=r(19),m=n(y),_=r(17),x=n(_),b=r(131),v=n(b),T=r(10),E=n(T),S=r(132),C=n(S),P=r(133),A=n(P),M=r(135),w=n(M),O=r(136),D=n(O),R=r(2),I=r(6),k=n(I),L=r(0),F=0,N=function(e){function t(r,n,i){a(this,t);var s=o(this,e.call(this,'WebGL',r,n,i));return s.legacy=s.options.legacy,s.legacy&&(k.default.VertexArrayObject.FORCE_NATIVE=!0),s.type=L.RENDERER_TYPE.WEBGL,s.handleContextLost=s.handleContextLost.bind(s),s.handleContextRestored=s.handleContextRestored.bind(s),s.view.addEventListener('webglcontextlost',s.handleContextLost,!1),s.view.addEventListener('webglcontextrestored',s.handleContextRestored,!1),s._contextOptions={alpha:s.transparent,antialias:s.options.antialias,premultipliedAlpha:s.transparent&&'notMultiplied'!==s.transparent,stencil:!0,preserveDrawingBuffer:s.options.preserveDrawingBuffer,powerPreference:s.options.powerPreference},s._backgroundColorRgba[3]=s.transparent?0:1,s.maskManager=new u.default(s),s.stencilManager=new c.default(s),s.emptyRenderer=new x.default(s),s.currentRenderer=s.emptyRenderer,s.textureManager=null,s.filterManager=null,s.initPlugins(),s.options.context&&(0,D.default)(s.options.context),s.gl=s.options.context||k.default.createContext(s.view,s._contextOptions),s.CONTEXT_UID=F++,s.state=new A.default(s.gl),s.renderingToScreen=!0,s.boundTextures=null,s._activeShader=null,s._activeVao=null,s._activeRenderTarget=null,s._initContext(),s.drawModes=(0,w.default)(s.gl),s._nextTextureLocation=0,s.setBlendMode(0),s}return i(t,e),t.prototype._initContext=function(){var e=this.gl;e.isContextLost()&&e.getExtension('WEBGL_lose_context')&&e.getExtension('WEBGL_lose_context').restoreContext();var t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=Array(t),this.emptyTextures=Array(t),this.textureManager=new v.default(this),this.filterManager=new f.default(this),this.textureGC=new C.default(this),this.state.resetToDefault(),this.rootRenderTarget=new m.default(e,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var r=new k.default.GLTexture.fromData(e,null,1,1),n={_glTextures:{}};n._glTextures[this.CONTEXT_UID]={};for(var a=0,o;a<t;a++)o=new E.default,o._glTextures[this.CONTEXT_UID]=r,this.boundTextures[a]=n,this.emptyTextures[a]=o,this.bindTexture(null,a);this.emit('context',e),this.resize(this.screen.width,this.screen.height)},t.prototype.render=function(e,t,r,n,a){if(this.renderingToScreen=!t,this.emit('prerender'),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,t||(this._lastObjectRendered=e),!a){var o=e.parent;e.parent=this._tempDisplayObjectParent,e.updateTransform(),e.parent=o}this.bindRenderTexture(t,n),this.currentRenderer.start(),(void 0===r?this.clearBeforeRender:r)&&this._activeRenderTarget.clear(),e.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit('postrender')}},t.prototype.setObjectRenderer=function(e){this.currentRenderer===e||(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.resize=function(e,t){d.default.prototype.resize.call(this,e,t),this.rootRenderTarget.resize(e,t),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},t.prototype.setBlendMode=function(e){this.state.setBlendMode(e)},t.prototype.clear=function(e){this._activeRenderTarget.clear(e)},t.prototype.setTransform=function(e){this._activeRenderTarget.transform=e},t.prototype.clearRenderTexture=function(e,t){var r=e.baseTexture,n=r._glRenderTargets[this.CONTEXT_UID];return n&&n.clear(t),this},t.prototype.bindRenderTexture=function(e,t){var r;if(e){var n=e.baseTexture;n._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(n,0),this.unbindTexture(n),r=n._glRenderTargets[this.CONTEXT_UID],r.setFrame(e.frame)}else r=this.rootRenderTarget;return r.transform=t,this.bindRenderTarget(r),this},t.prototype.bindRenderTarget=function(e){return e!==this._activeRenderTarget&&(this._activeRenderTarget=e,e.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=e.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(e.stencilMaskStack)),this},t.prototype.bindShader=function(e,t){return this._activeShader!==e&&(this._activeShader=e,e.bind(),!1!==t&&(e.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},t.prototype.bindTexture=function(e,t,r){if(e=e||this.emptyTextures[t],e=e.baseTexture||e,e.touched=this.textureGC.count,!r){for(var n=0;n<this.boundTextures.length;n++)if(this.boundTextures[n]===e)return n;void 0===t&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,t=this.boundTextures.length-this._nextTextureLocation-1)}else t=t||0;var a=this.gl,o=e._glTextures[this.CONTEXT_UID];return o?(this.boundTextures[t]=e,a.activeTexture(a.TEXTURE0+t),a.bindTexture(a.TEXTURE_2D,o.texture)):this.textureManager.updateTexture(e,t),t},t.prototype.unbindTexture=function(e){var t=this.gl;e=e.baseTexture||e;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]===e&&(this.boundTextures[r]=this.emptyTextures[r],t.activeTexture(t.TEXTURE0+r),t.bindTexture(t.TEXTURE_2D,this.emptyTextures[r]._glTextures[this.CONTEXT_UID].texture));return this},t.prototype.createVao=function(){return new k.default.VertexArrayObject(this.gl,this.state.attribState)},t.prototype.bindVao=function(e){return this._activeVao===e?this:(e?e.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=e,this)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.emptyTextures[e];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},t.prototype.handleContextLost=function(e){e.preventDefault()},t.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()},t.prototype.destroy=function(t){this.destroyPlugins(),this.view.removeEventListener('webglcontextlost',this.handleContextLost),this.view.removeEventListener('webglcontextrestored',this.handleContextRestored),this.textureManager.destroy(),e.prototype.destroy.call(this,t),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension('WEBGL_lose_context')&&this.gl.getExtension('WEBGL_lose_context').loseContext(),this.gl=null},t}(d.default);t.default=N,R.pluginTarget.mixin(N)},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=r(4),o=r(0),i=r(3),s=function(e){return e&&e.__esModule?e:{default:e}}(i),d=r(6),l=function(){function e(t,r,i,l,u,p){n(this,e),this.gl=t,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new a.Rectangle(0,0,1,1),this.resolution=u||s.default.RESOLUTION,this.projectionMatrix=new a.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new a.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey='',this.scaleMode=void 0===l?s.default.SCALE_MODE:l,this.root=p||!1,this.root?(this.frameBuffer=new d.GLFramebuffer(t,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=d.GLFramebuffer.createRGBA(t,100,100),this.scaleMode===o.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(r,i)}return e.prototype.clear=function(e){var t=e||this.clearColor;this.frameBuffer.clear(t[0],t[1],t[2],t[3])},e.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},e.prototype.setFrame=function(e,t){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||this.destinationFrame},e.prototype.activate=function(){var e=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame===this.sourceFrame?e.disable(e.SCISSOR_TEST):(e.enable(e.SCISSOR_TEST),e.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,0|this.destinationFrame.width*this.resolution,0|this.destinationFrame.height*this.resolution)),e.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,0|this.destinationFrame.width*this.resolution,0|this.destinationFrame.height*this.resolution)},e.prototype.calculateProjection=function(e,t){var r=this.projectionMatrix;t=t||e,r.identity(),this.root?(r.a=2*(1/e.width),r.d=2*(-1/e.height),r.tx=-1-t.x*r.a,r.ty=1-t.y*r.d):(r.a=2*(1/e.width),r.d=2*(1/e.height),r.tx=-1-t.x*r.a,r.ty=-1-t.y*r.d)},e.prototype.resize=function(e,t){if(e|=0,t|=0,this.size.width!==e||this.size.height!==t){this.size.width=e,this.size.height=t,this.defaultFrame.width=e,this.defaultFrame.height=t,this.frameBuffer.resize(e*this.resolution,t*this.resolution);var r=this.frame||this.size;this.calculateProjection(r)}},e.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},e}();t.default=l},function(e,t,r){'use strict';function n(e,t){var n=e.points;if(0!==n.length){var a=new s.Point(n[0],n[1]),l=new s.Point(n[n.length-2],n[n.length-1]);if(a.x===l.x&&a.y===l.y){n=n.slice(),n.pop(),n.pop(),l=new s.Point(n[n.length-2],n[n.length-1]);var u=l.x+.5*(a.x-l.x),p=l.y+.5*(a.y-l.y);n.unshift(u,p),n.push(u,p)}var c=t.points,h=t.indices,f=n.length/2,y=n.length,m=c.length/6,_=e.lineWidth/2,x=(0,d.hex2rgb)(e.lineColor),v=e.lineAlpha,T=x[0]*v,r=x[1]*v,E=x[2]*v,b=n[0],S=n[1],C=n[2],P=n[3],A=0,M=0,w=-(S-P),O=b-C,D=0,R=0,I=0,k=0,L=o(w*w+O*O);w/=L,O/=L,w*=_,O*=_;var F=e.lineAlignment,N=2*(1-F),B=2*F;c.push(b-w*N,S-O*N,T,r,E,v),c.push(b+w*B,S+O*B,T,r,E,v);for(var U=1;U<f-1;++U){b=n[2*(U-1)],S=n[2*(U-1)+1],C=n[2*U],P=n[2*U+1],A=n[2*(U+1)],M=n[2*(U+1)+1],w=-(S-P),O=b-C,L=o(w*w+O*O),w/=L,O/=L,w*=_,O*=_,D=-(P-M),R=C-A,L=o(D*D+R*R),D/=L,R/=L,D*=_,R*=_;var i=-O+S-(-O+P),X=-w+C-(-w+b),j=(-w+b)*(-O+P)-(-w+C)*(-O+S),G=-R+M-(-R+P),H=-D+C-(-D+A),W=(-D+A)*(-R+P)-(-D+C)*(-R+M),V=i*H-G*X;if(.1>Math.abs(V)){V+=10.1,c.push(C-w*N,P-O*N,T,r,E,v),c.push(C+w*B,P+O*B,T,r,E,v);continue}var Y=(X*W-H*j)/V,z=(G*j-i*W)/V,q=(Y-C)*(Y-C)+(z-P)*(z-P);q>196*_*_?(I=w-D,k=O-R,L=o(I*I+k*k),I/=L,k/=L,I*=_,k*=_,c.push(C-I*N,P-k*N),c.push(T,r,E,v),c.push(C+I*B,P+k*B),c.push(T,r,E,v),c.push(C-I*B*N,P-k*N),c.push(T,r,E,v),y++):(c.push(C+(Y-C)*N,P+(z-P)*N),c.push(T,r,E,v),c.push(C-(Y-C)*B,P-(z-P)*B),c.push(T,r,E,v))}b=n[2*(f-2)],S=n[2*(f-2)+1],C=n[2*(f-1)],P=n[2*(f-1)+1],w=-(S-P),O=b-C,L=o(w*w+O*O),w/=L,O/=L,w*=_,O*=_,c.push(C-w*N,P-O*N),c.push(T,r,E,v),c.push(C+w*B,P+O*B),c.push(T,r,E,v),h.push(m);for(var K=0;K<y;++K)h.push(m++);h.push(m-1)}}function a(e,t){var n=0,a=e.points;if(0!==a.length){var o=t.points,i=a.length/2,s=(0,d.hex2rgb)(e.lineColor),l=e.lineAlpha,u=s[0]*l,r=s[1]*l,p=s[2]*l;for(n=1;n<i;n++){var c=a[2*(n-1)],h=a[2*(n-1)+1],f=a[2*n],y=a[2*n+1];o.push(c,h),o.push(u,r,p,l),o.push(f,y),o.push(u,r,p,l)}}}var o=Math.sqrt;t.__esModule=!0,t.default=function(e,t,r){e.nativeLines?a(e,r):n(e,t)};var s=r(4),d=r(2)},function(e,t){var r=Math.max,n=Math.cos,o=Math.sin,a=Math.pow,i=Math.abs,s=Math.sqrt,d=Math.PI,l,u,l,p;(function(){e.exports=0;(function(){var r='0.5.0',n='hasOwnProperty',a=/[\.\/]/,o=/\s*,\s*/,s='*',i=function(e,t){return e-t},d={n:{}},p=function(){for(var e=0,t=this.length;e<t;e++)if('undefined'!=typeof this[e])return this[e]},c=function(){for(var e=this.length;--e;)if('undefined'!=typeof this[e])return this[e]},h=Object.prototype.toString,y=String,m=Array.isArray||function(e){return e instanceof Array||'[object Array]'==h.call(e)},f,_;eve=function(e,t){var r=_,n=Array.prototype.slice.call(arguments,2),a=eve.listeners(e),o=0,s=[],d={},u=[],h=f,y;u.firstDefined=p,u.lastDefined=c,f=e,_=0;for(var l=0,m=a.length;l<m;l++)'zIndex'in a[l]&&(s.push(a[l].zIndex),0>a[l].zIndex&&(d[a[l].zIndex]=a[l]));for(s.sort(i);0>s[o];)if(y=d[s[o++]],u.push(y.apply(t,n)),_)return _=r,u;for(l=0;l<m;l++)if(y=a[l],'zIndex'in y){if(y.zIndex==s[o]){if(u.push(y.apply(t,n)),_)break;do if(o++,y=d[s[o]],y&&u.push(y.apply(t,n)),_)break;while(y)}else d[y.zIndex]=y;}else if(u.push(y.apply(t,n)),_)break;return _=r,f=h,u},eve._events=d,eve.listeners=function(t){var r=m(t)?t:t.split(a),n=d,e=[n],o=[],l,u,p,c,i,h,f,y;for(c=0,i=r.length;c<i;c++){for(y=[],h=0,f=e.length;h<f;h++)for(n=e[h].n,u=[n[r[c]],n[s]],p=2;p--;)l=u[p],l&&(y.push(l),o=o.concat(l.f||[]));e=y}return o},eve.separator=function(e){e?(e=y(e).replace(/(?=[\.\^\]\[\-])/g,'\\'),e='['+e+']',a=new RegExp(e)):a=/[\.\/]/},eve.on=function(e,t){if('function'!=typeof t)return function(){};for(var r=m(e)?m(e[0])?e:[e]:y(e).split(o),n=0,i=r.length;n<i;n++)(function(r){for(var n=m(r)?r:y(r).split(a),o=d,e=0,i=n.length,s;e<i;e++)o=o.n,o=o.hasOwnProperty(n[e])&&o[n[e]]||(o[n[e]]={n:{}});for(o.f=o.f||[],e=0,i=o.f.length;e<i;e++)if(o.f[e]==t){s=!0;break}s||o.f.push(t)})(r[n]);return function(e){+e==+e&&(t.zIndex=+e)}},eve.f=function(e){var t=[].slice.call(arguments,1);return function(){eve.apply(null,[e,null].concat(t).concat([].slice.call(arguments,0)))}},eve.stop=function(){_=1},eve.nt=function(e){var t=m(f)?f.join('.'):f;return e?new RegExp('(?:\\.|\\/|^)'+e+'(?:\\.|\\/|$)').test(t):t},eve.nts=function(){return m(f)?f:f.split(a)},eve.off=eve.unbind=function(t,r){if(!t)return void(eve._events=d={n:{}});var l=m(t)?m(t[0])?t:[t]:y(t).split(o);if(1<l.length){for(var u=0,i=l.length;u<i;u++)eve.off(l[u],r);return}l=m(t)?t:y(t).split(a);var p=[d],c=[],h,f,_,u,i,x,b;for(u=0,i=l.length;u<i;u++)for(x=0;x<p.length;x+=_.length-2){if(_=[x,1],h=p[x].n,l[u]!=s)h[l[u]]&&(_.push(h[l[u]]),c.unshift({n:h,name:l[u]}));else for(f in h)h[n](f)&&(_.push(h[f]),c.unshift({n:h,name:f}));p.splice.apply(p,_)}for(u=0,i=p.length;u<i;u++)for(h=p[u];h.n;){if(r){if(h.f){for(x=0,b=h.f.length;x<b;x++)if(h.f[x]==r){h.f.splice(x,1);break}h.f.length||delete h.f}for(f in h.n)if(h.n[n](f)&&h.n[f].f){var v=h.n[f].f;for(x=0,b=v.length;x<b;x++)if(v[x]==r){v.splice(x,1);break}v.length||delete h.n[f].f}}else for(f in delete h.f,h.n)h.n[n](f)&&h.n[f].f&&delete h.n[f].f;h=h.n}prune:for(u=0,i=c.length;u<i;u++){for(f in h=c[u],h.n[h.name].f)continue prune;for(f in h.n[h.name].n)continue prune;delete h.n[h.name]}},eve.once=function(e,t){var r=function(){return eve.off(e,r),t.apply(this,arguments)};return eve.on(e,r)},eve.version=r,eve.toString=function(){return'You are running Eve '+r},e.exports?e.exports=eve:(l=[],!(u=function(){return eve}.apply(t,l)))})(this),function(r,n){l=[u],p=function(e){return n(r,e)}.apply(t,l),!(void 0!==p&&(e.exports=p))}(window||this,function(e,t){var l=function(t){var r={},n=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){return setTimeout(e,16,new Date().getTime()),!0},l=Array.isArray||function(e){return e instanceof Array||'[object Array]'==Object.prototype.toString.call(e)},u=0,p='M'+(+new Date).toString(36),c=function(){return p+(u++).toString(36)},h=Date.now||function(){return+new Date},f=function(e){var t=this;if(null==e)return t.s;var r=t.s-e;t.b+=t.dur*r,t.B+=t.dur*r,t.s=e},y=function(e){var t=this;return null==e?t.spd:void(t.spd=e)},m=function(e){var t=this;return null==e?t.dur:void(t.s=t.s*e/t.dur,t.dur=e)},_=function(){var e=this;delete r[e.id],e.update(),t('mina.stop.'+e.id,e)},x=function(){var e=this;e.pdif||(delete r[e.id],e.update(),e.pdif=e.get()-e.b)},v=function(){var e=this;e.pdif&&(e.b=e.get()-e.pdif,delete e.pdif,r[e.id]=e,E())},T=function(){var e=this,t;if(l(e.start)){t=[];for(var r=0,n=e.start.length;r<n;r++)t[r]=+e.start[r]+(e.end[r]-e.start[r])*e.easing(e.s)}else t=+e.start+(e.end-e.start)*e.easing(e.s);e.set(t)},E=function(e){if(!e)return void(C||(C=n(E)));var o=0;for(var s in r)if(r.hasOwnProperty(s)){var i=r[s],a=i.get();o++,i.s=(a-i.b)/(i.dur/i.spd),1<=i.s&&(delete r[s],i.s=1,o--,function(e){setTimeout(function(){t('mina.finish.'+e.id,e)})}(i)),i.update()}C=!!o&&n(E)},S=function(e,t,n,o,s,d,l){var u={id:c(),start:e,end:t,b:n,s:0,dur:o-n,spd:1,get:s,set:d,easing:l||S.linear,status:f,speed:y,duration:m,stop:_,pause:x,resume:v,update:T};r[u.id]=u;var p=0,h;for(h in r)if(r.hasOwnProperty(h)&&(p++,2==p))break;return 1==p&&E(),u},C;return S.time=h,S.getById=function(e){return r[e]||null},S.linear=function(e){return e},S.easeout=function(e){return a(e,1.7)},S.easein=function(e){return a(e,.48)},S.easeinout=function(e){if(1==e)return 1;if(0==e)return 0;var r=.48-e/1.04,n=s(.1734+r*r),o=n-r,d=a(i(o),1/3)*(0>o?-1:1),l=-n-r,u=a(i(l),1/3)*(0>l?-1:1),p=d+u+.5;return 3*(1-p)*p*p+p*p*p},S.backin=function(e){if(1==e)return 1;var t=1.70158;return e*e*((t+1)*e-t)},S.backout=function(e){if(0==e)return 0;--e;var t=1.70158;return e*e*((t+1)*e+t)+1},S.elastic=function(e){return e==!!e?e:a(2,-10*e)*o((e-.075)*(2*d)/.3)+1},S.bounce=function(e){var t=7.5625,r=2.75,n;return e<1/r?n=t*e*e:e<2/r?(e-=1.5/r,n=t*e*e+.75):e<2.5/r?(e-=2.25/r,n=t*e*e+.9375):(e-=2.625/r,n=t*e*e+.984375),n},e.mina=S,S}('undefined'==typeof t?function(){}:t),u=function(e){function n(e,t){if(e){if(e.nodeType)return _(e);if(a(e,'array')&&n.set)return n.set.apply(n,e);if(e instanceof y)return e;if(null==t)return e=b.doc.querySelector(e+''),_(e)}return e=null==e?'100%':e,t=null==t?'100%':t,new m(e,t)}function r(e,t){if(t){if('#text'==e&&(e=b.doc.createTextNode(t.text||t['#text']||'')),'#comment'==e&&(e=b.doc.createComment(t.text||t['#text']||'')),'string'==typeof e&&(e=r(e)),'string'==typeof t)return 1==e.nodeType?'xlink:'==t.substring(0,6)?e.getAttributeNS(q,t.substring(6)):'xml:'==t.substring(0,4)?e.getAttributeNS(K,t.substring(4)):e.getAttribute(t):'text'==t?e.nodeValue:null;if(1==e.nodeType){for(var n in t)if(t[v](n)){var a=T(t[n]);a?'xlink:'==n.substring(0,6)?e.setAttributeNS(q,n.substring(6),a):'xml:'==n.substring(0,4)?e.setAttributeNS(K,n.substring(4),a):e.setAttribute(n,a):e.removeAttribute(n)}}else'text'in t&&(e.nodeValue=t.text)}else e=b.doc.createElementNS(K,e);return e}function a(e,t){return t=T.prototype.toLowerCase.call(t),'finite'==t?isFinite(e):!!('array'==t&&(e instanceof Array||Array.isArray&&Array.isArray(e)))||'null'==t&&null===e||t==typeof e&&null!==e||'object'==t&&e===Object(e)||S.call(e).slice(8,-1).toLowerCase()==t}function o(e){if('function'==typeof e||Object(e)!==e)return e;var t=new e.constructor;for(var r in e)e[v](r)&&(t[r]=o(e[r]));return t}function i(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return e.push(e.splice(r,1)[0])}function d(e,t,r){function n(){var a=Array.prototype.slice.call(arguments,0),o=a.join('\u2400'),s=n.cache=n.cache||{},d=n.count=n.count||[];return s[v](o)?(i(d,o),r?r(s[o]):s[o]):(1e3<=d.length&&delete s[d.shift()],d.push(o),s[o]=e.apply(t,a),r?r(s[o]):s[o])}return n}function l(e,t,r,n,a,o){if(null==a){var i=e-r,s=t-n;return i||s?(180+180*A.atan2(-s,-i)/R+360)%360:0}return l(e,t,a,o)-l(r,n,a,o)}function u(e){return e%360*R/180}function p(e){return e.node.ownerSVGElement&&_(e.node.ownerSVGElement)||n.select('svg')}function c(e){a(e,'array')||(e=Array.prototype.slice.call(arguments,0));for(var t=0,r=0,n=this.node;this[t];)delete this[t++];for(t=0;t<e.length;t++)'set'==e[t].type?e[t].forEach(function(e){n.appendChild(e.node)}):n.appendChild(e[t].node);var o=n.childNodes;for(t=0;t<o.length;t++)this[r++]=_(o[t]);return this}function y(e){if(e.snap in Z)return Z[e.snap];var t;try{t=e.ownerSVGElement}catch(t){}this.node=e,t&&(this.paper=new m(t)),this.type=e.tagName||e.nodeName;var r=this.id=z(this);if(this.anims={},this._={transform:[]},e.snap=r,Z[r]=this,'g'==this.type&&(this.add=c),this.type in{g:1,mask:1,pattern:1,symbol:1})for(var n in m.prototype)m.prototype[v](n)&&(this[n]=m.prototype[n])}function h(e){this.node=e}function f(e,t){var n=r(e);t.appendChild(n);var a=_(n);return a}function m(e,t){var n=m.prototype,a,o,i;if(e&&e.tagName&&'svg'==e.tagName.toLowerCase()){if(e.snap in Z)return Z[e.snap];var s=e.ownerDocument;for(var d in a=new y(e),o=e.getElementsByTagName('desc')[0],i=e.getElementsByTagName('defs')[0],o||(o=r('desc'),o.appendChild(s.createTextNode('Created with Snap')),a.node.appendChild(o)),i||(i=r('defs'),a.node.appendChild(i)),a.defs=i,n)n[v](d)&&(a[d]=n[d]);a.paper=a.root=a}else a=f('svg',b.doc.body),r(a.node,{height:t,version:1.1,width:e,xmlns:K});return a}function _(e){return e?e instanceof y||e instanceof h?e:e.tagName&&'svg'==e.tagName.toLowerCase()?new m(e):e.tagName&&'object'==e.tagName.toLowerCase()&&'image/svg+xml'==e.type?new m(e.contentDocument.getElementsByTagName('svg')[0]):new y(e):e}function x(e,t){for(var r=0,n=e.length;r<n;r++){var a={type:e[r].type,attr:e[r].attr()},o=e[r].children();t.push(a),o.length&&x(o,a.childNodes=[])}}n.version='0.5.1',n.toString=function(){return'Snap v'+this.version},n._={};var b={win:e.window,doc:e.window.document};n._.glob=b;var v='hasOwnProperty',T=String,C=parseFloat,P=parseInt,A=Math,w=A.max,O=A.min,M=A.abs,D=A.pow,R=A.PI,I=A.round,k='',E=' ',S=Object.prototype.toString,L=/^url\(['"]?([^\)]+?)['"]?\)$/i,F=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i,N=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,B=n._.separator=/[,\s]+/,U=/[\s]/g,X=/[\s]*,[\s]*/,j={hs:1,rg:1},G=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/ig,H=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/ig,W=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\s]*,?[\s]*/ig,V=0,Y='S'+(+new Date).toString(36),z=function(e){return(e&&e.type?e.type:k)+Y+(V++).toString(36)},q='http://www.w3.org/1999/xlink',K='http://www.w3.org/2000/svg',Z={},J=n.url=function(e){return'url(\'#'+e+'\')'};n._.$=r,n._.id=z,n.format=function(){var e=/\{([^\}]+)\}/g,t=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,r=function(e,r,n){var a=n;return r.replace(t,function(e,t,r,n,o){t=t||n,a&&(t in a&&(a=a[t]),'function'==typeof a&&o&&(a=a()))}),a=(null==a||a==n?e:a)+'',a};return function(t,n){return T(t).replace(e,function(e,t){return r(e,t,n)})}}(),n._.clone=o,n._.cacher=d,n.rad=u,n.deg=function(e){return 180*e/R%360},n.sin=function(e){return A.sin(n.rad(e))},n.tan=function(e){return A.tan(n.rad(e))},n.cos=function(e){return A.cos(n.rad(e))},n.asin=function(e){return n.deg(A.asin(e))},n.acos=function(e){return n.deg(A.acos(e))},n.atan=function(e){return n.deg(A.atan(e))},n.atan2=function(e){return n.deg(A.atan2(e))},n.angle=l,n.len=function(e,t,r,a){return s(n.len2(e,t,r,a))},n.len2=function(e,t,r,n){return(e-r)*(e-r)+(t-n)*(t-n)},n.closestPoint=function(e,t,r){function n(e){var n=e.x-t,a=e.y-r;return n*n+a*a}for(var a=e.node,o=a.getTotalLength(),i=.125*(o/a.pathSegList.numberOfItems),d=Infinity,l=0,u,p,c,h;l<=o;l+=i)(h=n(c=a.getPointAtLength(l)))<d&&(u=c,p=l,d=h);for(i*=.5;.5<i;){var f,y,m,_,x,b;0<=(m=p-i)&&(x=n(f=a.getPointAtLength(m)))<d?(u=f,p=m,d=x):(_=p+i)<=o&&(b=n(y=a.getPointAtLength(_)))<d?(u=y,p=_,d=b):i*=.5}return u={x:u.x,y:u.y,length:p,distance:s(d)},u},n.is=a,n.snapTo=function(e,t,r){if(r=a(r,'finite')?r:10,a(e,'array')){for(var n=e.length;n--;)if(M(e[n]-t)<=r)return e[n];}else{e=+e;var o=t%e;if(o<r)return t-o;if(o>e-r)return t-o+e}return t},n.getRGB=d(function(e){if(!e||!!((e=T(e)).indexOf('-')+1))return{r:-1,g:-1,b:-1,hex:'none',error:1,toString:te};if('none'==e)return{r:-1,g:-1,b:-1,hex:'none',toString:te};if(j[v](e.toLowerCase().substring(0,2))||'#'==e.charAt()||(e=Q(e)),!e)return{r:-1,g:-1,b:-1,hex:'none',error:1,toString:te};var r=e.match(F),o,i,s,d,l,t;return r?(r[2]&&(s=P(r[2].substring(5),16),i=P(r[2].substring(3,5),16),o=P(r[2].substring(1,3),16)),r[3]&&(s=P((l=r[3].charAt(3))+l,16),i=P((l=r[3].charAt(2))+l,16),o=P((l=r[3].charAt(1))+l,16)),r[4]&&(t=r[4].split(X),o=C(t[0]),'%'==t[0].slice(-1)&&(o*=2.55),i=C(t[1]),'%'==t[1].slice(-1)&&(i*=2.55),s=C(t[2]),'%'==t[2].slice(-1)&&(s*=2.55),'rgba'==r[1].toLowerCase().slice(0,4)&&(d=C(t[3])),t[3]&&'%'==t[3].slice(-1)&&(d/=100)),r[5])?(t=r[5].split(X),o=C(t[0]),'%'==t[0].slice(-1)&&(o/=100),i=C(t[1]),'%'==t[1].slice(-1)&&(i/=100),s=C(t[2]),'%'==t[2].slice(-1)&&(s/=100),('deg'==t[0].slice(-3)||'\xB0'==t[0].slice(-1))&&(o/=360),'hsba'==r[1].toLowerCase().slice(0,4)&&(d=C(t[3])),t[3]&&'%'==t[3].slice(-1)&&(d/=100),n.hsb2rgb(o,i,s,d)):r[6]?(t=r[6].split(X),o=C(t[0]),'%'==t[0].slice(-1)&&(o/=100),i=C(t[1]),'%'==t[1].slice(-1)&&(i/=100),s=C(t[2]),'%'==t[2].slice(-1)&&(s/=100),('deg'==t[0].slice(-3)||'\xB0'==t[0].slice(-1))&&(o/=360),'hsla'==r[1].toLowerCase().slice(0,4)&&(d=C(t[3])),t[3]&&'%'==t[3].slice(-1)&&(d/=100),n.hsl2rgb(o,i,s,d)):(o=O(A.round(o),255),i=O(A.round(i),255),s=O(A.round(s),255),d=O(w(d,0),1),r={r:o,g:i,b:s,toString:te},r.hex='#'+(16777216|s|i<<8|o<<16).toString(16).slice(1),r.opacity=a(d,'finite')?d:1,r):{r:-1,g:-1,b:-1,hex:'none',error:1,toString:te}},n),n.hsb=d(function(e,t,r){return n.hsb2rgb(e,t,r).hex}),n.hsl=d(function(e,t,r){return n.hsl2rgb(e,t,r).hex}),n.rgb=d(function(e,t,r,n){if(a(n,'finite')){var o=A.round;return'rgba('+[o(e),o(t),o(r),+n.toFixed(2)]+')'}return'#'+(16777216|r|t<<8|e<<16).toString(16).slice(1)});var Q=function(e){var t=b.doc.getElementsByTagName('head')[0]||b.doc.getElementsByTagName('svg')[0],r='rgb(255, 0, 0)';return Q=d(function(e){if('red'==e.toLowerCase())return r;t.style.color=r,t.style.color=e;var n=b.doc.defaultView.getComputedStyle(t,k).getPropertyValue('color');return n==r?null:n}),Q(e)},$=function(){return'hsb('+[this.h,this.s,this.b]+')'},ee=function(){return'hsl('+[this.h,this.s,this.l]+')'},te=function(){return 1==this.opacity||null==this.opacity?this.hex:'rgba('+[this.r,this.g,this.b,this.opacity]+')'},re=function(e,t,r){if(null==t&&a(e,'object')&&'r'in e&&'g'in e&&'b'in e&&(r=e.b,t=e.g,e=e.r),null==t&&a(e,string)){var o=n.getRGB(e);e=o.r,t=o.g,r=o.b}return(1<e||1<t||1<r)&&(e/=255,t/=255,r/=255),[e,t,r]},ne=function(e,t,i,s){e=A.round(255*e),t=A.round(255*t),i=A.round(255*i);var o={r:e,g:t,b:i,opacity:a(s,'finite')?s:1,hex:n.rgb(e,t,i),toString:te};return a(s,'finite')&&(o.opacity=s),o};n.color=function(e){var t;return a(e,'object')&&'h'in e&&'s'in e&&'b'in e?(t=n.hsb2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.opacity=1,e.hex=t.hex):a(e,'object')&&'h'in e&&'s'in e&&'l'in e?(t=n.hsl2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.opacity=1,e.hex=t.hex):(a(e,'string')&&(e=n.getRGB(e)),a(e,'object')&&'r'in e&&'g'in e&&'b'in e&&!('error'in e)?(t=n.rgb2hsl(e),e.h=t.h,e.s=t.s,e.l=t.l,t=n.rgb2hsb(e),e.v=t.b):(e={hex:'none'},e.r=e.g=e.b=e.h=e.s=e.v=e.l=-1,e.error=1)),e.toString=te,e},n.hsb2rgb=function(e,t,r,n){a(e,'object')&&'h'in e&&'s'in e&&'b'in e&&(r=e.b,t=e.s,n=e.o,e=e.h),e*=360;var o,i,s,d,l;return e=e%360/60,l=r*t,d=l*(1-M(e%2-1)),o=i=s=r-l,e=~~e,o+=[l,d,0,0,d,l][e],i+=[d,l,l,d,0,0][e],s+=[0,0,d,l,l,d][e],ne(o,i,s,n)},n.hsl2rgb=function(e,t,r,n){a(e,'object')&&'h'in e&&'s'in e&&'l'in e&&(r=e.l,t=e.s,e=e.h),(1<e||1<t||1<r)&&(e/=360,t/=100,r/=100),e*=360;var o,i,s,d,l;return e=e%360/60,l=2*t*(.5>r?r:1-r),d=l*(1-M(e%2-1)),o=i=s=r-l/2,e=~~e,o+=[l,d,0,0,d,l][e],i+=[d,l,l,d,0,0][e],s+=[0,0,d,l,l,d][e],ne(o,i,s,n)},n.rgb2hsb=function(e,t,r){r=re(e,t,r),e=r[0],t=r[1],r=r[2];var n,a,o,i;return o=w(e,t,r),i=o-O(e,t,r),n=0==i?null:o==e?(t-r)/i:o==t?(r-e)/i+2:(e-t)/i+4,n=60*((n+360)%6)/360,a=0==i?0:i/o,{h:n,s:a,b:o,toString:$}},n.rgb2hsl=function(e,t,r){r=re(e,t,r),e=r[0],t=r[1],r=r[2];var n,a,o,i,s,d;return i=w(e,t,r),s=O(e,t,r),d=i-s,n=0==d?null:i==e?(t-r)/d:i==t?(r-e)/d+2:(e-t)/d+4,n=60*((n+360)%6)/360,o=(i+s)/2,a=0==d?0:.5>o?d/(2*o):d/(2-2*o),{h:n,s:a,l:o,toString:ee}},n.parsePathString=function(e){if(!e)return null;var t=n.path(e);if(t.arr)return n.path.clone(t.arr);var r={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},o=[];return a(e,'array')&&a(e[0],'array')&&(o=n.path.clone(e)),o.length||T(e).replace(G,function(e,t,n){var i=[],a=t.toLowerCase();if(n.replace(W,function(e,t){t&&i.push(+t)}),'m'==a&&2<i.length&&(o.push([t].concat(i.splice(0,2))),a='l',t='m'==t?'l':'L'),'o'==a&&1==i.length&&o.push([t,i[0]]),'r'==a)o.push([t].concat(i));else for(;i.length>=r[a]&&(o.push([t].concat(i.splice(0,r[a]))),!!r[a]););}),o.toString=n.path.toString,t.arr=n.path.clone(o),o};var ae=n.parseTransformString=function(e){if(!e)return null;var t=[];return a(e,'array')&&a(e[0],'array')&&(t=n.path.clone(e)),t.length||T(e).replace(H,function(e,r,n){var o=[],a=r.toLowerCase();n.replace(W,function(e,t){t&&o.push(+t)}),t.push([r].concat(o))}),t.toString=n.path.toString,t};n._.svgTransform2string=function(e){var t=[];return e=e.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(e,r,n){return n=n.split(/\s*,\s*|\s+/),'rotate'==r&&1==n.length&&n.push(0,0),'scale'==r&&(2<n.length?n=n.slice(0,2):2==n.length&&n.push(0,0),1==n.length&&n.push(n[0],0,0)),'skewX'==r?t.push(['m',1,0,A.tan(u(n[0])),1,0,0]):'skewY'==r?t.push(['m',1,A.tan(u(n[0])),0,1,0,0]):t.push([r.charAt(0)].concat(n)),e}),t},n._.rgTransform=/^[a-z][\s]*-?\.?\d/i,n._.transform2matrix=function(e,r){var a=ae(e),o=new n.Matrix;if(a)for(var s=0,i=a.length;s<i;s++){var d=a[s],t=d.length,l=T(d[0]).toLowerCase(),u=d[0]!=l,p=u?o.invert():0,c,h,f,y,m;'t'==l&&2==t?o.translate(d[1],0):'t'==l&&3==t?u?(c=p.x(0,0),h=p.y(0,0),f=p.x(d[1],d[2]),y=p.y(d[1],d[2]),o.translate(f-c,y-h)):o.translate(d[1],d[2]):'r'==l?2==t?(m=m||r,o.rotate(d[1],m.x+m.width/2,m.y+m.height/2)):4==t&&(u?(f=p.x(d[2],d[3]),y=p.y(d[2],d[3]),o.rotate(d[1],f,y)):o.rotate(d[1],d[2],d[3])):'s'==l?2==t||3==t?(m=m||r,o.scale(d[1],d[t-1],m.x+m.width/2,m.y+m.height/2)):4==t?u?(f=p.x(d[2],d[3]),y=p.y(d[2],d[3]),o.scale(d[1],d[1],f,y)):o.scale(d[1],d[1],d[2],d[3]):5==t&&(u?(f=p.x(d[3],d[4]),y=p.y(d[3],d[4]),o.scale(d[1],d[2],f,y)):o.scale(d[1],d[2],d[3],d[4])):'m'==l&&7==t&&o.add(d[1],d[2],d[3],d[4],d[5],d[6])}return o},n._unit2px=function(e,t,n){function a(e){if(null==e)return k;if(e==+e)return e;r(l,{width:e});try{return l.getBBox().width}catch(t){return 0}}function o(e){if(null==e)return k;if(e==+e)return e;r(l,{height:e});try{return l.getBBox().height}catch(t){return 0}}function i(r,a){null==t?d[r]=a(e.attr(r)||0):r==t&&(d=a(null==n?e.attr(r)||0:n))}var s=p(e).node,d={},l=s.querySelector('.svg---mgr');switch(l||(l=r('rect'),r(l,{x:-9e9,y:-9e9,width:10,height:10,class:'svg---mgr',fill:'none'}),s.appendChild(l)),e.type){case'rect':i('rx',a),i('ry',o);case'image':i('width',a),i('height',o);case'text':i('x',a),i('y',o);break;case'circle':i('cx',a),i('cy',o),i('r',a);break;case'ellipse':i('cx',a),i('cy',o),i('rx',a),i('ry',o);break;case'line':i('x1',a),i('x2',a),i('y1',o),i('y2',o);break;case'marker':i('refX',a),i('markerWidth',a),i('refY',o),i('markerHeight',o);break;case'radialGradient':i('fx',a),i('fy',o);break;case'tspan':i('dx',a),i('dy',o);break;default:i(t,a);}return s.removeChild(l),d};b.doc.contains||b.doc.compareDocumentPosition?function(e,t){var r=9==e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e==n||!!(n&&1==n.nodeType&&(r.contains?r.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t;)if(t=t.parentNode,t==e)return!0;return!1};n._.getSomeDefs=function(e){var t=e.node.ownerSVGElement&&_(e.node.ownerSVGElement)||e.node.parentNode&&_(e.node.parentNode)||n.select('svg')||n(0,0),r=t.select('defs'),a=null!=r&&r.node;return a||(a=f('defs',t.node).node),a},n._.getSomeSVG=p,n.select=function(e){return e=T(e).replace(/([^\\]):/g,'$1\\:'),_(b.doc.querySelector(e))},n.selectAll=function(e){for(var t=b.doc.querySelectorAll(e),r=(n.set||Array)(),a=0;a<t.length;a++)r.push(_(t[a]));return r},setInterval(function(){for(var e in Z)if(Z[v](e)){var t=Z[e],r=t.node;('svg'==t.type||r.ownerSVGElement)&&('svg'!=t.type||r.parentNode&&(!('ownerSVGElement'in r.parentNode)||r.ownerSVGElement))||delete Z[e]}},1e4),y.prototype.attr=function(e,r){var n=this,o=n.node;if(!e){if(1!=o.nodeType)return{text:o.nodeValue};for(var s=o.attributes,d={},l=0,i=s.length;l<i;l++)d[s[l].nodeName]=s[l].nodeValue;return d}if(a(e,'string'))if(1<arguments.length){var u={};u[e]=r,e=u}else return t('snap.util.getattr.'+e,n).firstDefined();for(var p in e)e[v](p)&&t('snap.util.attr.'+p,n,e[p]);return n},n.parse=function(e){var t=b.doc.createDocumentFragment(),r=!0,n=b.doc.createElement('div');if(e=T(e),e.match(/^\s*<\s*svg(?:\s|>)/)||(e='<svg>'+e+'</svg>',r=!1),n.innerHTML=e,e=n.getElementsByTagName('svg')[0],e)if(r)t=e;else for(;e.firstChild;)t.appendChild(e.firstChild);return new h(t)},n.fragment=function(){for(var e=Array.prototype.slice.call(arguments,0),t=b.doc.createDocumentFragment(),r=0,a=e.length,o;r<a;r++)o=e[r],o.node&&o.node.nodeType&&t.appendChild(o.node),o.nodeType&&t.appendChild(o),'string'==typeof o&&t.appendChild(n.parse(o).node);return new h(t)},n._.make=f,n._.wrap=_,m.prototype.el=function(e,t){var r=f(e,this.node);return t&&r.attr(t),r},y.prototype.children=function(){for(var e=[],t=this.node.childNodes,r=0,a=t.length;r<a;r++)e[r]=n(t[r]);return e},y.prototype.toJSON=function(){var e=[];return x([this],e),e[0]},t.on('snap.util.getattr',function(){var e=t.nt();e=e.substring(e.lastIndexOf('.')+1);var n=e.replace(/[A-Z]/g,function(e){return'-'+e.toLowerCase()});return oe[v](n)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(n):r(this.node,e)});var oe={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};t.on('snap.util.attr',function(e){var n=t.nt(),a={};n=n.substring(n.lastIndexOf('.')+1),a[n]=e;var o=n.replace(/-(\w)/gi,function(e,t){return t.toUpperCase()}),i=n.replace(/[A-Z]/g,function(e){return'-'+e.toLowerCase()});oe[v](i)?this.node.style[o]=null==e?k:e:r(this.node,a)}),function(){}(m.prototype),n.ajax=function(e,r,n,o){var i=new XMLHttpRequest,s=z();if(i){if(a(r,'function'))o=n,n=r,r=null;else if(a(r,'object')){var d=[];for(var l in r)r.hasOwnProperty(l)&&d.push(encodeURIComponent(l)+'='+encodeURIComponent(r[l]));r=d.join('&')}return(i.open(r?'POST':'GET',e,!0),r&&(i.setRequestHeader('X-Requested-With','XMLHttpRequest'),i.setRequestHeader('Content-type','application/x-www-form-urlencoded')),n&&(t.once('snap.ajax.'+s+'.0',n),t.once('snap.ajax.'+s+'.200',n),t.once('snap.ajax.'+s+'.304',n)),i.onreadystatechange=function(){4!=i.readyState||t('snap.ajax.'+s+'.'+i.status,o,i)},4==i.readyState)?i:(i.send(r),i)}},n.load=function(e,t,r){n.ajax(e,function(e){var a=n.parse(e.responseText);r?t.call(r,a):t(a)})};var ie=function(e){var t=e.getBoundingClientRect(),r=e.ownerDocument,n=r.body,a=r.documentElement,o=a.clientTop||n.clientTop||0,i=a.clientLeft||n.clientLeft||0,s=t.top+(g.win.pageYOffset||a.scrollTop||n.scrollTop)-o,d=t.left+(g.win.pageXOffset||a.scrollLeft||n.scrollLeft)-i;return{y:s,x:d}};return n.getElementByPoint=function(e,t){var r=this,n=r.canvas,a=b.doc.elementFromPoint(e,t);if(b.win.opera&&'svg'==a.tagName){var o=ie(a),i=a.createSVGRect();i.x=e-o.x,i.y=t-o.y,i.width=i.height=1;var s=a.getIntersectionList(i,null);s.length&&(a=s[s.length-1])}return a?_(a):null},n.plugin=function(e){e(n,y,m,b,h)},b.win.Snap=n,n}(e||this);return u.plugin(function(r,n,a,o,i){function s(e,t){if(null==t){if(t='linearGradient'==e.type||'radialGradient'==e.type?e.node.getAttribute('gradientTransform'):'pattern'==e.type?e.node.getAttribute('patternTransform'):e.node.getAttribute('transform'),!t)return new r.Matrix;t=r._.svgTransform2string(t)}else t=r._.rgTransform.test(t)?p(t).replace(/\.{3}|\u2026/g,e._.transform||''):r._.svgTransform2string(t),c(t,'array')&&(t=r.path?r.path.toString.call(t):p(t)),e._.transform=t;var n=r._.transform2matrix(t,e.getBBox(1));return n}function d(e){function t(e,t){var n=f(e.node,t);if(n=n&&n.match(o),n=n&&n[2],n&&'#'==n.charAt())n=n.substring(1);else return;n&&(d[n]=(d[n]||[]).concat(function(n){var a={};a[t]=r.url(n),f(e.node,a)}))}function n(e){var t=f(e.node,'xlink:href');if(t&&'#'==t.charAt())t=t.substring(1);else return;t&&(d[t]=(d[t]||[]).concat(function(t){e.attr('xlink:href','#'+t)}))}for(var a=e.selectAll('*'),o=/^\s*url\(("|'|)(.*)\1\)\s*$/,s=[],d={},l=0,i=a.length,u;l<i;l++){u=a[l],t(u,'fill'),t(u,'stroke'),t(u,'filter'),t(u,'mask'),t(u,'clip-path'),n(u);var p=f(u.node,'id');p&&(f(u.node,{id:u.id}),s.push({old:p,id:u.id}))}for(l=0,i=s.length;l<i;l++){var c=d[s[l].old];if(c)for(var h=0,y=c.length;h<y;h++)c[h](s[l].id)}}function l(e){return function(){var t=e?'<'+this.type:'',r=this.node.attributes,n=this.node.childNodes;if(e)for(var a=0,o=r.length;a<o;a++)t+=' '+r[a].name+'="'+r[a].value.replace(/"/g,'\\"')+'"';if(n.length){for(e&&(t+='>'),a=0,o=n.length;a<o;a++)3==n[a].nodeType?t+=n[a].nodeValue:1==n[a].nodeType&&(t+=y(n[a]).toString());e&&(t+='</'+this.type+'>')}else e&&(t+='/>');return t}}var u=n.prototype,c=r.is,p=String,h=r._unit2px,f=r._.$,m=r._.make,_=r._.getSomeDefs,y=r._.wrap;u.getBBox=function(e){if('tspan'==this.type)return r._.box(this.node.getClientRects().item(0));if(!r.Matrix||!r.path)return this.node.getBBox();var t=this,n=new r.Matrix;if(t.removed)return r._.box();for(;'use'==t.type;)if(e||(n=n.add(t.transform().localMatrix.translate(t.attr('x')||0,t.attr('y')||0))),t.original)t=t.original;else{var a=t.attr('xlink:href');t=t.original=t.node.ownerDocument.getElementById(a.substring(a.indexOf('#')+1))}var o=t._,i=r.path.get[t.type]||r.path.get.deflt;try{return e?(o.bboxwt=i?r.path.getBBox(t.realPath=i(t)):r._.box(t.node.getBBox()),r._.box(o.bboxwt)):(t.realPath=i(t),t.matrix=t.transform().localMatrix,o.bbox=r.path.getBBox(r.path.map(t.realPath,n.add(t.matrix))),r._.box(o.bbox))}catch(t){return r._.box()}};var x=function(){return this.string};u.transform=function(e){var t=this._;if(null==e){for(var n=this,a=new r.Matrix(this.node.getCTM()),o=s(this),d=[o],l=new r.Matrix,u=o.toTransformString(),c=p(o)==p(this.matrix)?p(t.transform):u,h;'svg'!=n.type&&(n=n.parent());)d.push(s(n));for(h=d.length;h--;)l.add(d[h]);return{string:c,globalMatrix:a,totalMatrix:l,localMatrix:o,diffMatrix:a.clone().add(o.invert()),global:a.toTransformString(),total:l.toTransformString(),local:u,toString:x}}return e instanceof r.Matrix?(this.matrix=e,this._.transform=e.toTransformString()):s(this,e),this.node&&('linearGradient'==this.type||'radialGradient'==this.type?f(this.node,{gradientTransform:this.matrix}):'pattern'==this.type?f(this.node,{patternTransform:this.matrix}):f(this.node,{transform:this.matrix})),this},u.parent=function(){return y(this.node.parentNode)},u.append=u.add=function(e){if(e){if('set'==e.type){var t=this;return e.forEach(function(e){t.add(e)}),this}e=y(e),this.node.appendChild(e.node),e.paper=this.paper}return this},u.appendTo=function(e){return e&&(e=y(e),e.append(this)),this},u.prepend=function(e){if(e){if('set'==e.type){var t=this,r;return e.forEach(function(e){r?r.after(e):t.prepend(e),r=e}),this}e=y(e);var n=e.parent();this.node.insertBefore(e.node,this.node.firstChild),this.add&&this.add(),e.paper=this.paper,this.parent()&&this.parent().add(),n&&n.add()}return this},u.prependTo=function(e){return e=y(e),e.prepend(this),this},u.before=function(e){if('set'==e.type){var t=this;return e.forEach(function(e){var r=e.parent();t.node.parentNode.insertBefore(e.node,t.node),r&&r.add()}),this.parent().add(),this}e=y(e);var r=e.parent();return this.node.parentNode.insertBefore(e.node,this.node),this.parent()&&this.parent().add(),r&&r.add(),e.paper=this.paper,this},u.after=function(e){e=y(e);var t=e.parent();return this.node.nextSibling?this.node.parentNode.insertBefore(e.node,this.node.nextSibling):this.node.parentNode.appendChild(e.node),this.parent()&&this.parent().add(),t&&t.add(),e.paper=this.paper,this},u.insertBefore=function(e){e=y(e);var t=this.parent();return e.node.parentNode.insertBefore(this.node,e.node),this.paper=e.paper,t&&t.add(),e.parent()&&e.parent().add(),this},u.insertAfter=function(e){e=y(e);var t=this.parent();return e.node.parentNode.insertBefore(this.node,e.node.nextSibling),this.paper=e.paper,t&&t.add(),e.parent()&&e.parent().add(),this},u.remove=function(){var e=this.parent();return this.node.parentNode&&this.node.parentNode.removeChild(this.node),delete this.paper,this.removed=!0,e&&e.add(),this},u.select=function(e){return y(this.node.querySelector(e))},u.selectAll=function(e){for(var t=this.node.querySelectorAll(e),n=(r.set||Array)(),a=0;a<t.length;a++)n.push(y(t[a]));return n},u.asPX=function(e,t){return null==t&&(t=this.attr(e)),+h(this,e,t)},u.use=function(){var e=this.node.id,t;return e||(e=this.id,f(this.node,{id:e})),t='linearGradient'==this.type||'radialGradient'==this.type||'pattern'==this.type?m(this.type,this.node.parentNode):m('use',this.node.parentNode),f(t.node,{"xlink:href":'#'+e}),t.original=this,t},u.clone=function(){var e=y(this.node.cloneNode(!0));return f(e.node,'id')&&f(e.node,{id:e.id}),d(e),e.insertAfter(this),e},u.toDefs=function(){var e=_(this);return e.appendChild(this.node),this},u.pattern=u.toPattern=function(e,t,r,n){var a=m('pattern',_(this));return null==e&&(e=this.getBBox()),c(e,'object')&&'x'in e&&(t=e.y,r=e.width,n=e.height,e=e.x),f(a.node,{x:e,y:t,width:r,height:n,patternUnits:'userSpaceOnUse',id:a.id,viewBox:[e,t,r,n].join(' ')}),a.node.appendChild(this.node),a},u.marker=function(e,t,r,n,a,o){var i=m('marker',_(this));return null==e&&(e=this.getBBox()),c(e,'object')&&'x'in e&&(t=e.y,r=e.width,n=e.height,a=e.refX||e.cx,o=e.refY||e.cy,e=e.x),f(i.node,{viewBox:[e,t,r,n].join(' '),markerWidth:r,markerHeight:n,orient:'auto',refX:a||0,refY:o||0,id:i.id}),i.node.appendChild(this.node),i};var b={};u.data=function(e,n){var a=b[this.id]=b[this.id]||{};if(0==arguments.length)return t('snap.data.get.'+this.id,this,a,null),a;if(1==arguments.length){if(r.is(e,'object')){for(var o in e)e['hasOwnProperty'](o)&&this.data(o,e[o]);return this}return t('snap.data.get.'+this.id,this,a[e],e),a[e]}return a[e]=n,t('snap.data.set.'+this.id,this,n,e),this},u.removeData=function(e){return null==e?b[this.id]={}:b[this.id]&&delete b[this.id][e],this},u.outerSVG=u.toString=l(1),u.innerSVG=l(),u.toDataURL=function(){if(e&&e.btoa){var t=this.getBBox(),n=r.format('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="{width}" height="{height}" viewBox="{x} {y} {width} {height}">{contents}</svg>',{x:+t.x.toFixed(3),y:+t.y.toFixed(3),width:+t.width.toFixed(3),height:+t.height.toFixed(3),contents:this.outerSVG()});return'data:image/svg+xml;base64,'+btoa(unescape(encodeURIComponent(n)))}},i.prototype.select=u.select,i.prototype.selectAll=u.selectAll}),u.plugin(function(e,r){function n(e,t,r){return function(n){var a=n.slice(e,t);return 1==a.length&&(a=a[0]),r?r(a):a}}var a=r.prototype,o=e.is,i=String,s='hasOwnProperty',d=function(e,t,r,n){'function'!=typeof r||r.length||(n=r,r=l.linear),this.attr=e,this.dur=t,r&&(this.easing=r),n&&(this.callback=n)};e._.Animation=d,e.animation=function(e,t,r,n){return new d(e,t,r,n)},a.inAnim=function(){var e=this,t=[];for(var r in e.anims)e.anims[s](r)&&function(e){t.push({anim:new d(e._attrs,e.dur,e.easing,e._callback),mina:e,curStatus:e.status(),status:function(t){return e.status(t)},stop:function(){e.stop()}})}(e.anims[r]);return t},e.animate=function(e,r,n,a,o,i){'function'!=typeof o||o.length||(i=o,o=l.linear);var s=l.time(),d=l(e,r,s,s+a,l.time,n,o);return i&&t.once('mina.finish.'+d.id,i),d},a.stop=function(){for(var e=this.inAnim(),t=0,r=e.length;t<r;t++)e[t].stop();return this},a.animate=function(e,r,a,u){'function'!=typeof a||a.length||(u=a,a=l.linear),e instanceof d&&(u=e.callback,a=e.easing,r=e.dur,e=e.attr);var p=[],c=[],h={},y=this,m,_,x,f;for(var b in e)if(e[s](b)){y.equal?(f=y.equal(b,i(e[b])),m=f.from,_=f.to,x=f.f):(m=+y.attr(b),_=+e[b]);var v=o(m,'array')?m.length:1;h[b]=n(p.length,p.length+v,x),p=p.concat(m),c=c.concat(_)}var T=l.time(),E=l(p,c,T,T+r,l.time,function(e){var t={};for(var r in h)h[s](r)&&(t[r]=h[r](e));y.attr(t)},a);return y.anims[E.id]=E,E._attrs=e,E._callback=u,t('snap.animcreated.'+y.id,E),t.once('mina.finish.'+E.id,function(){t.off('mina.*.'+E.id),delete y.anims[E.id],u&&u.call(y)}),t.once('mina.stop.'+E.id,function(){t.off('mina.*.'+E.id),delete y.anims[E.id]}),y}}),u.plugin(function(e){function t(t,n,o,i,s,l){return null==n&&'[object SVGMatrix]'==r.call(t)?(this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.e=t.e,void(this.f=t.f)):void(null==t?(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0):(this.a=+t,this.b=+n,this.c=+o,this.d=+i,this.e=+s,this.f=+l))}var r=Object.prototype.toString,n=String,o=Math,a='';(function(r){function i(e){return e[0]*e[0]+e[1]*e[1]}function s(e){var t=o.sqrt(i(e));e[0]&&(e[0]/=t),e[1]&&(e[1]/=t)}r.add=function(r,n,a,o,i,e){if(r&&r instanceof t)return this.add(r.a,r.b,r.c,r.d,r.e,r.f);var s=r*this.a+n*this.c,d=r*this.b+n*this.d;return this.e+=i*this.a+e*this.c,this.f+=i*this.b+e*this.d,this.c=a*this.a+o*this.c,this.d=a*this.b+o*this.d,this.a=s,this.b=d,this},t.prototype.multLeft=function(r,n,a,o,i,e){if(r&&r instanceof t)return this.multLeft(r.a,r.b,r.c,r.d,r.e,r.f);var s=r*this.a+a*this.b,d=r*this.c+a*this.d,l=r*this.e+a*this.f+i;return this.b=n*this.a+o*this.b,this.d=n*this.c+o*this.d,this.f=n*this.e+o*this.f+e,this.a=s,this.c=d,this.e=l,this},r.invert=function(){var e=this,r=e.a*e.d-e.b*e.c;return new t(e.d/r,-e.b/r,-e.c/r,e.a/r,(e.c*e.f-e.d*e.e)/r,(e.b*e.e-e.a*e.f)/r)},r.clone=function(){return new t(this.a,this.b,this.c,this.d,this.e,this.f)},r.translate=function(e,t){return this.e+=e*this.a+t*this.c,this.f+=e*this.b+t*this.d,this},r.scale=function(e,t,r,n){return null==t&&(t=e),(r||n)&&this.translate(r,n),this.a*=e,this.b*=e,this.c*=t,this.d*=t,(r||n)&&this.translate(-r,-n),this},r.rotate=function(t,r,n){t=e.rad(t),r=r||0,n=n||0;var a=+o.cos(t).toFixed(9),i=+o.sin(t).toFixed(9);return this.add(a,i,-i,a,r,n),this.add(1,0,0,1,-r,-n)},r.skewX=function(e){return this.skew(e,0)},r.skewY=function(e){return this.skew(0,e)},r.skew=function(t,r){t=t||0,r=r||0,t=e.rad(t),r=e.rad(r);var n=o.tan(t).toFixed(9),a=o.tan(r).toFixed(9);return this.add(1,a,n,1,0,0)},r.x=function(e,t){return e*this.a+t*this.c+this.e},r.y=function(e,t){return e*this.b+t*this.d+this.f},r.get=function(e){return+this[n.fromCharCode(97+e)].toFixed(4)},r.toString=function(){return'matrix('+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+')'},r.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},r.determinant=function(){return this.a*this.d-this.b*this.c},r.split=function(){var t={dx:this.e,dy:this.f},r=[[this.a,this.b],[this.c,this.d]];t.scalex=o.sqrt(i(r[0])),s(r[0]),t.shear=r[0][0]*r[1][0]+r[0][1]*r[1][1],r[1]=[r[1][0]-r[0][0]*t.shear,r[1][1]-r[0][1]*t.shear],t.scaley=o.sqrt(i(r[1])),s(r[1]),t.shear/=t.scaley,0>this.determinant()&&(t.scalex=-t.scalex);var n=r[0][1],a=r[1][1];return 0>a?(t.rotate=e.deg(o.acos(a)),0>n&&(t.rotate=360-t.rotate)):t.rotate=e.deg(o.asin(n)),t.isSimple=!+t.shear.toFixed(9)&&(t.scalex.toFixed(9)==t.scaley.toFixed(9)||!t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},r.toTransformString=function(e){var t=e||this.split();return+t.shear.toFixed(9)?'m'+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]:(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx||t.dy?'t'+[+t.dx.toFixed(4),+t.dy.toFixed(4)]:a)+(t.rotate?'r'+[+t.rotate.toFixed(4),0,0]:a)+(1!=t.scalex||1!=t.scaley?'s'+[t.scalex,t.scaley,0,0]:a))}})(t.prototype),e.Matrix=t,e.matrix=function(r,n,a,o,i,e){return new t(r,n,a,o,i,e)}}),u.plugin(function(e,r,n,a,o){function i(n){return function(a){if(t.stop(),a instanceof o&&1==a.node.childNodes.length&&('radialGradient'==a.node.firstChild.tagName||'linearGradient'==a.node.firstChild.tagName||'pattern'==a.node.firstChild.tagName)&&(a=a.node.firstChild,h(this).appendChild(a),a=p(a)),a instanceof r){if('radialGradient'==a.type||'linearGradient'==a.type||'pattern'==a.type){a.node.id||y(a.node,{id:a.id});var i=m(a.node.id)}else i=a.attr(n);}else if(i=e.color(a),i.error){var s=e(h(this).ownerSVGElement).gradient(a);s?(!s.node.id&&y(s.node,{id:s.id}),i=m(s.node.id)):i=a}else i=_(i);var d={};d[n]=i,y(this.node,d),this.node.style[n]=b}}function s(e){t.stop(),e==+e&&(e+='px'),this.node.style.fontSize=e}function d(e){for(var t=[],r=e.childNodes,n=0,a=r.length,o;n<a;n++)o=r[n],3==o.nodeType&&t.push(o.nodeValue),'tspan'==o.tagName&&(1==o.childNodes.length&&3==o.firstChild.nodeType?t.push(o.firstChild.nodeValue):t.push(d(o)));return t}function l(){return t.stop(),this.node.style.fontSize}var u=e._.make,p=e._.wrap,c=e.is,h=e._.getSomeDefs,f=/^url\((['"]?)([^)]+)\1\)$/,y=e._.$,m=e.url,_=String,x=e._.separator,b='';e.deurl=function(e){var t=(e+'').match(f);return t?t[2]:e},t.on('snap.util.attr.mask',function(e){if(e instanceof r||e instanceof o){if(t.stop(),e instanceof o&&1==e.node.childNodes.length&&(e=e.node.firstChild,h(this).appendChild(e),e=p(e)),'mask'==e.type)var n=e;else n=u('mask',h(this)),n.node.appendChild(e.node);n.node.id||y(n.node,{id:n.id}),y(this.node,{mask:m(n.id)})}}),function(e){t.on('snap.util.attr.clip',e),t.on('snap.util.attr.clip-path',e),t.on('snap.util.attr.clipPath',e)}(function(e){if(e instanceof r||e instanceof o){t.stop();for(var n=e.node,a;n;){if('clipPath'===n.nodeName){a=new r(n);break}if('svg'===n.nodeName){a=void 0;break}n=n.parentNode}a||(a=u('clipPath',h(this)),a.node.appendChild(e.node),!a.node.id&&y(a.node,{id:a.id})),y(this.node,{"clip-path":m(a.node.id||a.id)})}}),t.on('snap.util.attr.fill',i('fill')),t.on('snap.util.attr.stroke',i('stroke'));var v=/^([lr])(?:\(([^)]*)\))?(.*)$/i;t.on('snap.util.grad.parse',function(e){function t(e,t){for(var r=(t-d)/(e-l),n=l;n<e;n++)o[n].offset=+(+d+r*(n-l)).toFixed(2);l=e,d=t}e=_(e);var r=e.match(v);if(!r)return null;var n=r[1],a=r[2],o=r[3];a=a.split(/\s*,\s*/).map(function(e){return+e==e?+e:e}),1==a.length&&0==a[0]&&(a=[]),o=o.split('-'),o=o.map(function(e){e=e.split(':');var t={color:e[0]};return e[1]&&(t.offset=parseFloat(e[1])),t});var s=o.length,d=0,l=0;s--;for(var u=0;u<s;u++)'offset'in o[u]&&t(u,o[u].offset);return o[s].offset=o[s].offset||100,t(s,o[s].offset),{type:n,params:a,stops:o}}),t.on('snap.util.attr.d',function(r){t.stop(),c(r,'array')&&c(r[0],'array')&&(r=e.path.toString.call(r)),r=_(r),r.match(/[ruo]/i)&&(r=e.path.toAbsolute(r)),y(this.node,{d:r})})(-1),t.on('snap.util.attr.#text',function(e){t.stop(),e=_(e);for(var r=a.doc.createTextNode(e);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(r)})(-1),t.on('snap.util.attr.path',function(e){t.stop(),this.attr({d:e})})(-1),t.on('snap.util.attr.class',function(e){t.stop(),this.node.className.baseVal=e})(-1),t.on('snap.util.attr.viewBox',function(e){var r;r=c(e,'object')&&'x'in e?[e.x,e.y,e.width,e.height].join(' '):c(e,'array')?e.join(' '):e,y(this.node,{viewBox:r}),t.stop()})(-1),t.on('snap.util.attr.transform',function(e){this.transform(e),t.stop()})(-1),t.on('snap.util.attr.r',function(e){'rect'==this.type&&(t.stop(),y(this.node,{rx:e,ry:e}))})(-1),t.on('snap.util.attr.textpath',function(e){if(t.stop(),'text'==this.type){var n,a,o;if(!e&&this.textPath){for(a=this.textPath;a.node.firstChild;)this.node.appendChild(a.node.firstChild);return a.remove(),void delete this.textPath}if(c(e,'string')){var i=h(this),s=p(i.parentNode).path(e);i.appendChild(s.node),n=s.id,s.attr({id:n})}else e=p(e),e instanceof r&&(n=e.attr('id'),!n&&(n=e.id,e.attr({id:n})));if(n)if(a=this.textPath,o=this.node,a)a.attr({"xlink:href":'#'+n});else{for(a=y('textPath',{"xlink:href":'#'+n});o.firstChild;)a.appendChild(o.firstChild);o.appendChild(a),this.textPath=p(a)}}})(-1),t.on('snap.util.attr.text',function(e){if('text'==this.type){for(var r=this.node,n=function(e){var t=y('tspan');if(c(e,'array'))for(var r=0;r<e.length;r++)t.appendChild(n(e[r]));else t.appendChild(a.doc.createTextNode(e));return t.normalize&&t.normalize(),t};r.firstChild;)r.removeChild(r.firstChild);for(var o=n(e);o.firstChild;)r.appendChild(o.firstChild)}t.stop()})(-1),t.on('snap.util.attr.fontSize',s)(-1),t.on('snap.util.attr.font-size',s)(-1),t.on('snap.util.getattr.transform',function(){return t.stop(),this.transform()})(-1),t.on('snap.util.getattr.textpath',function(){return t.stop(),this.textPath})(-1),function(){function r(r){return function(){t.stop();var n=a.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue('marker-'+r);return'none'==n?n:e(a.doc.getElementById(n.match(f)[1]))}}function n(e){return function(r){t.stop();var n='marker'+e.charAt(0).toUpperCase()+e.substring(1);if(''==r||!r)return void(this.node.style[n]='none');if('marker'==r.type){var a=r.node.id;return a||y(r.node,{id:r.id}),void(this.node.style[n]=m(a))}}}t.on('snap.util.getattr.marker-end',r('end'))(-1),t.on('snap.util.getattr.markerEnd',r('end'))(-1),t.on('snap.util.getattr.marker-start',r('start'))(-1),t.on('snap.util.getattr.markerStart',r('start'))(-1),t.on('snap.util.getattr.marker-mid',r('mid'))(-1),t.on('snap.util.getattr.markerMid',r('mid'))(-1),t.on('snap.util.attr.marker-end',n('end'))(-1),t.on('snap.util.attr.markerEnd',n('end'))(-1),t.on('snap.util.attr.marker-start',n('start'))(-1),t.on('snap.util.attr.markerStart',n('start'))(-1),t.on('snap.util.attr.marker-mid',n('mid'))(-1),t.on('snap.util.attr.markerMid',n('mid'))(-1)}(),t.on('snap.util.getattr.r',function(){if('rect'==this.type&&y(this.node,'rx')==y(this.node,'ry'))return t.stop(),y(this.node,'rx')})(-1),t.on('snap.util.getattr.text',function(){if('text'==this.type||'tspan'==this.type){t.stop();var e=d(this.node);return 1==e.length?e[0]:e}})(-1),t.on('snap.util.getattr.#text',function(){return this.node.textContent})(-1),t.on('snap.util.getattr.fill',function(r){if(!r){t.stop();var n=t('snap.util.getattr.fill',this,!0).firstDefined();return e(e.deurl(n))||n}})(-1),t.on('snap.util.getattr.stroke',function(r){if(!r){t.stop();var n=t('snap.util.getattr.stroke',this,!0).firstDefined();return e(e.deurl(n))||n}})(-1),t.on('snap.util.getattr.viewBox',function(){t.stop();var r=y(this.node,'viewBox');return r?(r=r.split(x),e._.box(+r[0],+r[1],+r[2],+r[3])):void 0})(-1),t.on('snap.util.getattr.points',function(){var e=y(this.node,'points');return t.stop(),e?e.split(x):void 0})(-1),t.on('snap.util.getattr.path',function(){var e=y(this.node,'d');return t.stop(),e})(-1),t.on('snap.util.getattr.class',function(){return this.node.className.baseVal})(-1),t.on('snap.util.getattr.fontSize',l)(-1),t.on('snap.util.getattr.font-size',l)(-1)}),u.plugin(function(e,t){var r=/\S+/g,n=/[\t\r\n\f]/g,a=/(^\s+|\s+$)/g,o=String,i=t.prototype;i.addClass=function(e){var t=o(e||'').match(r)||[],n=this.node,a=n.className.baseVal,i=a.match(r)||[],s,d,l,u;if(t.length){for(s=0;l=t[s++];)d=i.indexOf(l),~d||i.push(l);u=i.join(' '),a!=u&&(n.className.baseVal=u)}return this},i.removeClass=function(e){var t=o(e||'').match(r)||[],n=this.node,a=n.className.baseVal,i=a.match(r)||[],s,d,l,u;if(i.length){for(s=0;l=t[s++];)d=i.indexOf(l),~d&&i.splice(d,1);u=i.join(' '),a!=u&&(n.className.baseVal=u)}return this},i.hasClass=function(e){var t=this.node,n=t.className.baseVal,a=n.match(r)||[];return!!~a.indexOf(e)},i.toggleClass=function(e,t){if(null!=t)return t?this.addClass(e):this.removeClass(e);var n=(e||'').match(r)||[],a=this.node,o=a.className.baseVal,i=o.match(r)||[],s,d,l,u;for(s=0;l=n[s++];)d=i.indexOf(l),~d?i.splice(d,1):i.push(l);return u=i.join(' '),o!=u&&(a.className.baseVal=u),this}}),u.plugin(function(){function e(e){return e}function r(e){return function(t){return+t.toFixed(3)+e}}var n={"+":function(e,t){return e+t},"-":function(e,t){return e-t},"/":function(e,t){return e/t},"*":function(e,t){return e*t}},o=String,i=/[a-z]+$/i,s=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;t.on('snap.util.attr',function(e){var r=o(e).match(s);if(r){var d=t.nt(),l=d.substring(d.lastIndexOf('.')+1),u=this.attr(l),a={};t.stop();var p=r[3]||'',c=u.match(i),h=n[r[1]];if(c&&c==p?e=h(parseFloat(u),+r[2]):(u=this.asPX(l),e=h(this.asPX(l),this.asPX(l,r[2]+p))),isNaN(u)||isNaN(e))return;a[l]=e,this.attr(a)}})(-10),t.on('snap.util.equal',function(d,l){var u=o(this.attr(d)||''),p=this,c=o(l).match(s);if(c){t.stop();var h=c[3]||'',f=u.match(i),y=n[c[1]];return f&&f==h?{from:parseFloat(u),to:y(parseFloat(u),+c[2]),f:r(f)}:(u=this.asPX(d),{from:u,to:y(u,this.asPX(d,c[2]+h)),f:e})}})(-10)}),u.plugin(function(n,r,a,o){var i=a.prototype,s=n.is;i.rect=function(e,t,r,n,a,o){var i;return null==o&&(o=a),s(e,'object')&&'[object Object]'==e?i=e:null!=e&&(i={x:e,y:t,width:r,height:n},null!=a&&(i.rx=a,i.ry=o)),this.el('rect',i)},i.circle=function(e,t,n){var a;return s(e,'object')&&'[object Object]'==e?a=e:null!=e&&(a={cx:e,cy:t,r:n}),this.el('circle',a)};var d=function(){function e(){this.parentNode.removeChild(this)}return function(t,r){var n=o.doc.createElement('img'),a=o.doc.body;n.style.cssText='position:absolute;left:-9999em;top:-9999em',n.onload=function(){r.call(n),n.onload=n.onerror=null,a.removeChild(n)},n.onerror=e,a.appendChild(n),n.src=t}}();i.image=function(e,t,r,a,o){var i=this.el('image');if(s(e,'object')&&'src'in e)i.attr(e);else if(null!=e){var l={"xlink:href":e,preserveAspectRatio:'none'};null!=t&&null!=r&&(l.x=t,l.y=r),null!=a&&null!=o?(l.width=a,l.height=o):d(e,function(){n._.$(i.node,{width:this.offsetWidth,height:this.offsetHeight})}),n._.$(i.node,l)}return i},i.ellipse=function(e,t,r,n){var a;return s(e,'object')&&'[object Object]'==e?a=e:null!=e&&(a={cx:e,cy:t,rx:r,ry:n}),this.el('ellipse',a)},i.path=function(e){var t;return s(e,'object')&&!s(e,'array')?t=e:e&&(t={d:e}),this.el('path',t)},i.group=i.g=function(e){var t=this.el('g');return 1==arguments.length&&e&&!e.type?t.attr(e):arguments.length&&t.add(Array.prototype.slice.call(arguments,0)),t},i.svg=function(e,t,r,n,a,o,i,d){var l={};return s(e,'object')&&null==t?l=e:(null!=e&&(l.x=e),null!=t&&(l.y=t),null!=r&&(l.width=r),null!=n&&(l.height=n),null!=a&&null!=o&&null!=i&&null!=d&&(l.viewBox=[a,o,i,d])),this.el('svg',l)},i.mask=function(e){var t=this.el('mask');return 1==arguments.length&&e&&!e.type?t.attr(e):arguments.length&&t.add(Array.prototype.slice.call(arguments,0)),t},i.ptrn=function(e,t,r,n,a,o,i,d){if(s(e,'object'))var l=e;else l={patternUnits:'userSpaceOnUse'},e&&(l.x=e),t&&(l.y=t),null!=r&&(l.width=r),null!=n&&(l.height=n),l.viewBox=null!=a&&null!=o&&null!=i&&null!=d?[a,o,i,d]:[e||0,t||0,r||0,n||0];return this.el('pattern',l)},i.use=function(e){return null==e?r.prototype.use.call(this):(e instanceof r&&(!e.attr('id')&&e.attr({id:n._.id(e)}),e=e.attr('id')),'#'==(e+'').charAt()&&(e=e.substring(1)),this.el('use',{"xlink:href":'#'+e}))},i.symbol=function(e,t,r,n){var a={};return null!=e&&null!=t&&null!=r&&null!=n&&(a.viewBox=[e,t,r,n]),this.el('symbol',a)},i.text=function(e,t,r){var n={};return s(e,'object')?n=e:null!=e&&(n={x:e,y:t,text:r||''}),this.el('text',n)},i.line=function(e,t,r,n){var a={};return s(e,'object')?a=e:null!=e&&(a={x1:e,x2:r,y1:t,y2:n}),this.el('line',a)},i.polyline=function(e){1<arguments.length&&(e=Array.prototype.slice.call(arguments,0));var t={};return s(e,'object')&&!s(e,'array')?t=e:null!=e&&(t={points:e}),this.el('polyline',t)},i.polygon=function(e){1<arguments.length&&(e=Array.prototype.slice.call(arguments,0));var t={};return s(e,'object')&&!s(e,'array')?t=e:null!=e&&(t={points:e}),this.el('polygon',t)},function(){function a(){return this.selectAll('stop')}function o(e,t){var r=p('stop'),a={offset:+t+'%'};e=n.color(e),a['stop-color']=e.hex,1>e.opacity&&(a['stop-opacity']=e.opacity),p(r,a);for(var o=this.stops(),s=0,i,d;s<o.length;s++)if(d=parseFloat(o[s].attr('offset')),d>t){this.node.insertBefore(r,o[s].node),i=!0;break}return i||this.node.appendChild(r),this}function s(){if('linearGradient'==this.type){var e=p(this.node,'x1')||0,t=p(this.node,'x2')||1,a=p(this.node,'y1')||0,o=p(this.node,'y2')||0;return n._.box(e,a,math.abs(t-e),math.abs(o-a))}var i=this.node.cx||.5,s=this.node.cy||.5,d=this.node.r||0;return n._.box(i-d,s-d,2*d,2*d)}function r(e){var r=e,a=this.stops();if('string'==typeof e&&(r=t('snap.util.grad.parse',null,'l(0,0,0,1)'+e).firstDefined().stops),!!n.is(r,'array')){for(var o=0;o<a.length;o++)if(r[o]){var i=n.color(r[o].color),s={offset:r[o].offset+'%'};s['stop-color']=i.hex,1>i.opacity&&(s['stop-opacity']=i.opacity),a[o].attr(s)}else a[o].remove();for(o=a.length;o<r.length;o++)this.addStop(r[o].color,r[o].offset);return this}}function d(e,r){var n=t('snap.util.grad.parse',null,r).firstDefined(),a;if(!n)return null;n.params.unshift(e),a='l'==n.type.toLowerCase()?l.apply(0,n.params):u.apply(0,n.params),n.type!=n.type.toLowerCase()&&p(a.node,{gradientUnits:'userSpaceOnUse'});for(var o=n.stops,s=o.length,d=0,i;d<s;d++)i=o[d],a.addStop(i.color,i.offset);return a}function l(e,t,i,d,l){var u=n._.make('linearGradient',e);return u.stops=a,u.addStop=o,u.getBBox=s,u.setStops=r,null!=t&&p(u.node,{x1:t,y1:i,x2:d,y2:l}),u}function u(e,t,i,d,l,u){var c=n._.make('radialGradient',e);return c.stops=a,c.addStop=o,c.getBBox=s,null!=t&&p(c.node,{cx:t,cy:i,r:d}),null!=l&&null!=u&&p(c.node,{fx:l,fy:u}),c}var p=n._.$;i.gradient=function(e){return d(this.defs,e)},i.gradientLinear=function(e,t,r,n){return l(this.defs,e,t,r,n)},i.gradientRadial=function(e,t,n,r,a){return u(this.defs,e,t,n,r,a)},i.toString=function(){var e=this.node.ownerDocument,t=e.createDocumentFragment(),r=e.createElement('div'),a=this.node.cloneNode(!0),o;return t.appendChild(r),r.appendChild(a),n._.$(a,{xmlns:'http://www.w3.org/2000/svg'}),o=r.innerHTML,t.removeChild(t.firstChild),o},i.toDataURL=function(){if(e&&e.btoa)return'data:image/svg+xml;base64,'+btoa(unescape(encodeURIComponent(this)))},i.clear=function(){for(var e=this.node.firstChild,t;e;)t=e.nextSibling,'defs'==e.tagName?i.clear.call({node:e}):e.parentNode.removeChild(e),e=t}}()}),u.plugin(function(e,t){function a(e){var t=a.ps=a.ps||{};return t[e]?t[e].sleep=100:t[e]={sleep:100},setTimeout(function(){for(var r in t)t[L](r)&&r!=e&&(t[r].sleep--,t[r].sleep||delete t[r])}),t[e]}function s(e,t,r,n){return null==e&&(e=t=r=n=0),null==t&&(t=e.y,r=e.width,n=e.height,e=e.x),{x:e,y:t,width:r,w:r,height:n,h:n,x2:e+r,y2:t+n,cx:e+r/2,cy:t+n/2,r1:B.min(r,n)/2,r2:B.max(r,n)/2,r0:B.sqrt(r*r+n*n)/2,path:E(e,t,r,n),vb:[e,t,r,n].join(' ')}}function l(){return this.join(',').replace(F,'$1')}function u(e){var t=k(e);return t.toString=l,t}function r(e,t,r,n,a,o,i,s,d){return null==d?m(e,t,r,n,a,o,i,s):c(e,t,r,n,a,o,i,s,_(e,t,r,n,a,o,i,s,d))}function i(n,a){function o(e){return+(+e).toFixed(3)}return e._.cacher(function(e,s,d){e instanceof t&&(e=e.attr('d')),e=D(e);for(var u='',h={},f=0,m=0,i=e.length,_,x,y,p,l;m<i;m++){if(y=e[m],'M'==y[0])_=+y[1],x=+y[2];else{if(p=r(_,x,y[1],y[2],y[3],y[4],y[5],y[6]),f+p>s){if(a&&!h.start){if(l=r(_,x,y[1],y[2],y[3],y[4],y[5],y[6],s-f),u+=['C'+o(l.start.x),o(l.start.y),o(l.m.x),o(l.m.y),o(l.x),o(l.y)],d)return u;h.start=u,u=['M'+o(l.x),o(l.y)+'C'+o(l.n.x),o(l.n.y),o(l.end.x),o(l.end.y),o(y[5]),o(y[6])].join(),f+=p,_=+y[5],x=+y[6];continue}if(!n&&!a)return l=r(_,x,y[1],y[2],y[3],y[4],y[5],y[6],s-f),l}f+=p,_=+y[5],x=+y[6]}u+=y.shift()+y}return h.end=u,l=n?f:a?h:c(_,x,y[0],y[1],y[2],y[3],y[4],y[5],1),l},null,e._.clone)}function c(e,r,n,a,o,i,s,d,l){var t=1-l,u=X(t,3),p=X(t,2),c=l*l,h=c*l,f=e+2*l*(n-e)+c*(o-2*n+e),y=r+2*l*(a-r)+c*(i-2*a+r),m=n+2*l*(o-n)+c*(s-2*o+n),_=a+2*l*(i-a)+c*(d-2*i+a),x=90-180*B.atan2(f-m,y-_)/U;return{x:u*e+3*p*l*n+3*t*l*l*o+h*s,y:u*r+3*p*l*a+3*t*l*l*i+h*d,m:{x:f,y:y},n:{x:m,y:_},start:{x:t*e+l*n,y:t*r+l*a},end:{x:t*o+l*s,y:t*i+l*d},alpha:x}}function h(t,r,n,a,o,i,d,l){e.is(t,'array')||(t=[t,r,n,a,o,i,d,l]);var u=w.apply(null,t);return s(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)}function p(e,t,r){return t>=e.x&&t<=e.x+e.width&&r>=e.y&&r<=e.y+e.height}function f(e,t){return e=s(e),t=s(t),p(t,e.x,e.y)||p(t,e.x2,e.y)||p(t,e.x,e.y2)||p(t,e.x2,e.y2)||p(e,t.x,t.y)||p(e,t.x2,t.y)||p(e,t.x,t.y2)||p(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)}function y(e,t,r,n,a){return e*(e*(-3*t+9*r-9*n+3*a)+6*t-12*r+6*n)-3*t+3*r}function m(e,t,r,n,a,o,s,d,l){null==l&&(l=1),l=1<l?1:0>l?0:l;for(var u=l/2,p=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],c=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],h=0,f=0;f<12;f++){var i=u*p[f]+u,m=y(i,e,r,a,s),_=y(i,t,n,o,d);h+=c[f]*B.sqrt(m*m+_*_)}return u*h}function _(e,r,n,a,o,i,s,d,u){if(!(0>u||m(e,r,n,a,o,i,s,d)<u)){var p=1,t=p/2,c=p-t,h;for(h=m(e,r,n,a,o,i,s,d,c);W(h-u)>.01;)t/=2,c+=(h<u?1:-1)*t,h=m(e,r,n,a,o,i,s,d,c);return c}}function x(e,t,r,n,a,o,i,s){if(!(H(e,r)<G(a,i)||G(e,r)>H(a,i)||H(t,n)<G(o,s)||G(t,n)>H(o,s))){var d=(e-r)*(o-s)-(t-n)*(a-i);if(d){var l=((e*n-t*r)*(a-i)-(e-r)*(a*s-o*i))/d,u=((e*n-t*r)*(o-s)-(t-n)*(a*s-o*i))/d,p=+l.toFixed(2),c=+u.toFixed(2);return p<+G(e,r).toFixed(2)||p>+H(e,r).toFixed(2)||p<+G(a,i).toFixed(2)||p>+H(a,i).toFixed(2)||c<+G(t,n).toFixed(2)||c>+H(t,n).toFixed(2)||c<+G(o,s).toFixed(2)||c>+H(o,s).toFixed(2)?void 0:{x:l,y:u}}}}function b(e,t,r){var n=h(e),a=h(t);if(!f(n,a))return r?0:[];for(var o=m.apply(0,e),s=m.apply(0,t),d=~~(o/8),l=~~(s/8),u=[],y=[],_={},b=r?0:[],v=0,i;v<d+1;v++)i=c.apply(0,e.concat(v/d)),u.push({x:i.x,y:i.y,t:v/d});for(v=0;v<l+1;v++)i=c.apply(0,t.concat(v/l)),y.push({x:i.x,y:i.y,t:v/l});for(v=0;v<d;v++)for(var p=0;p<l;p++){var T=u[v],E=u[v+1],S=y[p],C=y[p+1],P=.001>W(E.x-T.x)?'y':'x',A=.001>W(C.x-S.x)?'y':'x',M=x(T.x,T.y,E.x,E.y,S.x,S.y,C.x,C.y);if(M){if(_[M.x.toFixed(4)]==M.y.toFixed(4))continue;_[M.x.toFixed(4)]=M.y.toFixed(4);var w=T.t+W((M[P]-T[P])/(E[P]-T[P]))*(E.t-T.t),O=S.t+W((M[A]-S[A])/(C[A]-S[A]))*(C.t-S.t);0<=w&&1>=w&&0<=O&&1>=O&&(r?b++:b.push({x:M.x,y:M.y,t1:w,t2:O}))}}return b}function v(e,t,r){e=D(e),t=D(t);for(var n=r?0:[],a=0,o=e.length,i,s,d,l,u,p,c,h,f,y,m;a<o;a++)if(m=e[a],'M'==m[0])i=u=m[1],s=p=m[2];else{'C'==m[0]?(f=[i,s].concat(m.slice(1)),i=f[6],s=f[7]):(f=[i,s,i,s,u,p,u,p],i=u,s=p);for(var _=0,x=t.length,v;_<x;_++)if(v=t[_],'M'==v[0])d=c=v[1],l=h=v[2];else{'C'==v[0]?(y=[d,l].concat(v.slice(1)),d=y[6],l=y[7]):(y=[d,l,d,l,c,h,c,h],d=c,l=h);var T=b(f,y,r);if(r)n+=T;else{for(var E=0,S=T.length;E<S;E++)T[E].segment1=a,T[E].segment2=_,T[E].bez1=f,T[E].bez2=y;n=n.concat(T)}}}return n}function T(e){var t=a(e);if(t.bbox)return k(t.bbox);if(!e)return s();e=D(e);for(var r=0,n=0,o=[],d=[],l=0,i=e.length,u;l<i;l++)if(u=e[l],'M'==u[0])r=u[1],n=u[2],o.push(r),d.push(n);else{var p=w(r,n,u[1],u[2],u[3],u[4],u[5],u[6]);o=o.concat(p.min.x,p.max.x),d=d.concat(p.min.y,p.max.y),r=u[5],n=u[6]}var c=G.apply(0,o),h=G.apply(0,d),f=H.apply(0,o),y=H.apply(0,d),m=s(c,h,f-c,y-h);return t.bbox=k(m),m}function E(e,t,n,a,o){if(o)return[['M',+e+ +o,t],['l',n-2*o,0],['a',o,o,0,0,1,o,o],['l',0,a-2*o],['a',o,o,0,0,1,-o,o],['l',2*o-n,0],['a',o,o,0,0,1,-o,-o],['l',0,2*o-a],['a',o,o,0,0,1,o,-o],['z']];var i=[['M',e,t],['l',n,0],['l',0,a],['l',-n,0],['z']];return i.toString=l,i}function S(e,t,r,i,s){if(null==s&&null==i&&(i=r),e=+e,t=+t,r=+r,i=+i,null!=s)var u=d/180,p=e+r*n(-i*u),c=e+r*n(-s*u),h=t+r*o(-i*u),f=t+r*o(-s*u),m=[['M',p,h],['A',r,r,0,+(180<s-i),0,c,f]];else m=[['M',e,t],['m',0,-i],['a',r,i,0,1,1,0,2*i],['a',r,i,0,1,1,0,-2*i],['z']];return m.toString=l,m}function C(t){var n=a(t);if(n.abs)return u(n.abs);if(I(t,'array')&&I(t&&t[0],'array')||(t=e.parsePathString(t)),!t||!t.length)return[['M',0,0]];var o=[],s=0,d=0,p=0,c=0,h=0,f;'M'==t[0][0]&&(s=+t[0][1],d=+t[0][2],p=s,c=d,h++,o[0]=['M',s,d]);for(var y=3==t.length&&'M'==t[0][0]&&'R'==t[1][0].toUpperCase()&&'Z'==t[2][0].toUpperCase(),m=h,i=t.length,_,r;m<i;m++){if(o.push(_=[]),r=t[m],f=r[0],f!=f.toUpperCase())switch(_[0]=f.toUpperCase(),_[0]){case'A':_[1]=r[1],_[2]=r[2],_[3]=r[3],_[4]=r[4],_[5]=r[5],_[6]=+r[6]+s,_[7]=+r[7]+d;break;case'V':_[1]=+r[1]+d;break;case'H':_[1]=+r[1]+s;break;case'R':for(var x=[s,d].concat(r.slice(1)),b=2,v=x.length;b<v;b++)x[b]=+x[b]+s,x[++b]=+x[b]+d;o.pop(),o=o.concat(O(x,y));break;case'O':o.pop(),x=S(s,d,r[1],r[2]),x.push(x[0]),o=o.concat(x);break;case'U':o.pop(),o=o.concat(S(s,d,r[1],r[2],r[3])),_=['U'].concat(o[o.length-1].slice(-2));break;case'M':p=+r[1]+s,c=+r[2]+d;default:for(b=1,v=r.length;b<v;b++)_[b]=+r[b]+(b%2?s:d);}else if('R'==f)x=[s,d].concat(r.slice(1)),o.pop(),o=o.concat(O(x,y)),_=['R'].concat(r.slice(-2));else if('O'==f)o.pop(),x=S(s,d,r[1],r[2]),x.push(x[0]),o=o.concat(x);else if('U'==f)o.pop(),o=o.concat(S(s,d,r[1],r[2],r[3])),_=['U'].concat(o[o.length-1].slice(-2));else for(var T=0,E=r.length;T<E;T++)_[T]=r[T];if(f=f.toUpperCase(),'O'!=f)switch(_[0]){case'Z':s=+p,d=+c;break;case'H':s=_[1];break;case'V':d=_[1];break;case'M':p=_[_.length-2],c=_[_.length-1];default:s=_[_.length-2],d=_[_.length-1];}}return o.toString=l,n.abs=u(o),o}function P(e,t,r,n){return[e,t,r,n,r,n]}function A(e,t,r,n,a,o){var i=1/3,s=2/3;return[i*e+s*r,i*t+s*n,i*a+s*r,i*o+s*n,a,o]}function M(r,n,a,o,s,d,l,u,p,c){var f=120*U/180,m=U/180*(+s||0),_=[],b=e._.cacher(function(e,t,r){var n=e*B.cos(r)-t*B.sin(r),a=e*B.sin(r)+t*B.cos(r);return{x:n,y:a}}),v;if(!a||!o)return[r,n,u,p,u,p];if(!c){v=b(r,n,-m),r=v.x,n=v.y,v=b(u,p,-m),u=v.x,p=v.y;var T=B.cos(U/180*s),E=B.sin(U/180*s),S=(r-u)/2,x=(n-p)/2,y=S*S/(a*a)+x*x/(o*o);1<y&&(y=B.sqrt(y),a=y*a,o=y*o);var h=a*a,C=o*o,P=(d==l?-1:1)*B.sqrt(W((h*C-h*x*x-C*S*S)/(h*x*x+C*S*S))),A=P*a*x/o+(r+u)/2,w=P*-o*S/a+(n+p)/2,O=B.asin(((n-w)/o).toFixed(9)),D=B.asin(((p-w)/o).toFixed(9));O=r<A?U-O:O,D=u<A?U-D:D,0>O&&(O=2*U+O),0>D&&(D=2*U+D),l&&O>D&&(O-=2*U),!l&&D>O&&(D-=2*U)}else O=c[0],D=c[1],A=c[2],w=c[3];var R=D-O;if(W(R)>f){var I=D,k=u,L=p;D=O+f*(l&&D>O?1:-1),u=A+a*B.cos(D),p=w+o*B.sin(D),_=M(u,p,a,o,s,0,l,k,L,[D,I,A,w])}R=D-O;var F=B.cos(O),N=B.sin(O),X=B.cos(D),j=B.sin(D),G=B.tan(R/4),t=4/3*a*G,H=4/3*o*G,V=[r,n],Y=[r+t*N,n-H*F],z=[u+t*j,p-H*X],q=[u,p];if(Y[0]=2*V[0]-Y[0],Y[1]=2*V[1]-Y[1],c)return[Y,z,q].concat(_);_=[Y,z,q].concat(_).join().split(',');for(var K=[],Z=0,i=_.length;Z<i;Z++)K[Z]=Z%2?b(_[Z-1],_[Z],m).y:b(_[Z],_[Z+1],m).x;return K}function w(e,r,n,o,s,d,l,u){for(var p=[],h=[[],[]],f=0,i,a,y,m,t,_,x,v;2>f;++f){if(0==f?(a=6*e-12*n+6*s,i=-3*e+9*n-9*s+3*l,y=3*n-3*e):(a=6*r-12*o+6*d,i=-3*r+9*o-9*d+3*u,y=3*o-3*r),1e-12>W(i)){if(1e-12>W(a))continue;m=-y/a,0<m&&1>m&&p.push(m);continue}(x=a*a-4*y*i,v=B.sqrt(x),!(0>x))&&(t=(-a+v)/(2*i),0<t&&1>t&&p.push(t),_=(-a-v)/(2*i),0<_&&1>_&&p.push(_))}for(var T=p.length,E=T,S;T--;)m=p[T],S=1-m,h[0][T]=S*S*S*e+3*S*S*m*n+3*S*m*m*s+m*m*m*l,h[1][T]=S*S*S*r+3*S*S*m*o+3*S*m*m*d+m*m*m*u;return h[0][E]=e,h[1][E]=r,h[0][E+1]=l,h[1][E+1]=u,h[0].length=h[1].length=E+2,{min:{x:G.apply(0,h[0]),y:G.apply(0,h[1])},max:{x:H.apply(0,h[0]),y:H.apply(0,h[1])}}}function D(e,t){var r=!t&&a(e);if(!t&&r.curve)return u(r.curve);for(var n=C(e),o=t&&C(t),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},d={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l=function(e,t,r){var n,a;if(!e)return['C',t.x,t.y,t.x,t.y,t.x,t.y];switch((e[0]in{T:1,Q:1})||(t.qx=t.qy=null),e[0]){case'M':t.X=e[1],t.Y=e[2];break;case'A':e=['C'].concat(M.apply(0,[t.x,t.y].concat(e.slice(1))));break;case'S':'C'==r||'S'==r?(n=2*t.x-t.bx,a=2*t.y-t.by):(n=t.x,a=t.y),e=['C',n,a].concat(e.slice(1));break;case'T':'Q'==r||'T'==r?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=['C'].concat(A(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case'Q':t.qx=e[1],t.qy=e[2],e=['C'].concat(A(t.x,t.y,e[1],e[2],e[3],e[4]));break;case'L':e=['C'].concat(P(t.x,t.y,e[1],e[2]));break;case'H':e=['C'].concat(P(t.x,t.y,e[1],t.y));break;case'V':e=['C'].concat(P(t.x,t.y,t.x,e[1]));break;case'Z':e=['C'].concat(P(t.x,t.y,t.X,t.Y));}return e},p=function(e,t){if(7<e[t].length){e[t].shift();for(var r=e[t];r.length;)h[t]='A',o&&(f[t]='A'),e.splice(t++,0,['C'].concat(r.splice(0,6)));e.splice(t,1),x=H(n.length,o&&o.length||0)}},c=function(e,t,r,a,s){e&&t&&'M'==e[s][0]&&'M'!=t[s][0]&&(t.splice(s,0,['M',a.x,a.y]),r.bx=0,r.by=0,r.x=e[s][1],r.y=e[s][2],x=H(n.length,o&&o.length||0))},h=[],f=[],y='',m='',_=0,x=H(n.length,o&&o.length||0);_<x;_++){n[_]&&(y=n[_][0]),'C'!=y&&(h[_]=y,_&&(m=h[_-1])),n[_]=l(n[_],s,m),'A'!=h[_]&&'C'==y&&(h[_]='C'),p(n,_),o&&(o[_]&&(y=o[_][0]),'C'!=y&&(f[_]=y,_&&(m=f[_-1])),o[_]=l(o[_],d,m),'A'!=f[_]&&'C'==y&&(f[_]='C'),p(o,_)),c(n,o,s,d,_),c(o,n,d,s,_);var i=n[_],b=o&&o[_],v=i.length,T=o&&b.length;s.x=i[v-2],s.y=i[v-1],s.bx=N(i[v-4])||s.x,s.by=N(i[v-3])||s.y,d.bx=o&&(N(b[T-4])||d.x),d.by=o&&(N(b[T-3])||d.y),d.x=o&&b[T-2],d.y=o&&b[T-1]}return o||(r.curve=u(n)),o?[n,o]:n}function O(e,t){for(var r=[],n=0,a=e.length,o;a-2*!t>n;n+=2)o=[{x:+e[n-2],y:+e[n-1]},{x:+e[n],y:+e[n+1]},{x:+e[n+2],y:+e[n+3]},{x:+e[n+4],y:+e[n+5]}],t?n?a-4==n?o[3]={x:+e[0],y:+e[1]}:a-2==n&&(o[2]={x:+e[0],y:+e[1]},o[3]={x:+e[2],y:+e[3]}):o[0]={x:+e[a-2],y:+e[a-1]}:a-4==n?o[3]=o[2]:!n&&(o[0]={x:+e[n],y:+e[n+1]}),r.push(['C',(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y]);return r}var R=t.prototype,I=e.is,k=e._.clone,L='hasOwnProperty',F=/,?([a-z]),?/gi,N=parseFloat,B=Math,U=B.PI,G=B.min,H=B.max,X=B.pow,W=B.abs,j=i(1),V=i(),Y=i(0,1),z=e._unit2px;e.path=a,e.path.getTotalLength=j,e.path.getPointAtLength=V,e.path.getSubpath=function(e,t,r){if(1e-6>this.getTotalLength(e)-r)return Y(e,t).end;var n=Y(e,r,1);return t?Y(n,t).end:n},R.getTotalLength=function(){if(this.node.getTotalLength)return this.node.getTotalLength()},R.getPointAtLength=function(e){return V(this.attr('d'),e)},R.getSubpath=function(t,r){return e.path.getSubpath(this.attr('d'),t,r)},e._.box=s,e.path.findDotsAtSegment=c,e.path.bezierBBox=h,e.path.isPointInsideBBox=p,e.closest=function(t,n,a,o){for(var d=100,r=s(t-d/2,n-d/2,d,d),u=[],c=a[0].hasOwnProperty('x')?function(e){return{x:a[e].x,y:a[e].y}}:function(e){return{x:a[e],y:o[e]}},h=0;1e6>=d&&!h;){for(var f=0,i=a.length,y;f<i;f++)if(y=c(f),p(r,y.x,y.y)){h++,u.push(y);break}h||(d*=2,r=s(t-d/2,n-d/2,d,d))}if(1e6!=d){var m=Infinity,_;for(f=0,i=u.length;f<i;f++){var x=e.len(t,n,u[f].x,u[f].y);m>x&&(m=x,u[f].len=x,_=u[f])}return _}},e.path.isBBoxIntersect=f,e.path.intersection=function(e,t){return v(e,t)},e.path.intersectionNumber=function(e,t){return v(e,t,1)},e.path.isPointInside=function(e,t,r){var n=T(e);return p(n,t,r)&&1==v(e,[['M',t,r],['H',n.x2+10]],1)%2},e.path.getBBox=T,e.path.get={path:function(e){return e.attr('path')},circle:function(e){var t=z(e);return S(t.cx,t.cy,t.r)},ellipse:function(e){var t=z(e);return S(t.cx||0,t.cy||0,t.rx,t.ry)},rect:function(e){var t=z(e);return E(t.x||0,t.y||0,t.width,t.height,t.rx,t.ry)},image:function(e){var t=z(e);return E(t.x||0,t.y||0,t.width,t.height)},line:function(e){return'M'+[e.attr('x1')||0,e.attr('y1')||0,e.attr('x2'),e.attr('y2')]},polyline:function(e){return'M'+e.attr('points')},polygon:function(e){return'M'+e.attr('points')+'z'},deflt:function(e){var t=e.node.getBBox();return E(t.x,t.y,t.width,t.height)}},e.path.toRelative=function(t){var n=a(t),o=String.prototype.toLowerCase;if(n.rel)return u(n.rel);e.is(t,'array')&&e.is(t&&t[0],'array')||(t=e.parsePathString(t));var s=[],d=0,p=0,c=0,h=0,f=0;'M'==t[0][0]&&(d=t[0][1],p=t[0][2],c=d,h=p,f++,s.push(['M',d,p]));for(var y=f,i=t.length;y<i;y++){var m=s[y]=[],r=t[y];if(r[0]!=o.call(r[0]))switch(m[0]=o.call(r[0]),m[0]){case'a':m[1]=r[1],m[2]=r[2],m[3]=r[3],m[4]=r[4],m[5]=r[5],m[6]=+(r[6]-d).toFixed(3),m[7]=+(r[7]-p).toFixed(3);break;case'v':m[1]=+(r[1]-p).toFixed(3);break;case'm':c=r[1],h=r[2];default:for(var _=1,x=r.length;_<x;_++)m[_]=+(r[_]-(_%2?d:p)).toFixed(3);}else{m=s[y]=[],'m'==r[0]&&(c=r[1]+d,h=r[2]+p);for(var b=0,v=r.length;b<v;b++)s[y][b]=r[b]}var T=s[y].length;switch(s[y][0]){case'z':d=c,p=h;break;case'h':d+=+s[y][T-1];break;case'v':p+=+s[y][T-1];break;default:d+=+s[y][T-2],p+=+s[y][T-1];}}return s.toString=l,n.rel=u(s),s},e.path.toAbsolute=C,e.path.toCubic=D,e.path.map=function(e,t){if(!t)return e;var r,n,a,o,i,s,d;for(e=D(e),a=0,i=e.length;a<i;a++)for(d=e[a],o=1,s=d.length;o<s;o+=2)r=t.x(d[o],d[o+1]),n=t.y(d[o],d[o+1]),d[o]=r,d[o+1]=n;return e},e.path.toString=l,e.path.clone=u}),u.plugin(function(e){var n=r,a=Math.min,o=function(e){if(this.items=[],this.bindings={},this.length=0,this.type='set',e)for(var t=0,r=e.length;t<r;t++)e[t]&&(this[this.items.length]=this.items[this.items.length]=e[t],this.length++)},i=o.prototype;i.push=function(){for(var e=0,t=arguments.length,r,n;e<t;e++)r=arguments[e],r&&(n=this.items.length,this[n]=this.items[n]=r,this.length++);return this},i.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},i.forEach=function(e,t){for(var r=0,n=this.items.length;r<n;r++)if(!1===e.call(t,this.items[r],r))return this;return this},i.animate=function(r,n,a,o){'function'!=typeof a||a.length||(o=a,a=l.linear),r instanceof e._.Animation&&(o=r.callback,a=r.easing,n=a.dur,r=r.attr);var s=arguments;if(e.is(r,'array')&&e.is(s[s.length-1],'array'))var i=!0;var d=function(){h?this.b=h:h=this.b},u=0,p=this,c=o&&function(){++u==p.length&&o.call(this)},h;return this.forEach(function(e,r){t.once('snap.animcreated.'+e.id,d),s[r]&&e.animate.apply(e,s[r])})},i.remove=function(){for(;this.length;)this.pop().remove();return this},i.bind=function(e,t,r){var n={};if('function'==typeof t)this.bindings[e]=t;else{this.bindings[e]=function(a){n[r||e]=a,t.attr(n)}}return this},i.attr=function(e){var t={};for(var r in e)this.bindings[r]?this.bindings[r](e[r]):t[r]=e[r];for(var n=0,a=this.items.length;n<a;n++)this.items[n].attr(t);return this},i.clear=function(){for(;this.length;)this.pop()},i.splice=function(e,t){e=0>e?n(this.length+e,0):e,t=n(0,a(this.length-e,t));var r=[],s=[],d=[],l;for(l=2;l<arguments.length;l++)d.push(arguments[l]);for(l=0;l<t;l++)s.push(this[e+l]);for(;l<this.length-e;l++)r.push(this[e+l]);var i=d.length;for(l=0;l<i+r.length;l++)this.items[e+l]=this[e+l]=l<i?d[l]:r[l-i];for(l=this.items.length=this.length-=t-i;this[l];)delete this[l++];return new o(s)},i.exclude=function(e){for(var t=0,r=this.length;t<r;t++)if(this[t]==e)return this.splice(t,1),!0;return!1},i.insertAfter=function(e){for(var t=this.items.length;t--;)this.items[t].insertAfter(e);return this},i.getBBox=function(){for(var e=[],t=[],r=[],o=[],s=this.items.length;s--;)if(!this.items[s].removed){var i=this.items[s].getBBox();e.push(i.x),t.push(i.y),r.push(i.x+i.width),o.push(i.y+i.height)}return e=a.apply(0,e),t=a.apply(0,t),r=n.apply(0,r),o=n.apply(0,o),{x:e,y:t,x2:r,y2:o,width:r-e,height:o-t,cx:e+(r-e)/2,cy:t+(o-t)/2}},i.clone=function(e){e=new o;for(var t=0,r=this.items.length;t<r;t++)e.push(this.items[t].clone());return e},i.toString=function(){return'Snap\u2018s set'},i.type='set',e.Set=o,e.set=function(){var e=new o;return arguments.length&&e.push.apply(e,Array.prototype.slice.call(arguments,0)),e}}),u.plugin(function(e,n){function a(e){var t=e[0];switch(t.toLowerCase()){case't':return[t,0,0];case'm':return[t,1,0,0,1,0,0];case'r':return 4==e.length?[t,0,e[2],e[3]]:[t,0];case's':return 5==e.length?[t,1,1,e[3],e[4]]:3==e.length?[t,1,1]:[t,1];}}function o(t,n,o){t=t||new e.Matrix,n=n||new e.Matrix,t=e.parseTransformString(t.toTransformString())||[],n=e.parseTransformString(n.toTransformString())||[];for(var s=r(t.length,n.length),d=[],l=[],c=0,i,h,f,y;c<s;c++){if(f=t[c]||a(n[c]),y=n[c]||a(f),f[0]!=y[0]||'r'==f[0].toLowerCase()&&(f[2]!=y[2]||f[3]!=y[3])||'s'==f[0].toLowerCase()&&(f[3]!=y[3]||f[4]!=y[4])){t=e._.transform2matrix(t,o()),n=e._.transform2matrix(n,o()),d=[['m',t.a,t.b,t.c,t.d,t.e,t.f]],l=[['m',n.a,n.b,n.c,n.d,n.e,n.f]];break}for(d[c]=[],l[c]=[],(i=0,h=r(f.length,y.length));i<h;i++)i in f&&(d[c][i]=f[i]),i in y&&(l[c][i]=y[i])}return{from:p(d),to:p(l),f:u(d)}}function i(e){return e}function s(e){return function(t){return+t.toFixed(3)+e}}function d(e){return e.join(' ')}function l(t){return e.rgb(t[0],t[1],t[2],t[3])}function u(e){var t=0,r=[],n,o,i,s,d,l;for(n=0,o=e.length;n<o;n++){for(d='[',l=['"'+e[n][0]+'"'],(i=1,s=e[n].length);i<s;i++)l[i]='val['+t++ +']';d+=l+']',r[n]=d}return Function('val','return Snap.path.toString.call(['+r+'])')}function p(e){for(var t=[],r=0,n=e.length;r<n;r++)for(var a=1,o=e[r].length;a<o;a++)t.push(e[r][a]);return t}function c(e){return isFinite(e)}function h(t,r){return!!(e.is(t,'array')&&e.is(r,'array'))&&t.toString()==r.toString()}var f={},y=/[%a-z]+$/i,m=String;f.stroke=f.fill='colour',n.prototype.equal=function(e,r){return t('snap.util.equal',this,e,r).firstDefined()},t.on('snap.util.equal',function(t,r){var n=m(this.attr(t)||''),a=this,_,x;if('colour'==f[t])return _=e.color(n),x=e.color(r),{from:[_.r,_.g,_.b,_.opacity],to:[x.r,x.g,x.b,x.opacity],f:l};if('viewBox'==t)return _=this.attr(t).vb.split(' ').map(Number),x=r.split(' ').map(Number),{from:_,to:x,f:d};if('transform'==t||'gradientTransform'==t||'patternTransform'==t)return'string'==typeof r&&(r=m(r).replace(/\.{3}|\u2026/g,n)),n=this.matrix,r=e._.rgTransform.test(r)?e._.transform2matrix(r,this.getBBox()):e._.transform2matrix(e._.svgTransform2string(r),this.getBBox()),o(n,r,function(){return a.getBBox(1)});if('d'==t||'path'==t)return _=e.path.toCubic(n,r),{from:p(_[0]),to:p(_[1]),f:u(_[0])};if('points'==t)return _=m(n).split(e._.separator),x=m(r).split(e._.separator),{from:_,to:x,f:function(e){return e}};if(c(n)&&c(r))return{from:parseFloat(n),to:parseFloat(r),f:i};var v=n.match(y),T=m(r).match(y);return v&&h(v,T)?{from:parseFloat(n),to:parseFloat(r),f:s(v)}:{from:this.asPX(t),to:this.asPX(t,r),f:i}})}),u.plugin(function(r,e,n,a){for(var o=e.prototype,s=('createTouch'in a.doc),d=['click','dblclick','mousedown','mousemove','mouseout','mouseover','mouseup','touchstart','touchmove','touchend','touchcancel'],l={mousedown:'touchstart',mousemove:'touchmove',mouseup:'touchend'},u=function(e,t){var r='y'==e?'scrollTop':'scrollLeft',n=t&&t.node?t.node.ownerDocument:a.doc;return n[(r in n.documentElement)?'documentElement':'body'][r]},p=function(){return this.originalEvent.preventDefault()},c=function(){return this.originalEvent.stopPropagation()},h=function(t,r,n,a){var e=s&&l[r]?l[r]:r,o=function(o){var e=u('y',a),d=u('x',a);if(s&&l['hasOwnProperty'](r))for(var h=0,i=o.targetTouches&&o.targetTouches.length;h<i;h++)if(o.targetTouches[h].target==t||t.contains(o.targetTouches[h].target)){var f=o;o=o.targetTouches[h],o.originalEvent=f,o.preventDefault=p,o.stopPropagation=c;break}var m=o.clientX+d,_=o.clientY+e;return n.call(a,o,m,_)};return r!==e&&t.addEventListener(r,o,!1),t.addEventListener(e,o,!1),function(){return r!==e&&t.removeEventListener(r,o,!1),t.removeEventListener(e,o,!1),!0}},f=[],m=function(r){for(var e=r.clientX,n=r.clientY,a=u('y'),o=u('x'),d=f.length,l;d--;){if(l=f[d],s){for(var p=r.touches&&r.touches.length,i;p--;)if(i=r.touches[p],i.identifier==l.el._drag.id||l.el.node.contains(i.target)){e=i.clientX,n=i.clientY,(r.originalEvent?r.originalEvent:r).preventDefault();break}}else r.preventDefault();var c=l.el.node,h=c.nextSibling,y=c.parentNode,m=c.style.display;e+=o,n+=a,t('snap.drag.move.'+l.el.id,l.move_scope||l.el,e-l.el._drag.x,n-l.el._drag.y,e,n,r)}},_=function(n){r.unmousemove(m).unmouseup(_);for(var e=f.length,a;e--;)a=f[e],a.el._drag={},t('snap.drag.end.'+a.el.id,a.end_scope||a.start_scope||a.move_scope||a.el,n),t.off('snap.drag.*.'+a.el.id);f=[]},y=d.length;y--;)(function(e){r[e]=o[e]=function(t,n){if(r.is(t,'function'))this.events=this.events||[],this.events.push({name:e,f:t,unbind:h(this.node||document,e,t,n||this)});else for(var a=0,o=this.events.length;a<o;a++)if(this.events[a].name==e)try{this.events[a].f.call(this)}catch(t){}return this},r['un'+e]=o['un'+e]=function(t){for(var r=this.events||[],n=r.length;n--;)if(r[n].name==e&&(r[n].f==t||!t))return r[n].unbind(),r.splice(n,1),r.length||delete this.events,this;return this}})(d[y]);o.hover=function(e,t,r,n){return this.mouseover(e,r).mouseout(t,n||r)},o.unhover=function(e,t){return this.unmouseover(e).unmouseout(t)};var x=[];o.drag=function(n,a,o,i,s,d){function e(l,e,p){(l.originalEvent||l).preventDefault(),u._drag.x=e,u._drag.y=p,u._drag.id=l.identifier,f.length||r.mousemove(m).mouseup(_),f.push({el:u,move_scope:i,start_scope:s,end_scope:d}),a&&t.on('snap.drag.start.'+u.id,a),n&&t.on('snap.drag.move.'+u.id,n),o&&t.on('snap.drag.end.'+u.id,o),t('snap.drag.start.'+u.id,s||i||u,e,p,l)}function l(r,e,n){t('snap.draginit.'+u.id,u,r,e,n)}var u=this;if(!arguments.length){var p;return u.drag(function(e,t){this.attr({transform:p+(p?'T':'t')+[e,t]})},function(){p=this.transform().local})}return t.on('snap.draginit.'+u.id,e),u._drag={},x.push({el:u,start:e,init:l}),u.mousedown(l),u},o.undrag=function(){for(var e=x.length;e--;)x[e].el==this&&(this.unmousedown(x[e].init),x.splice(e,1),t.unbind('snap.drag.*.'+this.id),t.unbind('snap.draginit.'+this.id));return x.length||r.unmousemove(m).unmouseup(_),this}}),u.plugin(function(e,r,n){var a=r.prototype,o=n.prototype,i=/^\s*url\((.+)\)/,s=String,d=e._.$;e.filter={},o.filter=function(t){var n=this;'svg'!=n.type&&(n=n.paper);var a=e.parse(s(t)),o=e._.id(),i=n.node.offsetWidth,l=n.node.offsetHeight,u=d('filter');return d(u,{id:o,filterUnits:'userSpaceOnUse'}),u.appendChild(a.node),n.defs.appendChild(u),new r(u)},t.on('snap.util.getattr.filter',function(){t.stop();var r=d(this.node,'filter');if(r){var n=s(r).match(i);return n&&e.select(n[1])}}),t.on('snap.util.attr.filter',function(n){if(n instanceof r&&'filter'==n.type){t.stop();var a=n.node.id;a||(d(n.node,{id:n.id}),a=n.id),d(this.node,{filter:e.url(a)})}n&&'none'!=n||(t.stop(),this.node.removeAttribute('filter'))}),e.filter.blur=function(t,r){null==t&&(t=2);var n=null==r?t:[t,r];return e.format('<feGaussianBlur stdDeviation="{def}"/>',{def:n})},e.filter.blur.toString=function(){return this()},e.filter.shadow=function(t,r,n,a,o){return null==o&&(null==a?(o=n,n=4,a='#000'):(o=a,a=n,n=4)),null==n&&(n=4),null==o&&(o=1),null==t&&(t=0,r=2),null==r&&(r=t),a=e.color(a),e.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',{color:a,dx:t,dy:r,blur:n,opacity:o})},e.filter.shadow.toString=function(){return this()},e.filter.grayscale=function(t){return null==t&&(t=1),e.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-t),b:.7152-.7152*(1-t),c:.0722-.0722*(1-t),d:.2126-.2126*(1-t),e:.7152+.2848*(1-t),f:.0722-.0722*(1-t),g:.2126-.2126*(1-t),h:.0722+.9278*(1-t)})},e.filter.grayscale.toString=function(){return this()},e.filter.sepia=function(t){return null==t&&(t=1),e.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-t),b:.769-.769*(1-t),c:.189-.189*(1-t),d:.349-.349*(1-t),e:.686+.314*(1-t),f:.168-.168*(1-t),g:.272-.272*(1-t),h:.534-.534*(1-t),i:.131+.869*(1-t)})},e.filter.sepia.toString=function(){return this()},e.filter.saturate=function(t){return null==t&&(t=1),e.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-t})},e.filter.saturate.toString=function(){return this()},e.filter.hueRotate=function(t){return t=t||0,e.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:t})},e.filter.hueRotate.toString=function(){return this()},e.filter.invert=function(t){return null==t&&(t=1),e.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:t,amount2:1-t})},e.filter.invert.toString=function(){return this()},e.filter.brightness=function(t){return null==t&&(t=1),e.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:t})},e.filter.brightness.toString=function(){return this()},e.filter.contrast=function(t){return null==t&&(t=1),e.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',{amount:t,amount2:.5-t/2})},e.filter.contrast.toString=function(){return this()}}),u.plugin(function(e,t){var r=e._.box,n=e.is,a=/^[^a-z]*([tbmlrc])/i,o=function(){return'T'+this.dx+','+this.dy};t.prototype.getAlign=function(e,t){null==t&&n(e,'string')&&(t=e,e=null),e=e||this.paper;var i=e.getBBox?e.getBBox():r(e),s=this.getBBox(),d={};switch(t=t&&t.match(a),t=t?t[1].toLowerCase():'c',t){case't':d.dx=0,d.dy=i.y-s.y;break;case'b':d.dx=0,d.dy=i.y2-s.y2;break;case'm':d.dx=0,d.dy=i.cy-s.cy;break;case'l':d.dx=i.x-s.x,d.dy=0;break;case'r':d.dx=i.x2-s.x2,d.dy=0;break;default:d.dx=i.cx-s.cx,d.dy=0;}return d.toString=o,d},t.prototype.align=function(e,t){return this.transform('...'+this.getAlign(e,t))}}),u.plugin(function(t){function r(e){e=e.split(/(?=#)/);var t=new String(e[5]);return t[50]=e[0],t[100]=e[1],t[200]=e[2],t[300]=e[3],t[400]=e[4],t[500]=e[5],t[600]=e[6],t[700]=e[7],t[800]=e[8],t[900]=e[9],e[10]&&(t.A100=e[10],t.A200=e[11],t.A400=e[12],t.A700=e[13]),t}t.mui={},t.flat={},t.mui.red=r('#ffebee#ffcdd2#ef9a9a#e57373#ef5350#f44336#e53935#d32f2f#c62828#b71c1c#ff8a80#ff5252#ff1744#d50000'),t.mui.pink=r('#FCE4EC#F8BBD0#F48FB1#F06292#EC407A#E91E63#D81B60#C2185B#AD1457#880E4F#FF80AB#FF4081#F50057#C51162'),t.mui.purple=r('#F3E5F5#E1BEE7#CE93D8#BA68C8#AB47BC#9C27B0#8E24AA#7B1FA2#6A1B9A#4A148C#EA80FC#E040FB#D500F9#AA00FF'),t.mui.deeppurple=r('#EDE7F6#D1C4E9#B39DDB#9575CD#7E57C2#673AB7#5E35B1#512DA8#4527A0#311B92#B388FF#7C4DFF#651FFF#6200EA'),t.mui.indigo=r('#E8EAF6#C5CAE9#9FA8DA#7986CB#5C6BC0#3F51B5#3949AB#303F9F#283593#1A237E#8C9EFF#536DFE#3D5AFE#304FFE'),t.mui.blue=r('#E3F2FD#BBDEFB#90CAF9#64B5F6#64B5F6#2196F3#1E88E5#1976D2#1565C0#0D47A1#82B1FF#448AFF#2979FF#2962FF'),t.mui.lightblue=r('#E1F5FE#B3E5FC#81D4FA#4FC3F7#29B6F6#03A9F4#039BE5#0288D1#0277BD#01579B#80D8FF#40C4FF#00B0FF#0091EA'),t.mui.cyan=r('#E0F7FA#B2EBF2#80DEEA#4DD0E1#26C6DA#00BCD4#00ACC1#0097A7#00838F#006064#84FFFF#18FFFF#00E5FF#00B8D4'),t.mui.teal=r('#E0F2F1#B2DFDB#80CBC4#4DB6AC#26A69A#009688#00897B#00796B#00695C#004D40#A7FFEB#64FFDA#1DE9B6#00BFA5'),t.mui.green=r('#E8F5E9#C8E6C9#A5D6A7#81C784#66BB6A#4CAF50#43A047#388E3C#2E7D32#1B5E20#B9F6CA#69F0AE#00E676#00C853'),t.mui.lightgreen=r('#F1F8E9#DCEDC8#C5E1A5#AED581#9CCC65#8BC34A#7CB342#689F38#558B2F#33691E#CCFF90#B2FF59#76FF03#64DD17'),t.mui.lime=r('#F9FBE7#F0F4C3#E6EE9C#DCE775#D4E157#CDDC39#C0CA33#AFB42B#9E9D24#827717#F4FF81#EEFF41#C6FF00#AEEA00'),t.mui.yellow=r('#FFFDE7#FFF9C4#FFF59D#FFF176#FFEE58#FFEB3B#FDD835#FBC02D#F9A825#F57F17#FFFF8D#FFFF00#FFEA00#FFD600'),t.mui.amber=r('#FFF8E1#FFECB3#FFE082#FFD54F#FFCA28#FFC107#FFB300#FFA000#FF8F00#FF6F00#FFE57F#FFD740#FFC400#FFAB00'),t.mui.orange=r('#FFF3E0#FFE0B2#FFCC80#FFB74D#FFA726#FF9800#FB8C00#F57C00#EF6C00#E65100#FFD180#FFAB40#FF9100#FF6D00'),t.mui.deeporange=r('#FBE9E7#FFCCBC#FFAB91#FF8A65#FF7043#FF5722#F4511E#E64A19#D84315#BF360C#FF9E80#FF6E40#FF3D00#DD2C00'),t.mui.brown=r('#EFEBE9#D7CCC8#BCAAA4#A1887F#8D6E63#795548#6D4C41#5D4037#4E342E#3E2723'),t.mui.grey=r('#FAFAFA#F5F5F5#EEEEEE#E0E0E0#BDBDBD#9E9E9E#757575#616161#424242#212121'),t.mui.bluegrey=r('#ECEFF1#CFD8DC#B0BEC5#90A4AE#78909C#607D8B#546E7A#455A64#37474F#263238'),t.flat.turquoise='#1abc9c',t.flat.greensea='#16a085',t.flat.sunflower='#f1c40f',t.flat.orange='#f39c12',t.flat.emerland='#2ecc71',t.flat.nephritis='#27ae60',t.flat.carrot='#e67e22',t.flat.pumpkin='#d35400',t.flat.peterriver='#3498db',t.flat.belizehole='#2980b9',t.flat.alizarin='#e74c3c',t.flat.pomegranate='#c0392b',t.flat.amethyst='#9b59b6',t.flat.wisteria='#8e44ad',t.flat.clouds='#ecf0f1',t.flat.silver='#bdc3c7',t.flat.wetasphalt='#34495e',t.flat.midnightblue='#2c3e50',t.flat.concrete='#95a5a6',t.flat.asbestos='#7f8c8d',t.importMUIColors=function(){for(var r in t.mui)t.mui.hasOwnProperty(r)&&(e[r]=t.mui[r])}}),u})}).call(window)},function(e){var t=function(){return this}();try{t=t||new Function('return this')()}catch(r){'object'==typeof window&&(t=window)}e.exports=t},function(e,t){'use strict';function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;r(this,e),this.x=t,this.y=n}return e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.copy=function(e){this.set(e.x,e.y)},e.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},e.prototype.set=function(e,t){this.x=e||0,this.y=t||(0===t?0:this.x)},e}();t.default=n},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var o=Math.atan2,a=Math.cos,i=Math.sin,s=Math.abs,l=Math.sqrt,u=Math.PI;t.__esModule=!0;var d=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),p=r(23),c=function(e){return e&&e.__esModule?e:{default:e}}(p),h=r(0),f=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,s=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;n(this,e),this.a=t,this.b=r,this.c=a,this.d=o,this.tx=i,this.ty=s,this.array=null}return e.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},e.prototype.set=function(e,t,r,n,a,o){return this.a=e,this.b=t,this.c=r,this.d=n,this.tx=a,this.ty=o,this},e.prototype.toArray=function(e,t){this.array||(this.array=new Float32Array(9));var r=t||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},e.prototype.apply=function(e,t){t=t||new c.default;var r=e.x,n=e.y;return t.x=this.a*r+this.c*n+this.tx,t.y=this.b*r+this.d*n+this.ty,t},e.prototype.applyInverse=function(e,t){t=t||new c.default;var r=1/(this.a*this.d+this.c*-this.b),n=e.x,a=e.y;return t.x=this.d*r*n+-this.c*r*a+(this.ty*this.c-this.tx*this.d)*r,t.y=this.a*r*a+-this.b*r*n+(-this.ty*this.a+this.tx*this.b)*r,t},e.prototype.translate=function(e,t){return this.tx+=e,this.ty+=t,this},e.prototype.scale=function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this},e.prototype.rotate=function(e){var t=a(e),r=i(e),n=this.a,o=this.c,s=this.tx;return this.a=n*t-this.b*r,this.b=n*r+this.b*t,this.c=o*t-this.d*r,this.d=o*r+this.d*t,this.tx=s*t-this.ty*r,this.ty=s*r+this.ty*t,this},e.prototype.append=function(e){var t=this.a,r=this.b,n=this.c,a=this.d;return this.a=e.a*t+e.b*n,this.b=e.a*r+e.b*a,this.c=e.c*t+e.d*n,this.d=e.c*r+e.d*a,this.tx=e.tx*t+e.ty*n+this.tx,this.ty=e.tx*r+e.ty*a+this.ty,this},e.prototype.setTransform=function(e,t,r,n,o,s,d,l,u){return this.a=a(d+u)*o,this.b=i(d+u)*o,this.c=-i(d-l)*s,this.d=a(d-l)*s,this.tx=e-(r*this.a+n*this.c),this.ty=t-(r*this.b+n*this.d),this},e.prototype.prepend=function(e){var t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){var r=this.a,n=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=n*e.a+this.d*e.c,this.d=n*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this},e.prototype.decompose=function(e){var t=this.a,r=this.b,n=this.c,a=this.d,i=-o(-n,a),d=o(r,t),p=s(i+d);return 1e-5>p||1e-5>s(h.PI_2-p)?(e.rotation=d,0>t&&0<=a&&(e.rotation+=0>=e.rotation?u:-u),e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=i,e.skew.y=d),e.scale.x=l(t*t+r*r),e.scale.y=l(n*n+a*a),e.position.x=this.tx,e.position.y=this.ty,e},e.prototype.invert=function(){var e=this.a,t=this.b,r=this.c,a=this.d,o=this.tx,i=e*a-t*r;return this.a=a/i,this.b=-t/i,this.c=-r/i,this.d=e/i,this.tx=(r*this.ty-a*o)/i,this.ty=-(e*this.ty-t*o)/i,this},e.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},e.prototype.clone=function(){var t=new e;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copy=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},d(e,null,[{key:'IDENTITY',get:function(){return new e}},{key:'TEMP_MATRIX',get:function(){return new e}}]),e}();t.default=f},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var a=Math.max,o=Math.min;t.__esModule=!0;var i=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(0),d=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;n(this,e),this.x=+t,this.y=+r,this.width=+a,this.height=+o,this.type=s.SHAPES.RECT}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},e.prototype.contains=function(e,t){return!(0>=this.width||0>=this.height)&&!!(e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height)},e.prototype.pad=function(e,t){e=e||0,t=t||(0===t?0:e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t},e.prototype.fit=function(e){this.x<e.x&&(this.width+=this.x,0>this.width&&(this.width=0),this.x=e.x),this.y<e.y&&(this.height+=this.y,0>this.height&&(this.height=0),this.y=e.y),this.x+this.width>e.x+e.width&&(this.width=e.width-this.x,0>this.width&&(this.width=0)),this.y+this.height>e.y+e.height&&(this.height=e.height-this.y,0>this.height&&(this.height=0))},e.prototype.enlarge=function(e){var t=o(this.x,e.x),r=a(this.x+this.width,e.x+e.width),n=o(this.y,e.y),i=a(this.y+this.height,e.y+e.height);this.x=t,this.width=r-t,this.y=n,this.height=i-n},i(e,[{key:'left',get:function(){return this.x}},{key:'right',get:function(){return this.x+this.width}},{key:'top',get:function(){return this.y}},{key:'bottom',get:function(){return this.y+this.height}}],[{key:'EMPTY',get:function(){return new e(0,0,0,0)}}]),e}();t.default=d},function(e){var t=function(e,t){if(!r){var a=Object.keys(n);r={};for(var o=0,i;o<a.length;++o)i=a[o],r[e[i]]=n[i]}return r[t]},r=null,n={FLOAT:'float',FLOAT_VEC2:'vec2',FLOAT_VEC3:'vec3',FLOAT_VEC4:'vec4',INT:'int',INT_VEC2:'ivec2',INT_VEC3:'ivec3',INT_VEC4:'ivec4',BOOL:'bool',BOOL_VEC2:'bvec2',BOOL_VEC3:'bvec3',BOOL_VEC4:'bvec4',FLOAT_MAT2:'mat2',FLOAT_MAT3:'mat3',FLOAT_MAT4:'mat4',SAMPLER_2D:'sampler2D'};e.exports=t},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var a=Math.max,o=Math.min;t.__esModule=!0;var i=r(4),s=function(){function e(){n(this,e),this.minX=Infinity,this.minY=Infinity,this.maxX=-Infinity,this.maxY=-Infinity,this.rect=null}return e.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},e.prototype.clear=function(){this.updateID++,this.minX=Infinity,this.minY=Infinity,this.maxX=-Infinity,this.maxY=-Infinity},e.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?i.Rectangle.EMPTY:(e=e||new i.Rectangle(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},e.prototype.addPoint=function(e){this.minX=o(this.minX,e.x),this.maxX=a(this.maxX,e.x),this.minY=o(this.minY,e.y),this.maxY=a(this.maxY,e.y)},e.prototype.addQuad=function(e){var t=this.minX,r=this.minY,n=this.maxX,a=this.maxY,o=e[0],i=e[1];t=o<t?o:t,r=i<r?i:r,n=o>n?o:n,a=i>a?i:a,o=e[2],i=e[3],t=o<t?o:t,r=i<r?i:r,n=o>n?o:n,a=i>a?i:a,o=e[4],i=e[5],t=o<t?o:t,r=i<r?i:r,n=o>n?o:n,a=i>a?i:a,o=e[6],i=e[7],t=o<t?o:t,r=i<r?i:r,n=o>n?o:n,a=i>a?i:a,this.minX=t,this.minY=r,this.maxX=n,this.maxY=a},e.prototype.addFrame=function(e,t,r,n,o){var i=e.worldTransform,s=i.a,a=i.b,l=i.c,u=i.d,d=i.tx,p=i.ty,c=this.minX,h=this.minY,f=this.maxX,m=this.maxY,_=s*t+l*r+d,x=a*t+u*r+p;c=_<c?_:c,h=x<h?x:h,f=_>f?_:f,m=x>m?x:m,_=s*n+l*r+d,x=a*n+u*r+p,c=_<c?_:c,h=x<h?x:h,f=_>f?_:f,m=x>m?x:m,_=s*t+l*o+d,x=a*t+u*o+p,c=_<c?_:c,h=x<h?x:h,f=_>f?_:f,m=x>m?x:m,_=s*n+l*o+d,x=a*n+u*o+p,c=_<c?_:c,h=x<h?x:h,f=_>f?_:f,m=x>m?x:m,this.minX=c,this.minY=h,this.maxX=f,this.maxY=m},e.prototype.addVertices=function(e,t,r,n){for(var o=e.worldTransform,s=o.a,a=o.b,l=o.c,u=o.d,d=o.tx,p=o.ty,c=this.minX,h=this.minY,f=this.maxX,m=this.maxY,_=r;_<n;_+=2){var i=t[_],b=t[_+1],v=s*i+l*b+d,x=u*b+a*i+p;c=v<c?v:c,h=x<h?x:h,f=v>f?v:f,m=x>m?x:m}this.minX=c,this.minY=h,this.maxX=f,this.maxY=m},e.prototype.addBounds=function(e){var t=this.minX,r=this.minY,n=this.maxX,a=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>n?e.maxX:n,this.maxY=e.maxY>a?e.maxY:a},e.prototype.addBoundsMask=function(e,t){var r=e.minX>t.minX?e.minX:t.minX,n=e.minY>t.minY?e.minY:t.minY,a=e.maxX<t.maxX?e.maxX:t.maxX,o=e.maxY<t.maxY?e.maxY:t.maxY;if(r<=a&&n<=o){var i=this.minX,s=this.minY,d=this.maxX,l=this.maxY;this.minX=r<i?r:i,this.minY=n<s?n:s,this.maxX=a>d?a:d,this.maxY=o>l?o:l}},e.prototype.addBoundsArea=function(e,t){var r=e.minX>t.x?e.minX:t.x,n=e.minY>t.y?e.minY:t.y,a=e.maxX<t.x+t.width?e.maxX:t.x+t.width,o=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(r<=a&&n<=o){var i=this.minX,s=this.minY,d=this.maxX,l=this.maxY;this.minX=r<i?r:i,this.minY=n<s?n:s,this.maxX=a>d?a:d,this.maxY=o>l?o:l}},e}();t.default=s},function(e,t){var r,n,a;(function(o){var i=/iPhone/i,s=/iPod/i,d=/iPad/i,l=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,u=/Android/i,p=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,c=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,h=/Windows Phone/i,f=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,y=/BlackBerry/i,m=/BB10/i,_=/Opera Mini/i,x=/(CriOS|Chrome)(?=.*\bMobile\b)/i,b=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,v=/(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)/i,T=function(e,t){return e.test(t)},E=function(e){var t=e||navigator.userAgent,r=t.split('[FBAN');if('undefined'!=typeof r[1]&&(t=r[0]),r=t.split('Twitter'),'undefined'!=typeof r[1]&&(t=r[0]),this.apple={phone:T(i,t),ipod:T(s,t),tablet:!T(i,t)&&T(d,t),device:T(i,t)||T(s,t)||T(d,t)},this.amazon={phone:T(p,t),tablet:!T(p,t)&&T(c,t),device:T(p,t)||T(c,t)},this.android={phone:T(p,t)||T(l,t),tablet:!T(p,t)&&!T(l,t)&&(T(c,t)||T(u,t)),device:T(p,t)||T(c,t)||T(l,t)||T(u,t)},this.windows={phone:T(h,t),tablet:T(f,t),device:T(h,t)||T(f,t)},this.other={blackberry:T(y,t),blackberry10:T(m,t),opera:T(_,t),firefox:T(b,t),chrome:T(x,t),device:T(y,t)||T(m,t)||T(_,t)||T(b,t)||T(x,t)},this.seven_inch=T(v,t),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,'undefined'==typeof window)return this},S=function(){var e=new E;return e.Class=E,e};e.exports&&'undefined'==typeof window?e.exports=E:e.exports&&'undefined'!=typeof window?e.exports=S():(n=[],r=o.isMobile=S(),a='function'==typeof r?r.apply(t,n):r,!(a!==void 0&&(e.exports=a)))})(this)},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=r(4),o=function(){function e(){n(this,e),this.worldTransform=new a.Matrix,this.localTransform=new a.Matrix,this._worldID=0,this._parentID=0}return e.prototype.updateLocalTransform=function(){},e.prototype.updateTransform=function(e){var t=e.worldTransform,r=this.worldTransform,n=this.localTransform;r.a=n.a*t.a+n.b*t.c,r.b=n.a*t.b+n.b*t.d,r.c=n.c*t.a+n.d*t.c,r.d=n.c*t.b+n.d*t.d,r.tx=n.tx*t.a+n.ty*t.c+t.tx,r.ty=n.tx*t.b+n.ty*t.d+t.ty,this._worldID++},e}();t.default=o,o.prototype.updateWorldTransform=o.prototype.updateTransform,o.IDENTITY=new o},function(e){'use strict';function t(e,t,n){n=n||2;var a=t&&t.length,s=a?t[0]*n:e.length,d=r(e,0,s,n,!0),u=[];if(!d||d.next===d.prev)return u;var p,c,h,f,m,_,y;if(a&&(d=l(e,t,d,n)),e.length>80*n){p=h=e[0],c=f=e[1];for(var x=n;x<s;x+=n)m=e[x],_=e[x+1],m<p&&(p=m),_<c&&(c=_),m>h&&(h=m),_>f&&(f=_);y=Math.max(h-p,f-c),y=0===y?0:1/y}return o(d,u,n,p,c,y),u}function r(e,t,r,n,a){var o,i;if(a===0<O(e,t,r,n))for(o=t;o<r;o+=n)i=b(o,e[o],e[o+1],i);else for(o=r-n;o>=t;o-=n)i=b(o,e[o],e[o+1],i);return i&&T(i,i.next)&&(M(i),i=i.next),i}function n(e,t){if(!e)return e;t||(t=e);var r=e,n;do if(n=!1,!r.steiner&&(T(r,r.next)||0===v(r.prev,r,r.next))){if(M(r),r=t=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==t);return t}function o(e,t,r,l,u,p,c){if(e){!c&&p&&h(e,l,u,p);for(var f=e,y,m;e.prev!==e.next;){if(y=e.prev,m=e.next,p?i(e,l,u,p):a(e)){t.push(y.i/r),t.push(e.i/r),t.push(m.i/r),M(e),e=m.next,f=m.next;continue}if(e=m,e===f){c?1===c?(e=s(e,t,r),o(e,t,r,l,u,p,2)):2==c&&d(e,t,r,l,u,p):o(n(e),t,r,l,u,p,1);break}}}}function a(e){var t=e.prev,r=e,n=e.next;if(0<=v(t,r,n))return!1;for(var a=e.next.next;a!==e.prev;){if(_(t.x,t.y,r.x,r.y,n.x,n.y,a.x,a.y)&&0<=v(a.prev,a,a.next))return!1;a=a.next}return!0}function i(e,t,r,o){var i=e.prev,a=e,s=e.next;if(0<=v(i,a,s))return!1;for(var d=i.x<a.x?i.x<s.x?i.x:s.x:a.x<s.x?a.x:s.x,l=i.y<a.y?i.y<s.y?i.y:s.y:a.y<s.y?a.y:s.y,u=i.x>a.x?i.x>s.x?i.x:s.x:a.x>s.x?a.x:s.x,c=i.y>a.y?i.y>s.y?i.y:s.y:a.y>s.y?a.y:s.y,h=y(d,l,t,r,o),f=y(u,c,t,r,o),m=e.prevZ,p=e.nextZ;m&&m.z>=h&&p&&p.z<=f;){if(m!==e.prev&&m!==e.next&&_(i.x,i.y,a.x,a.y,s.x,s.y,m.x,m.y)&&0<=v(m.prev,m,m.next))return!1;if(m=m.prevZ,p!==e.prev&&p!==e.next&&_(i.x,i.y,a.x,a.y,s.x,s.y,p.x,p.y)&&0<=v(p.prev,p,p.next))return!1;p=p.nextZ}for(;m&&m.z>=h;){if(m!==e.prev&&m!==e.next&&_(i.x,i.y,a.x,a.y,s.x,s.y,m.x,m.y)&&0<=v(m.prev,m,m.next))return!1;m=m.prevZ}for(;p&&p.z<=f;){if(p!==e.prev&&p!==e.next&&_(i.x,i.y,a.x,a.y,s.x,s.y,p.x,p.y)&&0<=v(p.prev,p,p.next))return!1;p=p.nextZ}return!0}function s(e,t,r){var n=e;do{var o=n.prev,a=n.next.next;!T(o,a)&&E(o,n,n.next,a)&&C(o,a)&&C(a,o)&&(t.push(o.i/r),t.push(n.i/r),t.push(a.i/r),M(n),M(n.next),n=e=a),n=n.next}while(n!==e);return n}function d(e,t,r,i,s,d){var l=e;do{for(var a=l.next.next;a!==l.prev;){if(l.i!==a.i&&x(l,a)){var u=A(l,a);return l=n(l,l.next),u=n(u,u.next),o(l,t,r,i,s,d),void o(u,t,r,i,s,d)}a=a.next}l=l.next}while(l!==e)}function l(e,t,a,o){var s=[],d,i,l,c,h;for(d=0,i=t.length;d<i;d++)l=t[d]*o,c=d<i-1?t[d+1]*o:e.length,h=r(e,l,c,o,!1),h===h.next&&(h.steiner=!0),s.push(m(h));for(s.sort(u),d=0;d<s.length;d++)p(s[d],a),a=n(a,a.next);return a}function u(e,t){return e.x-t.x}function p(e,t){if(t=c(e,t),t){var r=A(t,e);n(r,r.next)}}function c(e,t){var r=t,n=e.x,a=e.y,o=-Infinity,i;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=n&&s>o){if(o=s,s===n){if(a===r.y)return r;if(a===r.next.y)return r.next}i=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!i)return null;if(n===o)return i.prev;var d=i,l=i.x,u=i.y,p=Infinity,c;for(r=i.next;r!==d;)n>=r.x&&r.x>=l&&n!==r.x&&_(a<u?n:o,a,l,u,a<u?o:n,a,r.x,r.y)&&(c=D(a-r.y)/(n-r.x),(c<p||c===p&&r.x>i.x)&&C(r,e)&&(i=r,p=c)),r=r.next;return i}function h(e,t,r,n){var a=e;do null===a.z&&(a.z=y(a.x,a.y,t,r,n)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next;while(a!==e);a.prevZ.nextZ=null,a.prevZ=null,f(a)}function f(t){var r=1,n,a,o,i,e,s,d,l;do{for(a=t,t=null,e=null,s=0;a;){for(s++,o=a,d=0,n=0;n<r&&(d++,o=o.nextZ,!!o);n++);for(l=r;0<d||0<l&&o;)0!==d&&(0===l||!o||a.z<=o.z)?(i=a,a=a.nextZ,d--):(i=o,o=o.nextZ,l--),e?e.nextZ=i:t=i,i.prevZ=e,e=i;a=o}e.nextZ=null,r*=2}while(1<s);return t}function y(e,t,r,n,a){return e=32767*(e-r)*a,t=32767*(t-n)*a,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function m(e){var t=e,r=e;do t.x<r.x&&(r=t),t=t.next;while(t!==e);return r}function _(e,t,r,n,a,o,i,s){return 0<=(a-i)*(t-s)-(e-i)*(o-s)&&0<=(e-i)*(n-s)-(r-i)*(t-s)&&0<=(r-i)*(o-s)-(a-i)*(n-s)}function x(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!S(e,t)&&C(e,t)&&C(t,e)&&P(e,t)}function v(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function T(e,t){return e.x===t.x&&e.y===t.y}function E(e,t,r,n){return!!(T(e,t)&&T(r,n)||T(e,n)&&T(r,t))||0<v(e,t,r)!=0<v(e,t,n)&&0<v(r,n,e)!=0<v(r,n,t)}function S(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&E(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}function C(e,t){return 0>v(e.prev,e,e.next)?0<=v(e,t,e.next)&&0<=v(e,e.prev,t):0>v(e,t,e.prev)||0>v(e,e.next,t)}function P(e,t){var r=e,n=!1,a=(e.x+t.x)/2,o=(e.y+t.y)/2;do r.y>o!=r.next.y>o&&r.next.y!==r.y&&a<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==e);return n}function A(e,t){var r=new w(e.i,e.x,e.y),n=new w(t.i,t.x,t.y),a=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=a,a.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function b(e,t,r,n){var a=new w(e,t,r);return n?(a.next=n.next,a.prev=n,n.next.prev=a,n.next=a):(a.prev=a,a.next=a),a}function M(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function w(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function O(e,t,r,n){for(var a=0,o=t,i=r-n;o<r;o+=n)a+=(e[i]-e[o])*(e[o+1]+e[i+1]),i=o;return a}var D=Math.abs;e.exports=t,e.exports.default=t,t.deviation=function(e,t,r,n){var o=t&&t.length,s=o?t[0]*r:e.length,d=D(O(e,0,s,r));if(o)for(var l=0,i=t.length;l<i;l++){var u=t[l]*r,p=l<i-1?t[l+1]*r:e.length;d-=D(O(e,u,p,r))}var h=0;for(l=0;l<n.length;l+=3){var f=n[l]*r,a=n[l+1]*r,y=n[l+2]*r;h+=D((e[f]-e[y])*(e[a+1]-e[f+1])-(e[f]-e[a])*(e[y+1]-e[f+1]))}return 0===d&&0===h?0:D((h-d)/d)},t.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,a=0;a<e.length;a++){for(var o=0;o<e[a].length;o++)for(var i=0;i<t;i++)r.vertices.push(e[a][o][i]);0<a&&(n+=e[a-1].length,r.holes.push(n))}return r}},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Math.abs;t.__esModule=!0;var d=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(4),u=r(2),p=r(0),c=r(8),h=n(c),f=r(11),y=n(f),m=new l.Point,_=function(e){function t(r){a(this,t);var n=o(this,e.call(this));return n._anchor=new l.ObservablePoint(n._onAnchorUpdate,n,r?r.defaultAnchor.x:0,r?r.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=p.BLEND_MODES.NORMAL,n.shader=null,n.cachedTint=16777215,n.texture=r||h.default.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.pluginName='sprite',n}return i(t,e),t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,u.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,u.sign)(this.scale.y)*this._height/this._texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var e=this._texture,t=this.transform.worldTransform,r=t.a,n=t.b,a=t.c,o=t.d,i=t.tx,s=t.ty,d=this.vertexData,l=e.trim,u=e.orig,p=this._anchor,c=0,h=0,f=0,y=0;l?(h=l.x-p._x*u.width,c=h+l.width,y=l.y-p._y*u.height,f=y+l.height):(h=-p._x*u.width,c=h+u.width,y=-p._y*u.height,f=y+u.height),d[0]=r*h+a*y+i,d[1]=o*y+n*h+s,d[2]=r*c+a*y+i,d[3]=o*y+n*c+s,d[4]=r*c+a*f+i,d[5]=o*f+n*c+s,d[6]=r*h+a*f+i,d[7]=o*f+n*h+s}},t.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,t=this.vertexTrimmedData,r=e.orig,n=this._anchor,o=this.transform.worldTransform,i=o.a,a=o.b,s=o.c,l=o.d,d=o.tx,u=o.ty,p=-n._x*r.width,c=p+r.width,h=-n._y*r.height,f=h+r.height;t[0]=i*p+s*h+d,t[1]=l*h+a*p+u,t[2]=i*c+s*h+d,t[3]=l*h+a*c+u,t[4]=i*c+s*f+d,t[5]=l*f+a*c+u,t[6]=i*p+s*f+d,t[7]=l*f+a*p+u},t.prototype._renderWebGL=function(e){this.calculateVertices(),e.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},t.prototype._renderCanvas=function(e){e.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var e=this._texture.trim,t=this._texture.orig;e&&(e.width!==t.width||e.height!==t.height)?(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData)):(this.calculateVertices(),this._bounds.addQuad(this.vertexData))},t.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(!this._localBoundsRect&&(this._localBoundsRect=new l.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,m);var t=this._texture.orig.width,r=this._texture.orig.height,n=-t*this.anchor.x,a=0;return!!(m.x>=n&&m.x<n+t&&(a=-r*this.anchor.y,m.y>=a&&m.y<a+r))},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this._texture.off('update',this._onTextureUpdate,this),this._anchor=null;var r='boolean'==typeof t?t:t&&t.texture;if(r){var n='boolean'==typeof t?t:t&&t.baseTexture;this._texture.destroy(!!n)}this._texture=null,this.shader=null},t.from=function(e){return new t(h.default.from(e))},t.fromFrame=function(e){var r=u.TextureCache[e];if(!r)throw new Error('The frameId "'+e+'" does not exist in the texture cache');return new t(r)},t.fromImage=function(e,r,n){return new t(h.default.fromImage(e,r,n))},d(t,[{key:'width',get:function(){return s(this.scale.x)*this._texture.orig.width},set:function(e){var t=(0,u.sign)(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}},{key:'height',get:function(){return s(this.scale.y)*this._texture.orig.height},set:function(e){var t=(0,u.sign)(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}},{key:'anchor',get:function(){return this._anchor},set:function(e){this._anchor.copy(e)}},{key:'tint',get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)}},{key:'texture',get:function(){return this._texture},set:function(e){this._texture===e||(this._texture=e||h.default.EMPTY,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.hasLoaded?this._onTextureUpdate():e.once('update',this._onTextureUpdate,this)))}}]),t}(y.default);t.default=_},function(e,t){'use strict';'use restrict';function r(e){var t=32;return e&=-e,e&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}var n=32;t.INT_BITS=n,t.INT_MAX=2147483647,t.INT_MIN=-1<<n-1,t.sign=function(e){return(0<e)-(0>e)},t.abs=function(e){var t=e>>n-1;return(e^t)-t},t.min=function(e,t){return t^(e^t)&-(e<t)},t.max=function(e,t){return e^(e^t)&-(e<t)},t.isPow2=function(e){return!(e&e-1)&&!!e},t.log2=function(e){var t,r;return t=(65535<e)<<4,e>>>=t,r=(255<e)<<3,e>>>=r,t|=r,r=(15<e)<<2,e>>>=r,t|=r,r=(3<e)<<1,e>>>=r,t|=r,t|e>>1},t.log10=function(e){return 1e9<=e?9:1e8<=e?8:1e7<=e?7:1e6<=e?6:1e5<=e?5:1e4<=e?4:1e3<=e?3:100<=e?2:10<=e?1:0},t.popCount=function(e){return e-=1431655765&e>>>1,e=(858993459&e)+(858993459&e>>>2),16843009*(252645135&e+(e>>>4))>>>24},t.countTrailingZeros=r,t.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1},t.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e-(e>>>1)},t.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,e&=15,1&27030>>>e};var a=Array(256);(function(e){for(var t=0;256>t;++t){var n=t,a=t,r=7;for(n>>>=1;n;n>>>=1)a<<=1,a|=1&n,--r;e[t]=255&a<<r}})(a),t.reverse=function(e){return a[255&e]<<24|a[255&e>>>8]<<16|a[255&e>>>16]<<8|a[255&e>>>24]},t.interleave2=function(e,t){return e&=65535,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1},t.deinterleave2=function(e,t){return e=1431655765&e>>>t,e=858993459&(e|e>>>1),e=252645135&(e|e>>>2),e=16711935&(e|e>>>4),e=65535&(e|e>>>16),e<<16>>16},t.interleave3=function(e,t,r){return e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),e|=t<<1,r&=1023,r=4278190335&(r|r<<16),r=251719695&(r|r<<8),r=3272356035&(r|r<<4),r=1227133513&(r|r<<2),e|r<<2},t.deinterleave3=function(e,t){return e=1227133513&e>>>t,e=3272356035&(e|e>>>2),e=251719695&(e|e>>>4),e=4278190335&(e|e>>>8),e=1023&(e|e>>>16),e<<22>>22},t.nextCombination=function(e){var n=e|e-1;return n+1|(~n&-~n)-1>>>r(e)+1}},function(e,t,r){'use strict';t.__esModule=!0,t.Ticker=t.shared=void 0;var n=r(119),a=function(e){return e&&e.__esModule?e:{default:e}}(n),o=new a.default;o.autoStart=!0,o.destroy=function(){},t.shared=o,t.Ticker=a.default},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Math.ceil;t.__esModule=!0;var d=r(58),l=n(d),u=r(8),p=n(u),c=function(e){function t(r,n){a(this,t);var i=null;if(!(r instanceof l.default)){var s=arguments[1],d=arguments[2],u=arguments[3],p=arguments[4];console.warn('Please use RenderTexture.create('+s+', '+d+') instead of the ctor directly.'),i=arguments[0],n=null,r=new l.default(s,d,u,p)}var c=o(this,e.call(this,r,n));return c.legacyRenderer=i,c.valid=!0,c._updateUvs(),c}return i(t,e),t.prototype.resize=function(e,t,r){e=s(e),t=s(t),this.valid=0<e&&0<t,this._frame.width=this.orig.width=e,this._frame.height=this.orig.height=t,r||this.baseTexture.resize(e,t),this._updateUvs()},t.create=function(e,r,n,a){return new t(new l.default(e,r,n,a))},t}(p.default);t.default=c},function(e,t,r){'use strict';var n=Math.ceil,a=Math.min;t.__esModule=!0;var o=r(2),i=r(60),s=function(e){return e&&e.__esModule?e:{default:e}}(i),d={getTintedTexture:function(e,t){var r=e._texture;t=d.roundColor(t);var n='#'+('00000'+(0|t).toString(16)).substr(-6);r.tintCache=r.tintCache||{};var a=r.tintCache[n],o=void 0;if(a){if(a.tintId===r._updateID)return r.tintCache[n];o=r.tintCache[n]}else o=d.canvas||document.createElement('canvas');if(d.tintMethod(r,t,o),o.tintId=r._updateID,d.convertTintToImage){var i=new Image;i.src=o.toDataURL(),r.tintCache[n]=i}else r.tintCache[n]=o,d.canvas=null;return o},tintWithMultiply:function(e,t,r){var a=r.getContext('2d'),o=e._frame.clone(),i=e.baseTexture.resolution;o.x*=i,o.y*=i,o.width*=i,o.height*=i,r.width=n(o.width),r.height=n(o.height),a.save(),a.fillStyle='#'+('00000'+(0|t).toString(16)).substr(-6),a.fillRect(0,0,o.width,o.height),a.globalCompositeOperation='multiply',a.drawImage(e.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),a.globalCompositeOperation='destination-atop',a.drawImage(e.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),a.restore()},tintWithOverlay:function(e,t,r){var a=r.getContext('2d'),o=e._frame.clone(),i=e.baseTexture.resolution;o.x*=i,o.y*=i,o.width*=i,o.height*=i,r.width=n(o.width),r.height=n(o.height),a.save(),a.globalCompositeOperation='copy',a.fillStyle='#'+('00000'+(0|t).toString(16)).substr(-6),a.fillRect(0,0,o.width,o.height),a.globalCompositeOperation='destination-atop',a.drawImage(e.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),a.restore()},tintWithPerPixel:function(e,t,a){var s=a.getContext('2d'),d=e._frame.clone(),l=e.baseTexture.resolution;d.x*=l,d.y*=l,d.width*=l,d.height*=l,a.width=n(d.width),a.height=n(d.height),s.save(),s.globalCompositeOperation='copy',s.drawImage(e.baseTexture.source,d.x,d.y,d.width,d.height,0,0,d.width,d.height),s.restore();for(var u=(0,o.hex2rgb)(t),p=u[0],r=u[1],c=u[2],h=s.getImageData(0,0,d.width,d.height),f=h.data,y=0;y<f.length;y+=4)f[y+0]*=p,f[y+1]*=r,f[y+2]*=c;s.putImageData(h,0,0)},roundColor:function(e){var t=d.cacheStepsPerColorChannel,r=(0,o.hex2rgb)(e);return r[0]=a(255,r[0]/t*t),r[1]=a(255,r[1]/t*t),r[2]=a(255,r[2]/t*t),(0,o.rgb2hex)(r)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,s.default)(),tintMethod:0};d.tintMethod=d.canUseMultiply?d.tintWithMultiply:d.tintWithPerPixel,t.default=d},function(e,t){'use strict';t.__esModule=!0,t.default=function(e){for(var t=6*e,r=new Uint16Array(t),n=0,a=0;n<t;n+=6,a+=4)r[n+0]=a+0,r[n+1]=a+1,r[n+2]=a+2,r[n+3]=a+0,r[n+4]=a+2,r[n+5]=a+3;return r}},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(){}function i(e,t,r){t&&0===t.indexOf('.')&&(t=t.substring(1));t&&(e[t]=r)}function s(e){return e.toString().replace('object ','')}t.__esModule=!0;var d=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(83),u=n(l),p=r(82),c=n(p),h=!(!window.XDomainRequest||'withCredentials'in new XMLHttpRequest),f=null,y=200,m=function(){function e(t,r,n){if(a(this,e),'string'!=typeof t||'string'!=typeof r)throw new Error('Both name and url are required for constructing a resource.');n=n||{},this._flags=0,this._setFlag(e.STATUS_FLAGS.DATA_URL,0===r.indexOf('data:')),this.name=t,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===n.crossOrigin?'anonymous':n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=e.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=o,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new c.default,this.onProgress=new c.default,this.onComplete=new c.default,this.onAfterMiddleware=new c.default}return e.setExtensionLoadType=function(t,r){i(e._loadTypeMap,t,r)},e.setExtensionXhrType=function(t,r){i(e._xhrTypeMap,t,r)},e.prototype.complete=function(){this._clearEvents(),this._finish()},e.prototype.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=e.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.prototype.load=function(t){var r=this;if(!this.isLoading){if(this.isComplete)return void(t&&setTimeout(function(){return t(r)},1));switch(t&&this.onComplete.once(t),this._setFlag(e.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(!1===this.crossOrigin||'string'!=typeof this.crossOrigin)&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case e.LOAD_TYPE.IMAGE:this.type=e.TYPE.IMAGE,this._loadElement('image');break;case e.LOAD_TYPE.AUDIO:this.type=e.TYPE.AUDIO,this._loadSourceElement('audio');break;case e.LOAD_TYPE.VIDEO:this.type=e.TYPE.VIDEO,this._loadSourceElement('video');break;case e.LOAD_TYPE.XHR:default:h&&this.crossOrigin?this._loadXdr():this._loadXhr();}}},e.prototype._hasFlag=function(e){return 0!=(this._flags&e)},e.prototype._setFlag=function(e,t){this._flags=t?this._flags|e:this._flags&~e},e.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener('error',this._boundOnError,!1),this.data.removeEventListener('load',this._boundComplete,!1),this.data.removeEventListener('progress',this._boundOnProgress,!1),this.data.removeEventListener('canplaythrough',this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener('error',this._boundXhrOnError,!1),this.xhr.removeEventListener('timeout',this._boundXhrOnTimeout,!1),this.xhr.removeEventListener('abort',this._boundXhrOnAbort,!1),this.xhr.removeEventListener('progress',this._boundOnProgress,!1),this.xhr.removeEventListener('load',this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e.prototype._finish=function(){if(this.isComplete)throw new Error('Complete called again for an already completed resource.');this._setFlag(e.STATUS_FLAGS.COMPLETE,!0),this._setFlag(e.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e.prototype._loadElement=function(e){this.data=this.metadata.loadElement?this.metadata.loadElement:'image'===e&&'undefined'!=typeof window.Image?new Image:document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener('error',this._boundOnError,!1),this.data.addEventListener('load',this._boundComplete,!1),this.data.addEventListener('progress',this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e.prototype._loadSourceElement=function(e){if(this.data=this.metadata.loadElement?this.metadata.loadElement:'audio'===e&&'undefined'!=typeof window.Audio?new Audio:document.createElement(e),null===this.data)return void this.abort('Unsupported element: '+e);if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var t=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(e,this.url[r],Array.isArray(t)?t[r]:t));else{var n=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(n)?n[0]:n))}this.data.addEventListener('error',this._boundOnError,!1),this.data.addEventListener('load',this._boundComplete,!1),this.data.addEventListener('progress',this._boundOnProgress,!1),this.data.addEventListener('canplaythrough',this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e.prototype._loadXhr=function(){'string'!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.timeout=this.timeout,t.open('GET',this.url,!0),t.responseType=this.xhrType===e.XHR_RESPONSE_TYPE.JSON||this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT?e.XHR_RESPONSE_TYPE.TEXT:this.xhrType,t.addEventListener('error',this._boundXhrOnError,!1),t.addEventListener('timeout',this._boundXhrOnTimeout,!1),t.addEventListener('abort',this._boundXhrOnAbort,!1),t.addEventListener('progress',this._boundOnProgress,!1),t.addEventListener('load',this._boundXhrOnLoad,!1),t.send()},e.prototype._loadXdr=function(){'string'!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open('GET',this.url,!0),setTimeout(function(){return e.send()},1)},e.prototype._createSource=function(e,t,r){r||(r=e+'/'+this._getExtension(t));var n=document.createElement('source');return n.src=t,n.type=r,n},e.prototype._onError=function(e){this.abort('Failed to load element using: '+e.target.nodeName)},e.prototype._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},e.prototype._onTimeout=function(){this.abort('Load timed out.')},e.prototype._xhrOnError=function(){var e=this.xhr;this.abort(s(e)+' Request failed. Status: '+e.status+', text: "'+e.statusText+'"')},e.prototype._xhrOnTimeout=function(){var e=this.xhr;this.abort(s(e)+' Request timed out.')},e.prototype._xhrOnAbort=function(){var e=this.xhr;this.abort(s(e)+' Request was aborted by the user.')},e.prototype._xhrOnLoad=function(){var t=this.xhr,r='',n='undefined'==typeof t.status?y:t.status;(''===t.responseType||'text'===t.responseType||'undefined'==typeof t.responseType)&&(r=t.responseText),n===0&&(0<r.length||t.responseType===e.XHR_RESPONSE_TYPE.BUFFER)?n=y:n===1223&&(n=204);var a=0|n/100;if(a!==2)return void this.abort('['+t.status+'] '+t.statusText+': '+t.responseURL);if(this.xhrType===e.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=e.TYPE.TEXT;else if(this.xhrType===e.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=e.TYPE.JSON}catch(t){return void this.abort('Error trying to parse loaded json: '+t)}else if(this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var o=new DOMParser;this.data=o.parseFromString(r,'text/xml')}else{var i=document.createElement('div');i.innerHTML=r,this.data=i}this.type=e.TYPE.XML}catch(t){return void this.abort('Error trying to parse loaded xml: '+t)}else this.data=t.response||r;this.complete()},e.prototype._determineCrossOrigin=function(e,t){if(0===e.indexOf('data:'))return'';if(null===window.origin)return'anonymous';t=t||window.location,f||(f=document.createElement('a')),f.href=e,e=(0,u.default)(f.href,{strictMode:!0});var r=!e.port&&''===t.port||e.port===t.port,n=e.protocol?e.protocol+':':'';return e.host===t.hostname&&r&&n===t.protocol?'':'anonymous'},e.prototype._determineXhrType=function(){return e._xhrTypeMap[this.extension]||e.XHR_RESPONSE_TYPE.TEXT},e.prototype._determineLoadType=function(){return e._loadTypeMap[this.extension]||e.LOAD_TYPE.XHR},e.prototype._getExtension=function(){var e=this.url,t='';if(this.isDataUrl){var r=e.indexOf('/');t=e.substring(r+1,e.indexOf(';',r))}else{var n=e.indexOf('?'),a=e.indexOf('#'),o=Math.min(-1<n?n:e.length,-1<a?a:e.length);e=e.substring(0,o),t=e.substring(e.lastIndexOf('.')+1)}return t.toLowerCase()},e.prototype._getMimeFromXhrType=function(t){switch(t){case e.XHR_RESPONSE_TYPE.BUFFER:return'application/octet-binary';case e.XHR_RESPONSE_TYPE.BLOB:return'application/blob';case e.XHR_RESPONSE_TYPE.DOCUMENT:return'application/xml';case e.XHR_RESPONSE_TYPE.JSON:return'application/json';case e.XHR_RESPONSE_TYPE.DEFAULT:case e.XHR_RESPONSE_TYPE.TEXT:default:return'text/plain';}},d(e,[{key:'isDataUrl',get:function(){return this._hasFlag(e.STATUS_FLAGS.DATA_URL)}},{key:'isComplete',get:function(){return this._hasFlag(e.STATUS_FLAGS.COMPLETE)}},{key:'isLoading',get:function(){return this._hasFlag(e.STATUS_FLAGS.LOADING)}}]),e}();t.default=m,m.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},m.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},m.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},m.XHR_RESPONSE_TYPE={DEFAULT:'text',BUFFER:'arraybuffer',BLOB:'blob',DOCUMENT:'document',JSON:'json',TEXT:'text'},m._loadTypeMap={gif:m.LOAD_TYPE.IMAGE,png:m.LOAD_TYPE.IMAGE,bmp:m.LOAD_TYPE.IMAGE,jpg:m.LOAD_TYPE.IMAGE,jpeg:m.LOAD_TYPE.IMAGE,tif:m.LOAD_TYPE.IMAGE,tiff:m.LOAD_TYPE.IMAGE,webp:m.LOAD_TYPE.IMAGE,tga:m.LOAD_TYPE.IMAGE,svg:m.LOAD_TYPE.IMAGE,"svg+xml":m.LOAD_TYPE.IMAGE,mp3:m.LOAD_TYPE.AUDIO,ogg:m.LOAD_TYPE.AUDIO,wav:m.LOAD_TYPE.AUDIO,mp4:m.LOAD_TYPE.VIDEO,webm:m.LOAD_TYPE.VIDEO},m._xhrTypeMap={xhtml:m.XHR_RESPONSE_TYPE.DOCUMENT,html:m.XHR_RESPONSE_TYPE.DOCUMENT,htm:m.XHR_RESPONSE_TYPE.DOCUMENT,xml:m.XHR_RESPONSE_TYPE.DOCUMENT,tmx:m.XHR_RESPONSE_TYPE.DOCUMENT,svg:m.XHR_RESPONSE_TYPE.DOCUMENT,tsx:m.XHR_RESPONSE_TYPE.DOCUMENT,gif:m.XHR_RESPONSE_TYPE.BLOB,png:m.XHR_RESPONSE_TYPE.BLOB,bmp:m.XHR_RESPONSE_TYPE.BLOB,jpg:m.XHR_RESPONSE_TYPE.BLOB,jpeg:m.XHR_RESPONSE_TYPE.BLOB,tif:m.XHR_RESPONSE_TYPE.BLOB,tiff:m.XHR_RESPONSE_TYPE.BLOB,webp:m.XHR_RESPONSE_TYPE.BLOB,tga:m.XHR_RESPONSE_TYPE.BLOB,json:m.XHR_RESPONSE_TYPE.JSON,text:m.XHR_RESPONSE_TYPE.TEXT,txt:m.XHR_RESPONSE_TYPE.TEXT,ttf:m.XHR_RESPONSE_TYPE.BUFFER,otf:m.XHR_RESPONSE_TYPE.BUFFER},m.EMPTY_GIF='data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=='},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){var r=!1;if(e&&e._textures&&e._textures.length)for(var n=0;n<e._textures.length;n++)if(e._textures[n]instanceof c.Texture){var a=e._textures[n].baseTexture;-1===t.indexOf(a)&&(t.push(a),r=!0)}return r}function o(e,t){return!!(e instanceof c.BaseTexture)&&(-1===t.indexOf(e)&&t.push(e),!0)}function i(e,t){if(e._texture&&e._texture instanceof c.Texture){var r=e._texture.baseTexture;return-1===t.indexOf(r)&&t.push(r),!0}return!1}function s(e,t){return!!(t instanceof c.Text)&&(t.updateText(!0),!0)}function d(e,t){if(t instanceof c.TextStyle){var r=t.toFontString();return c.TextMetrics.measureFont(r),!0}return!1}function l(e,t){if(e instanceof c.Text){-1===t.indexOf(e.style)&&t.push(e.style),-1===t.indexOf(e)&&t.push(e);var r=e._texture.baseTexture;return-1===t.indexOf(r)&&t.push(r),!0}return!1}function u(e,t){return!!(e instanceof c.TextStyle)&&(-1===t.indexOf(e)&&t.push(e),!0)}t.__esModule=!0;var p=r(1),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(p),h=r(89),f=function(e){return e&&e.__esModule?e:{default:e}}(h),y=c.ticker.shared;c.settings.UPLOADS_PER_FRAME=4;var m=function(){function e(t){var r=this;n(this,e),this.limiter=new f.default(c.settings.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.registerFindHook(l),this.registerFindHook(u),this.registerFindHook(a),this.registerFindHook(o),this.registerFindHook(i),this.registerUploadHook(s),this.registerUploadHook(d)}return e.prototype.upload=function(e,t){'function'==typeof e&&(t=e,e=null),e&&this.add(e),this.queue.length?(t&&this.completes.push(t),!this.ticking&&(this.ticking=!0,y.addOnce(this.tick,this,c.UPDATE_PRIORITY.UTILITY))):t&&t()},e.prototype.tick=function(){setTimeout(this.delayedTick,0)},e.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],t=!1;if(e&&!e._destroyed)for(var r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}t||this.queue.shift()}if(!this.queue.length){this.ticking=!1;var a=this.completes.slice(0);this.completes.length=0;for(var o=0,i=a.length;o<i;o++)a[o]()}else y.addOnce(this.tick,this,c.UPDATE_PRIORITY.UTILITY)},e.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},e.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},e.prototype.add=function(e){for(var t=0,r=this.addHooks.length;t<r&&!this.addHooks[t](e,this.queue);t++);if(e instanceof c.Container)for(var n=e.children.length-1;0<=n;n--)this.add(e.children[n]);return this},e.prototype.destroy=function(){this.ticking&&y.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},e}();t.default=m},function(e,t){'use strict';function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(){function e(t,n){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;r(this,e),this._x=a,this._y=o,this.cb=t,this.scope=n}return e.prototype.clone=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=t||this.cb,a=r||this.scope;return new e(n,a,this._x,this._y)},e.prototype.set=function(e,t){var r=e||0,n=t||(0===t?0:r);(this._x!==r||this._y!==n)&&(this._x=r,this._y=n,this.cb.call(this.scope))},e.prototype.copy=function(e){(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope))},e.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},n(e,[{key:'x',get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}},{key:'y',get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}]),e}();t.default=a},function(e,t,r){'use strict';function n(e){return 0>e?-1:0<e?1:0}var a=Math.abs;t.__esModule=!0;var o=r(24),i=function(e){return e&&e.__esModule?e:{default:e}}(o),s=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],d=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],l=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],u=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],p=[],c=[];(function(){for(var e=0,t;16>e;e++){t=[],c.push(t);for(var r=0;16>r;r++)for(var a=n(s[e]*s[r]+l[e]*d[r]),o=n(d[e]*s[r]+u[e]*d[r]),h=n(s[e]*l[r]+l[e]*u[r]),f=n(d[e]*l[r]+u[e]*u[r]),y=0;16>y;y++)if(s[y]===a&&d[y]===o&&l[y]===h&&u[y]===f){t.push(y);break}}for(var m=0,_;16>m;m++)_=new i.default,_.set(s[m],d[m],l[m],u[m],0,0),p.push(_)})();var h={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(e){return s[e]},uY:function(e){return d[e]},vX:function(e){return l[e]},vY:function(e){return u[e]},inv:function(e){return 8&e?15&e:7&-e},add:function(e,t){return c[e][t]},sub:function(e,t){return c[e][h.inv(t)]},rotate180:function(e){return 4^e},isVertical:function(e){return 2==(3&e)},byDirection:function(e,t){if(2*a(e)<=a(t))return 0<=t?h.S:h.N;return 2*a(t)<=a(e)?0<e?h.E:h.W:0<t?0<e?h.SE:h.SW:0<e?h.NE:h.NW},matrixAppendRotationInv:function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:0,a=p[h.inv(t)];a.tx=r,a.ty=n,e.append(a)}};t.default=h},function(e){e.exports=function(e,t,r){var n;if(r){var a=r.tempAttribState,o=r.attribState;for(n=0;n<a.length;n++)a[n]=!1;for(n=0;n<t.length;n++)a[t[n].attribute.location]=!0;for(n=0;n<o.length;n++)o[n]!==a[n]&&(o[n]=a[n],r.attribState[n]?e.enableVertexAttribArray(n):e.disableVertexAttribArray(n))}else for(n=0;n<t.length;n++){var i=t[n];e.enableVertexAttribArray(i.attribute.location)}}},function(e){var t=function(e,t,r,n,a){this.gl=e,this.texture=e.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=t||-1,this.height=r||-1,this.format=n||e.RGBA,this.type=a||e.UNSIGNED_BYTE};t.prototype.upload=function(e){this.bind();var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var r=e.videoWidth||e.width,n=e.videoHeight||e.height;n!==this.height||r!==this.width?t.texImage2D(t.TEXTURE_2D,0,this.format,this.format,this.type,e):t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.format,this.type,e),this.width=r,this.height=n};var r=!1;t.prototype.uploadData=function(e,t,n){this.bind();var a=this.gl;if(e instanceof Float32Array){if(!r){var o=a.getExtension('OES_texture_float');if(o)r=!0;else throw new Error('floating point textures not available')}this.type=a.FLOAT}else this.type=this.type||a.UNSIGNED_BYTE;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),t!==this.width||n!==this.height?a.texImage2D(a.TEXTURE_2D,0,this.format,t,n,0,this.format,this.type,e||null):a.texSubImage2D(a.TEXTURE_2D,0,0,0,t,n,this.format,this.type,e||null),this.width=t,this.height=n},t.prototype.bind=function(e){var t=this.gl;e!==void 0&&t.activeTexture(t.TEXTURE0+e),t.bindTexture(t.TEXTURE_2D,this.texture)},t.prototype.unbind=function(){var e=this.gl;e.bindTexture(e.TEXTURE_2D,null)},t.prototype.minFilter=function(e){var t=this.gl;this.bind(),this.mipmap?t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e?t.LINEAR_MIPMAP_LINEAR:t.NEAREST_MIPMAP_NEAREST):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e?t.LINEAR:t.NEAREST)},t.prototype.magFilter=function(e){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e?t.LINEAR:t.NEAREST)},t.prototype.enableMipmap=function(){var e=this.gl;this.bind(),this.mipmap=!0,e.generateMipmap(e.TEXTURE_2D)},t.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},t.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},t.prototype.enableWrapClamp=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)},t.prototype.enableWrapRepeat=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)},t.prototype.enableWrapMirrorRepeat=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.MIRRORED_REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.MIRRORED_REPEAT)},t.prototype.destroy=function(){var e=this.gl;e.deleteTexture(this.texture)},t.fromSource=function(e,r,n){var a=new t(e);return a.premultiplyAlpha=n||!1,a.upload(r),a},t.fromData=function(e,r,n,a){var o=new t(e);return o.uploadData(r,n,a),o},e.exports=t},function(e){var t=function(e,t,r){var n=e.createShader(t);return e.shaderSource(n,r),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS)?n:(console.log(e.getShaderInfoLog(n)),null)};e.exports=function(e,r,n,a){var o=t(e,e.VERTEX_SHADER,r),s=t(e,e.FRAGMENT_SHADER,n),d=e.createProgram();if(e.attachShader(d,o),e.attachShader(d,s),a)for(var l in a)e.bindAttribLocation(d,a[l],l);return e.linkProgram(d),e.getProgramParameter(d,e.LINK_STATUS)||(console.error('Pixi.js Error: Could not initialize shader.'),console.error('gl.VALIDATE_STATUS',e.getProgramParameter(d,e.VALIDATE_STATUS)),console.error('gl.getError()',e.getError()),''!==e.getProgramInfoLog(d)&&console.warn('Pixi.js Warning: gl.getProgramInfoLog()',e.getProgramInfoLog(d)),e.deleteProgram(d),d=null),e.deleteShader(o),e.deleteShader(s),d}},function(e,t,r){var n=r(26),a=r(45),o=function(e,t,r,n){gl.vertexAttribPointer(this.location,this.size,e||gl.FLOAT,t||!1,r||0,n||0)};e.exports=function(e,t){for(var r={},s=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),d=0;d<s;d++){var i=e.getActiveAttrib(t,d),l=n(e,i.type);r[i.name]={type:l,size:a(l),location:e.getAttribLocation(t,i.name),pointer:o}}return r}},function(e){var t={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};e.exports=function(e){return t[e]}},function(e,t,r){var n=r(26),a=r(47);e.exports=function(e,t){for(var r={},o=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),s=0;s<o;s++){var i=e.getActiveUniform(t,s),d=i.name.replace(/\[.*?\]/,''),l=n(e,i.type);r[d]={type:l,size:i.size,location:e.getUniformLocation(t,d),value:a(l,i.size)}}return r}},function(e){var t=function(e){for(var t=Array(e),r=0;r<t.length;r++)t[r]=!1;return t};e.exports=function(e,r){return'float'===e?0:'vec2'===e?new Float32Array(2*r):'vec3'===e?new Float32Array(3*r):'vec4'===e?new Float32Array(4*r):'int'===e||'sampler2D'===e?0:'ivec2'===e?new Int32Array(2*r):'ivec3'===e?new Int32Array(3*r):'ivec4'===e?new Int32Array(4*r):'bool'!=e&&('bvec2'===e?t(2*r):'bvec3'===e?t(3*r):'bvec4'===e?t(4*r):'mat2'===e?new Float32Array([1,0,0,1]):'mat3'===e?new Float32Array([1,0,0,0,1,0,0,0,1]):'mat4'===e?new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]):void 0)}},function(e){e.exports=function(e,t){return'precision'===e.substring(0,9)?e:'precision '+t+' float;\n'+e}},function(e){function t(e,t){return function(r){this.data[e].value=r;var n=this.data[e].location;1===t.size?a[t.type](this.gl,n,r):o[t.type](this.gl,n,r)}}function r(e,t){for(var r=t,n=0,a;n<e.length-1;n++)a=r[e[n]]||{data:{}},r[e[n]]=a,r=a;return r}var n=function(e){return function(){return this.data[e].value}},a={float:function(e,t,r){e.uniform1f(t,r)},vec2:function(e,t,r){e.uniform2f(t,r[0],r[1])},vec3:function(e,t,r){e.uniform3f(t,r[0],r[1],r[2])},vec4:function(e,t,r){e.uniform4f(t,r[0],r[1],r[2],r[3])},int:function(e,t,r){e.uniform1i(t,r)},ivec2:function(e,t,r){e.uniform2i(t,r[0],r[1])},ivec3:function(e,t,r){e.uniform3i(t,r[0],r[1],r[2])},ivec4:function(e,t,r){e.uniform4i(t,r[0],r[1],r[2],r[3])},bool:function(e,t,r){e.uniform1i(t,r)},bvec2:function(e,t,r){e.uniform2i(t,r[0],r[1])},bvec3:function(e,t,r){e.uniform3i(t,r[0],r[1],r[2])},bvec4:function(e,t,r){e.uniform4i(t,r[0],r[1],r[2],r[3])},mat2:function(e,t,r){e.uniformMatrix2fv(t,!1,r)},mat3:function(e,t,r){e.uniformMatrix3fv(t,!1,r)},mat4:function(e,t,r){e.uniformMatrix4fv(t,!1,r)},sampler2D:function(e,t,r){e.uniform1i(t,r)}},o={float:function(e,t,r){e.uniform1fv(t,r)},vec2:function(e,t,r){e.uniform2fv(t,r)},vec3:function(e,t,r){e.uniform3fv(t,r)},vec4:function(e,t,r){e.uniform4fv(t,r)},int:function(e,t,r){e.uniform1iv(t,r)},ivec2:function(e,t,r){e.uniform2iv(t,r)},ivec3:function(e,t,r){e.uniform3iv(t,r)},ivec4:function(e,t,r){e.uniform4iv(t,r)},bool:function(e,t,r){e.uniform1iv(t,r)},bvec2:function(e,t,r){e.uniform2iv(t,r)},bvec3:function(e,t,r){e.uniform3iv(t,r)},bvec4:function(e,t,r){e.uniform4iv(t,r)},sampler2D:function(e,t,r){e.uniform1iv(t,r)}};e.exports=function(e,a){for(var o={data:{},gl:e},s=Object.keys(a),d=0;d<s.length;d++){var i=s[d],l=i.split('.'),u=l[l.length-1],p=r(l,o),c=a[i];p.data[u]=c,p.gl=e,Object.defineProperty(p,u,{get:n(u),set:t(u,c)})}return o}},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d=r(9),l=n(d),u=r(0),p=r(3),c=n(p),h=r(51),f=n(h),y=r(52),m=n(y),_=r(27),x=n(_),b=r(4),v=function(e){function t(){a(this,t);var r=o(this,e.call(this)),n=c.default.TRANSFORM_MODE===u.TRANSFORM_MODE.STATIC?f.default:m.default;return r.tempDisplayObjectParent=null,r.transform=new n,r.alpha=1,r.visible=!0,r.renderable=!0,r.parent=null,r.worldAlpha=1,r.filterArea=null,r._filters=null,r._enabledFilters=null,r._bounds=new x.default,r._boundsID=0,r._lastBoundsID=-1,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._destroyed=!1,r}return i(t,e),t.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.getBounds=function(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),t||(!this._boundsRect&&(this._boundsRect=new b.Rectangle),t=this._boundsRect),this._bounds.getRectangle(t)},t.prototype.getLocalBounds=function(e){var t=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,e||(!this._localBoundsRect&&(this._localBoundsRect=new b.Rectangle),e=this._localBoundsRect);var n=this.getBounds(!1,e);return this.parent=r,this.transform=t,n},t.prototype.toGlobal=function(e,t){var r=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)},t.prototype.toLocal=function(e,t,r,n){return t&&(e=t.toGlobal(e,r,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)},t.prototype.renderWebGL=function(){},t.prototype.renderCanvas=function(){},t.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error('setParent: Argument must be a Container');return e.addChild(this),e},t.prototype.setTransform=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,i=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0,s=7<arguments.length&&void 0!==arguments[7]?arguments[7]:0,d=8<arguments.length&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=e,this.position.y=t,this.scale.x=r?r:1,this.scale.y=n?n:1,this.rotation=a,this.skew.x=o,this.skew.y=i,this.pivot.x=s,this.pivot.y=d,this},t.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},s(t,[{key:'_tempDisplayObjectParent',get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new t),this.tempDisplayObjectParent}},{key:'x',get:function(){return this.position.x},set:function(e){this.transform.position.x=e}},{key:'y',get:function(){return this.position.y},set:function(e){this.transform.position.y=e}},{key:'worldTransform',get:function(){return this.transform.worldTransform}},{key:'localTransform',get:function(){return this.transform.localTransform}},{key:'position',get:function(){return this.transform.position},set:function(e){this.transform.position.copy(e)}},{key:'scale',get:function(){return this.transform.scale},set:function(e){this.transform.scale.copy(e)}},{key:'pivot',get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copy(e)}},{key:'skew',get:function(){return this.transform.skew},set:function(e){this.transform.skew.copy(e)}},{key:'rotation',get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e}},{key:'worldVisible',get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}},{key:'mask',get:function(){return this._mask},set:function(e){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=e,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:'filters',get:function(){return this._filters&&this._filters.slice()},set:function(e){this._filters=e&&e.slice()}}]),t}(l.default);t.default=v,v.prototype.displayObjectUpdateTransform=v.prototype.updateTransform},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Math.cos,s=Math.sin;t.__esModule=!0;var d=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(4),u=r(29),p=function(e){return e&&e.__esModule?e:{default:e}}(u),c=function(e){function t(){n(this,t);var r=a(this,e.call(this));return r.position=new l.ObservablePoint(r.onChange,r,0,0),r.scale=new l.ObservablePoint(r.onChange,r,1,1),r.pivot=new l.ObservablePoint(r.onChange,r,0,0),r.skew=new l.ObservablePoint(r.updateSkew,r,0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r._localID=0,r._currentLocalID=0,r}return o(t,e),t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=i(this._rotation+this.skew._y),this._sx=s(this._rotation+this.skew._y),this._cy=-s(this._rotation-this.skew._x),this._sy=i(this._rotation-this.skew._x),this._localID++},t.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(e){var t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var r=e.worldTransform,n=this.worldTransform;n.a=t.a*r.a+t.b*r.c,n.b=t.a*r.b+t.b*r.d,n.c=t.c*r.a+t.d*r.c,n.d=t.c*r.b+t.d*r.d,n.tx=t.tx*r.a+t.ty*r.c+r.tx,n.ty=t.tx*r.b+t.ty*r.d+r.ty,this._parentID=e._worldID,this._worldID++}},t.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},d(t,[{key:'rotation',get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())}}]),t}(p.default);t.default=c},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Math.cos,s=Math.sin;t.__esModule=!0;var d=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(4),u=r(29),p=function(e){return e&&e.__esModule?e:{default:e}}(u),c=function(e){function t(){n(this,t);var r=a(this,e.call(this));return r.position=new l.Point(0,0),r.scale=new l.Point(1,1),r.skew=new l.ObservablePoint(r.updateSkew,r,0,0),r.pivot=new l.Point(0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r}return o(t,e),t.prototype.updateSkew=function(){this._cx=i(this._rotation+this.skew._y),this._sx=s(this._rotation+this.skew._y),this._cy=-s(this._rotation-this.skew._x),this._sy=i(this._rotation-this.skew._x)},t.prototype.updateLocalTransform=function(){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d)},t.prototype.updateTransform=function(e){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d);var r=e.worldTransform,n=this.worldTransform;n.a=t.a*r.a+t.b*r.c,n.b=t.a*r.b+t.b*r.d,n.c=t.c*r.a+t.d*r.c,n.d=t.c*r.b+t.d*r.d,n.tx=t.tx*r.a+t.ty*r.c+r.tx,n.ty=t.tx*r.b+t.ty*r.d+r.ty,this._worldID++},t.prototype.setFromMatrix=function(e){e.decompose(this)},d(t,[{key:'rotation',get:function(){return this._rotation},set:function(e){this._rotation=e,this.updateSkew()}}]),t}(p.default);t.default=c},function(e,t,r){'use strict';function n(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:window.location;if(0===e.indexOf('data:'))return'';t=t||window.location,i||(i=document.createElement('a')),i.href=e,e=o.default.parse(i.href);var r=!e.port&&''===t.port||e.port===t.port;return e.hostname===t.hostname&&r&&e.protocol===t.protocol?'':'anonymous'}t.__esModule=!0,t.default=n;var a=r(54),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=void 0},function(e,t,r){'use strict';function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function a(e,t,r){if(e&&d.isObject(e)&&e instanceof n)return e;var a=new n;return a.parse(e,t,r),a}var o=r(113),d=r(115);t.parse=a,t.resolve=function(e,t){return a(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?a(e,!1,!0).resolveObject(t):t},t.format=function(e){return d.isString(e)&&(e=a(e)),e instanceof n?e.format():n.prototype.format.call(e)},t.Url=n;var u=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=['{','}','|','\\','^','`'].concat(['<','>','"','`',' ','\r','\n','\t']),p=['\''].concat(l),c=['%','/','?',';','#'].concat(p),h=['/','?','#'],f=/^[+a-z0-9A-Z_-]{0,63}$/,y=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},_={javascript:!0,"javascript:":!0},x={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=r(116);n.prototype.parse=function(e,t,r){if(!d.isString(e))throw new TypeError('Parameter \'url\' must be a string, not '+typeof e);var n=e.indexOf('?'),a=-1!==n&&n<e.indexOf('#')?'?':'#',v=e.split(a),T=/\\/g;v[0]=v[0].replace(T,'/'),e=v.join(a);var E=e;if(E=E.trim(),!r&&1===e.split('#').length){var S=s.exec(E);if(S)return this.path=E,this.href=E,this.pathname=S[1],S[2]?(this.search=S[2],this.query=t?b.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search='',this.query={}),this}var C=u.exec(E);if(C){C=C[0];var P=C.toLowerCase();this.protocol=P,E=E.substr(C.length)}if(r||C||E.match(/^\/\/[^@\/]+@[^@\/]+/)){var A='//'===E.substr(0,2);A&&!(C&&_[C])&&(E=E.substr(2),this.slashes=!0)}if(!_[C]&&(A||C&&!x[C])){for(var M=-1,w=0,i;w<h.length;w++)i=E.indexOf(h[w]),-1!==i&&(-1===M||i<M)&&(M=i);var O,D;D=-1===M?E.lastIndexOf('@'):E.lastIndexOf('@',M),-1!==D&&(O=E.slice(0,D),E=E.slice(D+1),this.auth=decodeURIComponent(O)),M=-1;for(var w=0,i;w<c.length;w++)i=E.indexOf(c[w]),-1!==i&&(-1===M||i<M)&&(M=i);-1===M&&(M=E.length),this.host=E.slice(0,M),E=E.slice(M),this.parseHost(),this.hostname=this.hostname||'';var R='['===this.hostname[0]&&']'===this.hostname[this.hostname.length-1];if(!R)for(var I=this.hostname.split(/\./),w=0,L=I.length,l;w<L;w++)if(l=I[w],l&&!l.match(f)){for(var F='',N=0,B=l.length;N<B;N++)F+=127<l.charCodeAt(N)?'x':l[N];if(!F.match(f)){var k=I.slice(0,w),U=I.slice(w+1),X=l.match(y);X&&(k.push(X[1]),U.unshift(X[2])),U.length&&(E='/'+U.join('.')+E),this.hostname=k.join('.');break}}this.hostname=this.hostname.length>255?'':this.hostname.toLowerCase(),R||(this.hostname=o.toASCII(this.hostname));var j=this.port?':'+this.port:'',G=this.hostname||'';this.host=G+j,this.href+=this.host,R&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),'/'!==E[0]&&(E='/'+E))}if(!m[P])for(var w=0,L=p.length,H;w<L;w++)if(H=p[w],-1!==E.indexOf(H)){var W=encodeURIComponent(H);W===H&&(W=escape(H)),E=E.split(H).join(W)}var V=E.indexOf('#');-1!==V&&(this.hash=E.substr(V),E=E.slice(0,V));var Y=E.indexOf('?');if(-1===Y?t&&(this.search='',this.query={}):(this.search=E.substr(Y),this.query=E.substr(Y+1),t&&(this.query=b.parse(this.query)),E=E.slice(0,Y)),E&&(this.pathname=E),x[P]&&this.hostname&&!this.pathname&&(this.pathname='/'),this.pathname||this.search){var j=this.pathname||'',z=this.search||'';this.path=j+z}return this.href=this.format(),this},n.prototype.format=function(){var e=this.auth||'';e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,':'),e+='@');var t=this.protocol||'',r=this.pathname||'',n=this.hash||'',a=!1,o='';this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(':')?this.hostname:'['+this.hostname+']'),this.port&&(a+=':'+this.port)),this.query&&d.isObject(this.query)&&Object.keys(this.query).length&&(o=b.stringify(this.query));var i=this.search||o&&'?'+o||'';return t&&':'!==t.substr(-1)&&(t+=':'),this.slashes||(!t||x[t])&&!1!=a?(a='//'+(a||''),r&&'/'!==r.charAt(0)&&(r='/'+r)):!a&&(a=''),n&&'#'!==n.charAt(0)&&(n='#'+n),i&&'?'!==i.charAt(0)&&(i='?'+i),r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),i=i.replace('#','%23'),t+a+r+i+n},n.prototype.resolve=function(e){return this.resolveObject(a(e,!1,!0)).format()},n.prototype.resolveObject=function(e){if(d.isString(e)){var t=new n;t.parse(e,!1,!0),e=t}for(var r=new n,a=Object.keys(this),o=0,l;o<a.length;o++)l=a[o],r[l]=this[l];if(r.hash=e.hash,''===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0,h;c<u.length;c++)h=u[c],'protocol'!==h&&(r[h]=e[h]);return x[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname='/'),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!x[e.protocol]){for(var f=Object.keys(e),y=0,m;y<f.length;y++)m=f[y],r[m]=e[m];return r.href=r.format(),r}if(r.protocol=e.protocol,!e.host&&!_[e.protocol]){for(var b=(e.pathname||'').split('/');b.length&&!(e.host=b.shift()););e.host||(e.host=''),e.hostname||(e.hostname=''),''!==b[0]&&b.unshift(''),2>b.length&&b.unshift(''),r.pathname=b.join('/')}else r.pathname=e.pathname;if(r.search=e.search,r.query=e.query,r.host=e.host||'',r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var v=r.pathname||'',p=r.search||'';r.path=v+p}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var s=r.pathname&&'/'===r.pathname.charAt(0),T=e.host||e.pathname&&'/'===e.pathname.charAt(0),E=T||s||r.host&&e.pathname,S=E,C=r.pathname&&r.pathname.split('/')||[],b=e.pathname&&e.pathname.split('/')||[],P=r.protocol&&!x[r.protocol];if(P&&(r.hostname='',r.port=null,r.host&&(''===C[0]?C[0]=r.host:C.unshift(r.host)),r.host='',e.protocol&&(e.hostname=null,e.port=null,e.host&&(''===b[0]?b[0]=e.host:b.unshift(e.host)),e.host=null),E=E&&(''===b[0]||''===C[0])),T)r.host=e.host||''===e.host?e.host:r.host,r.hostname=e.hostname||''===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,C=b;else if(b.length)C||(C=[]),C.pop(),C=C.concat(b),r.search=e.search,r.query=e.query;else if(!d.isNullOrUndefined(e.search)){if(P){r.hostname=r.host=C.shift();var A=!!(r.host&&0<r.host.indexOf('@'))&&r.host.split('@');A&&(r.auth=A.shift(),r.host=r.hostname=A.shift())}return r.search=e.search,r.query=e.query,d.isNull(r.pathname)&&d.isNull(r.search)||(r.path=(r.pathname?r.pathname:'')+(r.search?r.search:'')),r.href=r.format(),r}if(!C.length)return r.pathname=null,r.path=r.search?'/'+r.search:null,r.href=r.format(),r;for(var M=C.slice(-1)[0],w=(r.host||e.host||1<C.length)&&('.'===M||'..'===M)||''===M,O=0,D=C.length;0<=D;D--)M=C[D],'.'===M?C.splice(D,1):'..'===M?(C.splice(D,1),O++):O&&(C.splice(D,1),O--);if(!E&&!S)for(;O--;O)C.unshift('..');E&&''!==C[0]&&(!C[0]||'/'!==C[0].charAt(0))&&C.unshift(''),w&&'/'!==C.join('/').substr(-1)&&C.push('');var i=''===C[0]||C[0]&&'/'===C[0].charAt(0);if(P){r.hostname=r.host=i?'':C.length?C.shift():'';var A=!!(r.host&&0<r.host.indexOf('@'))&&r.host.split('@');A&&(r.auth=A.shift(),r.host=r.hostname=A.shift())}return E=E||r.host&&C.length,E&&!i&&C.unshift(''),C.length?r.pathname=C.join('/'):(r.pathname=null,r.path=null),d.isNull(r.pathname)&&d.isNull(r.search)||(r.path=(r.pathname?r.pathname:'')+(r.search?r.search:'')),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},n.prototype.parseHost=function(){var e=this.host,t=i.exec(e);t&&(t=t[0],':'!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(!t){var r=e.split('?').shift().toLowerCase();t='video/'+r.substr(r.lastIndexOf('.')+1)}var n=document.createElement('source');return n.src=e,n.type=t,n}t.__esModule=!0;var d=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(10),u=n(l),p=r(2),c=r(33),h=r(0),f=r(53),y=n(f),m=function(e){function t(r,n){var i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if(a(this,t),!r)throw new Error('No video source element specified.');(r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height&&(r.complete=!0);var s=o(this,e.call(this,r,n));return s.width=r.videoWidth,s.height=r.videoHeight,s._autoUpdate=!0,s._isAutoUpdating=!1,s.autoPlay=i,s.update=s.update.bind(s),s._onCanPlay=s._onCanPlay.bind(s),r.addEventListener('play',s._onPlayStart.bind(s)),r.addEventListener('pause',s._onPlayStop.bind(s)),s.hasLoaded=!1,s.__loaded=!1,s._isSourceReady()?s._onCanPlay():(r.addEventListener('canplay',s._onCanPlay),r.addEventListener('canplaythrough',s._onCanPlay)),s}return i(t,e),t.prototype._isSourcePlaying=function(){var e=this.source;return 0<e.currentTime&&!1===e.paused&&!1===e.ended&&2<e.readyState},t.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},t.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(c.shared.add(this.update,this,h.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},t.prototype._onPlayStop=function(){this._isAutoUpdating&&(c.shared.remove(this.update,this),this._isAutoUpdating=!1)},t.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener('canplay',this._onCanPlay),this.source.removeEventListener('canplaythrough',this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,!this.__loaded&&(this.__loaded=!0,this.emit('loaded',this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},t.prototype.destroy=function(){this._isAutoUpdating&&c.shared.remove(this.update,this),this.source&&this.source._pixiId&&(u.default.removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src='',this.source.load()),e.prototype.destroy.call(this)},t.fromVideo=function(e,r,n){e._pixiId||(e._pixiId='video_'+(0,p.uid)());var a=p.BaseTextureCache[e._pixiId];return a||(a=new t(e,r,n),u.default.addToCache(a,e._pixiId)),a},t.fromUrl=function(e,r,n,a){var o=document.createElement('video');o.setAttribute('webkit-playsinline',''),o.setAttribute('playsinline','');var d=Array.isArray(e)?e[0].src||e[0]:e.src||e;if(void 0===n&&0!==d.indexOf('data:')?o.crossOrigin=(0,y.default)(d):n&&(o.crossOrigin='string'==typeof n?n:'anonymous'),Array.isArray(e))for(var l=0;l<e.length;++l)o.appendChild(s(e[l].src||e[l],e[l].mime));else o.appendChild(s(d,e.mime));return o.load(),t.fromVideo(o,r,a)},d(t,[{key:'autoUpdate',get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isAutoUpdating?(c.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(c.shared.add(this.update,this,h.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),t}(u.default);t.default=m,m.fromUrls=m.fromUrl},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var a=Math.round;t.__esModule=!0;var o=r(40),i=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(){function e(){n(this,e),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return e.prototype.set=function(e,t,r){var n=t.width,o=t.height;if(r){var s=e.width/2/n,d=e.height/2/o,l=e.x/n+s,u=e.y/o+d;r=i.default.add(r,i.default.NW),this.x0=l+s*i.default.uX(r),this.y0=u+d*i.default.uY(r),r=i.default.add(r,2),this.x1=l+s*i.default.uX(r),this.y1=u+d*i.default.uY(r),r=i.default.add(r,2),this.x2=l+s*i.default.uX(r),this.y2=u+d*i.default.uY(r),r=i.default.add(r,2),this.x3=l+s*i.default.uX(r),this.y3=u+d*i.default.uY(r)}else this.x0=e.x/n,this.y0=e.y/o,this.x1=(e.x+e.width)/n,this.y1=e.y/o,this.x2=(e.x+e.width)/n,this.y2=(e.y+e.height)/o,this.x3=e.x/n,this.y3=(e.y+e.height)/o;this.uvsUint32[0]=(65535&a(65535*this.y0))<<16|65535&a(65535*this.x0),this.uvsUint32[1]=(65535&a(65535*this.y1))<<16|65535&a(65535*this.x1),this.uvsUint32[2]=(65535&a(65535*this.y2))<<16|65535&a(65535*this.x2),this.uvsUint32[3]=(65535&a(65535*this.y3))<<16|65535&a(65535*this.x3)},e}();t.default=s},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d=r(2),l=r(4),u=r(0),p=r(3),c=n(p),h=r(11),f=n(h),y=r(34),m=n(y),_=r(9),x=n(_),b=new l.Matrix,v=function(e){function t(r,n,i,s){a(this,t);var p=o(this,e.call(this));return(0,d.sayHello)(r),'number'==typeof n&&(n=Object.assign({width:n,height:i||c.default.RENDER_OPTIONS.height},s)),n=Object.assign({},c.default.RENDER_OPTIONS,n),p.options=n,p.type=u.RENDERER_TYPE.UNKNOWN,p.screen=new l.Rectangle(0,0,n.width,n.height),p.view=n.view||document.createElement('canvas'),p.resolution=n.resolution||c.default.RESOLUTION,p.transparent=n.transparent,p.autoResize=n.autoResize||!1,p.blendModes=null,p.preserveDrawingBuffer=n.preserveDrawingBuffer,p.clearBeforeRender=n.clearBeforeRender,p.roundPixels=n.roundPixels,p._backgroundColor=0,p._backgroundColorRgba=[0,0,0,0],p._backgroundColorString='#000000',p.backgroundColor=n.backgroundColor||p._backgroundColor,p._tempDisplayObjectParent=new f.default,p._lastObjectRendered=p._tempDisplayObjectParent,p}return i(t,e),t.prototype.resize=function(e,t){this.screen.width=e,this.screen.height=t,this.view.width=e*this.resolution,this.view.height=t*this.resolution,this.autoResize&&(this.view.style.width=e+'px',this.view.style.height=t+'px')},t.prototype.generateTexture=function(e,t,r,n){n=n||e.getLocalBounds();var a=m.default.create(0|n.width,0|n.height,t,r);return b.tx=-n.x,b.ty=-n.y,this.render(e,a,!1,b,!!e.parent),a},t.prototype.destroy=function(e){e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=u.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},s(t,[{key:'width',get:function(){return this.view.width}},{key:'height',get:function(){return this.view.height}},{key:'backgroundColor',get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=(0,d.hex2string)(e),(0,d.hex2rgb)(e,this._backgroundColorRgba)}}]),t}(x.default);t.default=v},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Math.ceil;t.__esModule=!0;var d=r(10),l=n(d),u=r(3),p=n(u),c=function(e){function t(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:100,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,i=arguments[2],d=arguments[3];a(this,t);var l=o(this,e.call(this,null,i));return l.resolution=d||p.default.RESOLUTION,l.width=s(r),l.height=s(n),l.realWidth=l.width*l.resolution,l.realHeight=l.height*l.resolution,l.scaleMode=void 0===i?p.default.SCALE_MODE:i,l.hasLoaded=!0,l._glRenderTargets={},l._canvasRenderTarget=null,l.valid=!1,l}return i(t,e),t.prototype.resize=function(e,t){(e=s(e),t=s(t),e!==this.width||t!==this.height)&&(this.valid=0<e&&0<t,this.width=e,this.height=t,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit('update',this))},t.prototype.destroy=function(){e.prototype.destroy.call(this,!0),this.renderer=null},t}(l.default);t.default=c},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(3),i=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(){function e(t,r,a){n(this,e),this.canvas=document.createElement('canvas'),this.context=this.canvas.getContext('2d'),this.resolution=a||i.default.RESOLUTION,this.resize(t,r)}return e.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.resize=function(e,t){this.canvas.width=e*this.resolution,this.canvas.height=t*this.resolution},e.prototype.destroy=function(){this.context=null,this.canvas=null},a(e,[{key:'width',get:function(){return this.canvas.width},set:function(e){this.canvas.width=e}},{key:'height',get:function(){return this.canvas.height},set:function(e){this.canvas.height=e}}]),e}();t.default=s},function(e,t){'use strict';function r(e){var t=document.createElement('canvas');t.width=6,t.height=1;var r=t.getContext('2d');return r.fillStyle=e,r.fillRect(0,0,6,1),t}t.__esModule=!0,t.default=function(){if('undefined'==typeof document)return!1;var e=r('#ff00ff'),t=r('#ffff00'),n=document.createElement('canvas');n.width=6,n.height=1;var a=n.getContext('2d');a.globalCompositeOperation='multiply',a.drawImage(e,0,0),a.drawImage(t,2,0);var o=a.getImageData(2,0,1,1);if(!o)return!1;var i=o.data;return 255===i[0]&&0===i[1]&&0===i[2]}},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(62),d=n(s),l=r(4),u=r(7),p=r(63),c=n(p),h=function(e){function t(r){a(this,t);var n=new l.Matrix,i=o(this,e.call(this,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n','varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n'));return r.renderable=!1,i.maskSprite=r,i.maskMatrix=n,i}return i(t,e),t.prototype.apply=function(e,t,r){var n=this.maskSprite,a=this.maskSprite.texture;a.valid&&(!a.transform&&(a.transform=new c.default(a,0)),a.transform.update(),this.uniforms.mask=a,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,n).prepend(a.transform.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=a.transform.uClampFrame,e.applyFilter(this,t,r))},t}(d.default);t.default=h},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var o=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(126),s=n(i),d=r(2),l=r(0),u=r(3),p=n(u),c={},h=function(){function e(t,r,n){for(var o in a(this,e),this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=r||e.defaultFragmentSrc,this._blendMode=l.BLEND_MODES.NORMAL,this.uniformData=n||(0,s.default)(this.vertexSrc,this.fragmentSrc,'projectionMatrix|uSampler'),this.uniforms={},this.uniformData)this.uniforms[o]=this.uniformData[o].value,this.uniformData[o].type&&(this.uniformData[o].type=this.uniformData[o].type.toLowerCase());this.glShaders={},c[this.vertexSrc+this.fragmentSrc]||(c[this.vertexSrc+this.fragmentSrc]=(0,d.uid)()),this.glShaderKey=c[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=p.default.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0}return e.prototype.apply=function(e,t,r,n){e.applyFilter(this,t,r,n)},o(e,[{key:'blendMode',get:function(){return this._blendMode},set:function(e){this._blendMode=e}}],[{key:'defaultVertexSrc',get:function(){return'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord ;\n}'}},{key:'defaultFragmentSrc',get:function(){return'varying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nuniform sampler2D uSampler;\nuniform sampler2D filterSampler;\nvoid main(void){\n   vec4 masky = texture2D(filterSampler, vFilterCoord);\n   vec4 sample = texture2D(uSampler, vTextureCoord);\n   vec4 color;\n   if(mod(vFilterCoord.x, 1.0) > 0.5)\n   {\n     color = vec4(1.0, 0.0, 0.0, 1.0);\n   }\n   else\n   {\n     color = vec4(0.0, 1.0, 0.0, 1.0);\n   }\n   gl_FragColor = mix(sample, masky, 0.5);\n   gl_FragColor *= sample.a;\n}'}}]),e}();t.default=h},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(24),i=function(e){return e&&e.__esModule?e:{default:e}}(o),s=new i.default,d=function(){function e(t,r){n(this,e),this._texture=t,this.mapCoord=new i.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin='undefined'==typeof r?.5:r}return e.prototype.multiplyUvs=function(e,t){void 0===t&&(t=e);for(var r=this.mapCoord,n=0;n<e.length;n+=2){var a=e[n],o=e[n+1];t[n]=a*r.a+o*r.c+r.tx,t[n+1]=a*r.b+o*r.d+r.ty}return t},e.prototype.update=function(e){var t=this._texture;if(!t||!t.valid)return!1;if(!e&&this._lastTextureID===t._updateID)return!1;this._lastTextureID=t._updateID;var r=t._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var n=t.orig,a=t.trim;a&&(s.set(n.width/a.width,0,0,n.height/a.height,-a.x/a.width,-a.y/a.height),this.mapCoord.append(s));var o=t.baseTexture,i=this.uClampFrame,d=this.clampMargin/o.resolution,l=this.clampOffset;return i[0]=(t._frame.x+d+l)/o.width,i[1]=(t._frame.y+d+l)/o.height,i[2]=(t._frame.x+t._frame.width-d+l)/o.width,i[3]=(t._frame.y+t._frame.height-d+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,!0},a(e,[{key:'texture',get:function(){return this._texture},set:function(e){this._texture=e,this._lastTextureID=-1}}]),e}();t.default=d},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var o=r(6),s=n(o),i=r(36),d=n(i),l=function(){function e(t,r){a(this,e),this.gl=t,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var n=0;4>n;n++)this.interleaved[4*n]=this.vertices[2*n],this.interleaved[4*n+1]=this.vertices[2*n+1],this.interleaved[4*n+2]=this.uvs[2*n],this.interleaved[4*n+3]=this.uvs[2*n+1];this.indices=(0,d.default)(1),this.vertexBuffer=s.default.GLBuffer.createVertexBuffer(t,this.interleaved,t.STATIC_DRAW),this.indexBuffer=s.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.vao=new s.default.VertexArrayObject(t,r)}return e.prototype.initVao=function(e){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,e.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,e.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},e.prototype.map=function(e,t){var r=0,n=0;return this.uvs[0]=r,this.uvs[1]=n,this.uvs[2]=r+t.width/e.width,this.uvs[3]=n,this.uvs[4]=r+t.width/e.width,this.uvs[5]=n+t.height/e.height,this.uvs[6]=r,this.uvs[7]=n+t.height/e.height,r=t.x,n=t.y,this.vertices[0]=r,this.vertices[1]=n,this.vertices[2]=r+t.width,this.vertices[3]=n,this.vertices[4]=r+t.width,this.vertices[5]=n+t.height,this.vertices[6]=r,this.vertices[7]=n+t.height,this},e.prototype.upload=function(){for(var e=0;4>e;e++)this.interleaved[4*e]=this.vertices[2*e],this.interleaved[4*e+1]=this.vertices[2*e+1],this.interleaved[4*e+2]=this.uvs[2*e],this.interleaved[4*e+3]=this.uvs[2*e+1];return this.vertexBuffer.upload(this.interleaved),this},e.prototype.destroy=function(){var e=this.gl;e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.indexBuffer)},e}();t.default=l},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e){return'number'==typeof e?(0,u.hex2string)(e):('string'==typeof e&&0===e.indexOf('0x')&&(e=e.replace('0x','#')),e)}function o(e){if(!Array.isArray(e))return a(e);for(var t=0;t<e.length;++t)e[t]=a(e[t]);return e}function i(e,t){if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}function s(e,t,r){for(var n in r)e[n]=Array.isArray(t[n])?t[n].slice():t[n]}t.__esModule=!0;var d=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(0),u=r(2),p={align:'left',breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:'black',dropShadowDistance:5,fill:'black',fillGradientType:l.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:'Arial',fontSize:26,fontStyle:'normal',fontVariant:'normal',fontWeight:'normal',letterSpacing:0,lineHeight:0,lineJoin:'miter',miterLimit:10,padding:0,stroke:'black',strokeThickness:0,textBaseline:'alphabetic',trim:!1,whiteSpace:'pre',wordWrap:!1,wordWrapWidth:100,leading:0},c=['serif','sans-serif','monospace','cursive','fantasy','system-ui'],h=function(){function e(t){n(this,e),this.styleID=0,this.reset(),s(this,t,t)}return e.prototype.clone=function(){var t={};return s(t,this,p),new e(t)},e.prototype.reset=function(){s(this,p,p)},e.prototype.toFontString=function(){var e='number'==typeof this.fontSize?this.fontSize+'px':this.fontSize,t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(','));for(var r=t.length-1,n;0<=r;r--)n=t[r].trim(),!/([\"\'])[^\'\"]+\1/.test(n)&&0>c.indexOf(n)&&(n='"'+n+'"'),t[r]=n;return this.fontStyle+' '+this.fontVariant+' '+this.fontWeight+' '+e+' '+t.join(',')},d(e,[{key:'align',get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)}},{key:'breakWords',get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}},{key:'dropShadow',get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}},{key:'dropShadowAlpha',get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}},{key:'dropShadowAngle',get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}},{key:'dropShadowBlur',get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}},{key:'dropShadowColor',get:function(){return this._dropShadowColor},set:function(e){var t=o(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}},{key:'dropShadowDistance',get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}},{key:'fill',get:function(){return this._fill},set:function(e){var t=o(e);this._fill!==t&&(this._fill=t,this.styleID++)}},{key:'fillGradientType',get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}},{key:'fillGradientStops',get:function(){return this._fillGradientStops},set:function(e){i(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}},{key:'fontFamily',get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}},{key:'fontSize',get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}},{key:'fontStyle',get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}},{key:'fontVariant',get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}},{key:'fontWeight',get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}},{key:'letterSpacing',get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}},{key:'lineHeight',get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}},{key:'leading',get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)}},{key:'lineJoin',get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}},{key:'miterLimit',get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}},{key:'padding',get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)}},{key:'stroke',get:function(){return this._stroke},set:function(e){var t=o(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}},{key:'strokeThickness',get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}},{key:'textBaseline',get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}},{key:'trim',get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)}},{key:'whiteSpace',get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}},{key:'wordWrap',get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}},{key:'wordWrapWidth',get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}}]),e}();t.default=h},function(e,t){'use strict';function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var n=Math.ceil,a=Math.max;t.__esModule=!0;var o=function(){function e(t,n,a,o,i,s,d,l,u){r(this,e),this.text=t,this.style=n,this.width=a,this.height=o,this.lines=i,this.lineWidths=s,this.lineHeight=d,this.maxLineWidth=l,this.fontProperties=u}return e.measureText=function(t,r,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:e._canvas;n=void 0===n||null===n?r.wordWrap:n;var s=r.toFontString(),d=e.measureFont(s),l=o.getContext('2d');l.font=s;for(var u=n?e.wordWrap(t,r,o):t,p=u.split(/(?:\r\n|\r|\n)/),c=Array(p.length),h=0,f=0,i;f<p.length;f++)i=l.measureText(p[f]).width+(p[f].length-1)*r.letterSpacing,c[f]=i,h=a(h,i);var y=h+r.strokeThickness;r.dropShadow&&(y+=r.dropShadowDistance);var m=r.lineHeight||d.fontSize+r.strokeThickness,_=a(m,d.fontSize+r.strokeThickness)+(p.length-1)*(m+r.leading);return r.dropShadow&&(_+=r.dropShadowDistance),new e(t,r,y,_,p,c,m+r.leading,h,d)},e.wordWrap=function(t,r){for(var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:e._canvas,a=n.getContext('2d'),o=0,s='',d='',l={},u=r.letterSpacing,p=r.whiteSpace,c=e.collapseSpaces(p),h=e.collapseNewlines(p),f=!c,y=r.wordWrapWidth+u,m=e.tokenize(t),_=0,i;_<m.length;_++){if(i=m[_],e.isNewline(i)){if(!h){d+=e.addLine(s),f=!c,s='',o=0;continue}i=' '}if(c){var x=e.isBreakingSpace(i),b=e.isBreakingSpace(s[s.length-1]);if(x&&b)continue}var v=e.getFromCache(i,u,l,a);if(!(v>y))v+o>y&&(f=!1,d+=e.addLine(s),s='',o=0),(0<s.length||!e.isBreakingSpace(i)||f)&&(s+=i,o+=v);else if(''!==s&&(d+=e.addLine(s),s='',o=0),e.canBreakWords(i,r.breakWords))for(var T=i.split(''),E=0;E<T.length;E++){for(var S=T[E],C=1;T[E+C];){var P=T[E+C],A=S[S.length-1];if(!e.canBreakChars(A,P,i,E,r.breakWords))S+=P;else break;C++}E+=S.length-1;var M=e.getFromCache(S,u,l,a);M+o>y&&(d+=e.addLine(s),f=!1,s='',o=0),s+=S,o+=M}else{0<s.length&&(d+=e.addLine(s),s='',o=0);var w=_===m.length-1;d+=e.addLine(i,!w),f=!1,s='',o=0}}return d+=e.addLine(s,!1),d},e.addLine=function(t){var r=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return t=e.trimRight(t),t=r?t+'\n':t,t},e.getFromCache=function(e,t,r,n){var a=r[e];if(void 0===a){var o=e.length*t;a=n.measureText(e).width+o,r[e]=a}return a},e.collapseSpaces=function(e){return'normal'===e||'pre-line'===e},e.collapseNewlines=function(e){return'normal'===e},e.trimRight=function(t){if('string'!=typeof t)return'';for(var r=t.length-1,n;0<=r&&(n=t[r],!!e.isBreakingSpace(n));r--)t=t.slice(0,-1);return t},e.isNewline=function(t){return'string'==typeof t&&0<=e._newlines.indexOf(t.charCodeAt(0))},e.isBreakingSpace=function(t){return'string'==typeof t&&0<=e._breakingSpaces.indexOf(t.charCodeAt(0))},e.tokenize=function(t){var r=[],n='';if('string'!=typeof t)return r;for(var a=0,o;a<t.length;a++){if(o=t[a],e.isBreakingSpace(o)||e.isNewline(o)){''!==n&&(r.push(n),n=''),r.push(o);continue}n+=o}return''!==n&&r.push(n),r},e.canBreakWords=function(e,t){return t},e.canBreakChars=function(){return!0},e.measureFont=function(t){if(e._fonts[t])return e._fonts[t];var r={},a=e._canvas,o=e._context;o.font=t;var s=e.METRICS_STRING+e.BASELINE_SYMBOL,d=n(o.measureText(s).width),l=n(o.measureText(e.BASELINE_SYMBOL).width),u=2*l;l=0|l*e.BASELINE_MULTIPLIER,a.width=d,a.height=u,o.fillStyle='#f00',o.fillRect(0,0,d,u),o.font=t,o.textBaseline='alphabetic',o.fillStyle='#000',o.fillText(s,0,l);var p=o.getImageData(0,0,d,u).data,c=p.length,h=4*d,f=0,i=0,y=!1;for(f=0;f<l;++f){for(var m=0;m<h;m+=4)if(255!==p[i+m]){y=!0;break}if(!y)i+=h;else break}for(r.ascent=l-f,i=c-h,y=!1,f=u;f>l;--f){for(var _=0;_<h;_+=4)if(255!==p[i+_]){y=!0;break}if(!y)i-=h;else break}return r.descent=f-l,r.fontSize=r.ascent+r.descent,e._fonts[t]=r,r},e.clearMetrics=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'';t?delete e._fonts[t]:e._fonts={}},e}();t.default=o;var i=document.createElement('canvas');i.width=i.height=10,o._canvas=i,o._context=i.getContext('2d'),o._fonts={},o.METRICS_STRING='|\xC9q',o.BASELINE_SYMBOL='M',o.BASELINE_MULTIPLIER=1.4,o._newlines=[10,13],o._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},function(e,t){'use strict';function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=function(){function e(t,n,a,o,i,s,d,l,u){r(this,e),this.lineWidth=t,this.lineAlignment=u,this.nativeLines=d,this.lineColor=n,this.lineAlpha=a,this._lineTint=n,this.fillColor=o,this.fillAlpha=i,this._fillTint=o,this.fill=s,this.holes=[],this.shape=l,this.type=l.type}return e.prototype.clone=function(){return new e(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)},e.prototype.addHole=function(e){this.holes.push(e)},e.prototype.destroy=function(){this.shape=null,this.holes=null},e}();t.default=n},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var o=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(69),s=r(11),d=n(s),l=r(33),u=r(3),p=n(u),c=r(0),h=function(){function e(t,r,n,o,s){a(this,e),'number'==typeof t&&(t=Object.assign({width:t,height:r||p.default.RENDER_OPTIONS.height,forceCanvas:!!o,sharedTicker:!!s},n)),this._options=t=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},t),this.renderer=(0,i.autoDetectRenderer)(t),this.stage=new d.default,this._ticker=null,this.ticker=t.sharedTicker?l.shared:new l.Ticker,t.autoStart&&this.start()}return e.prototype.render=function(){this.renderer.render(this.stage)},e.prototype.stop=function(){this._ticker.stop()},e.prototype.start=function(){this._ticker.start()},e.prototype.destroy=function(e,t){if(this._ticker){var r=this._ticker;this.ticker=null,r.destroy()}this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null,this._options=null},o(e,[{key:'ticker',set:function(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,c.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:'view',get:function(){return this.renderer.view}},{key:'screen',get:function(){return this.renderer.screen}}]),e}();t.default=h},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.autoDetectRenderer=function(e,t,r,n){var a=e&&e.forceCanvas;return void 0!==n&&(a=n),!a&&o.isWebGLSupported()?new l.default(e,t,r):new s.default(e,t,r)};var a=r(2),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(a),i=r(12),s=n(i),d=r(18),l=n(d)},function(e,t){'use strict';t.__esModule=!0,t.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.BitmapText=t.TilingSpriteRenderer=t.TilingSprite=t.AnimatedSprite=void 0;var a=r(159);Object.defineProperty(t,'AnimatedSprite',{enumerable:!0,get:function(){return n(a).default}});var o=r(160);Object.defineProperty(t,'TilingSprite',{enumerable:!0,get:function(){return n(o).default}});var i=r(161);Object.defineProperty(t,'TilingSpriteRenderer',{enumerable:!0,get:function(){return n(i).default}});var s=r(162);Object.defineProperty(t,'BitmapText',{enumerable:!0,get:function(){return n(s).default}}),r(163),r(164),r(165)},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d=r(1),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(d),u=r(73),p=n(u),c=r(74),h=n(c),f=r(75),y=n(f),m=function(e){function t(r,n,i,s){a(this,t),s=s||5;var d=(0,p.default)(s,!0),u=(0,h.default)(s),c=o(this,e.call(this,d,u));return c.resolution=i||l.settings.RESOLUTION,c._quality=0,c.quality=n||4,c.strength=r||8,c.firstRun=!0,c}return i(t,e),t.prototype.apply=function(e,t,r,n){if(this.firstRun){var a=e.renderer.gl,o=(0,y.default)(a);this.vertexSrc=(0,p.default)(o,!0),this.fragmentSrc=(0,h.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/r.size.width*(r.size.width/t.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,r,n);else{for(var s=e.getRenderTarget(!0),d=t,l=s,u=0;u<this.passes-1;u++){e.applyFilter(this,d,l,!0);var i=l;l=d,d=i}e.applyFilter(this,d,r,n),e.returnRenderTarget(s)}},s(t,[{key:'blur',get:function(){return this.strength},set:function(e){this.padding=2*Math.abs(e),this.strength=e}},{key:'quality',get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e}}]),t}(l.Filter);t.default=m},function(e,t){'use strict';t.__esModule=!0,t.default=function(e,t){var n=Math.ceil(e/2),a=r,o='',s=void 0;s=t?'vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);':'vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);';for(var d=0,i;d<e;d++)i=s.replace('%index%',d),i=i.replace('%sampleIndex%',d-(n-1)+'.0'),o+=i,o+='\n';return a=a.replace('%blur%',o),a=a.replace('%size%',e),a};var r='attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform float strength;\nuniform mat3 projectionMatrix;\nvarying vec2 vBlurTexCoords[%size%];\nvoid main(void)\n{\ngl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n%blur%\n}'},function(e,t){'use strict';t.__esModule=!0,t.default=function(e){for(var t=r[e],a=t.length,o=n,s='',d=void 0,l=0,i;l<e;l++)i='gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;'.replace('%index%',l),d=l,l>=a&&(d=e-l-1),i=i.replace('%value%',t[d]),s+=i,s+='\n';return o=o.replace('%blur%',s),o=o.replace('%size%',e),o};var r={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},n='varying vec2 vBlurTexCoords[%size%];\nuniform sampler2D uSampler;\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n    %blur%\n}'},function(e,t){'use strict';t.__esModule=!0,t.default=function(e){for(var t=e.getParameter(e.MAX_VARYING_VECTORS),r=15;r>t;)r-=2;return r}},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d=r(1),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(d),u=r(73),p=n(u),c=r(74),h=n(c),f=r(75),y=n(f),m=function(e){function t(r,n,i,s){a(this,t),s=s||5;var d=(0,p.default)(s,!1),u=(0,h.default)(s),c=o(this,e.call(this,d,u));return c.resolution=i||l.settings.RESOLUTION,c._quality=0,c.quality=n||4,c.strength=r||8,c.firstRun=!0,c}return i(t,e),t.prototype.apply=function(e,t,r,n){if(this.firstRun){var a=e.renderer.gl,o=(0,y.default)(a);this.vertexSrc=(0,p.default)(o,!1),this.fragmentSrc=(0,h.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/r.size.height*(r.size.height/t.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,r,n);else{for(var s=e.getRenderTarget(!0),d=t,l=s,u=0;u<this.passes-1;u++){e.applyFilter(this,d,l,!0);var i=l;l=d,d=i}e.applyFilter(this,d,r,n),e.returnRenderTarget(s)}},s(t,[{key:'blur',get:function(){return this.strength},set:function(e){this.padding=2*Math.abs(e),this.strength=e}},{key:'quality',get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e}}]),t}(l.Filter);t.default=m},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(1),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(o),s=function(){function e(){n(this,e),this.global=new i.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return e.prototype.getLocalPosition=function(e,t,r){return e.worldTransform.applyInverse(r||this.global,t)},e.prototype.copyEvent=function(e){e.isPrimary&&(this.isPrimary=!0),this.button=e.button,this.buttons=Number.isInteger(e.buttons)?e.buttons:e.which,this.width=e.width,this.height=e.height,this.tiltX=e.tiltX,this.tiltY=e.tiltY,this.pointerType=e.pointerType,this.pressure=e.pressure,this.rotationAngle=e.rotationAngle,this.twist=e.twist||0,this.tangentialPressure=e.tangentialPressure||0},e.prototype.reset=function(){this.isPrimary=!1},a(e,[{key:'pointerId',get:function(){return this.identifier}}]),e}();t.default=s},function(e,t){'use strict';function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=function(){function e(){r(this,e),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return e.prototype.stopPropagation=function(){this.stopped=!0},e.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},e}();t.default=n},function(e,t){'use strict';function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(){function e(t){r(this,e),this._pointerId=t,this._flags=e.FLAGS.NONE}return e.prototype._doSet=function(e,t){t?this._flags|=e:this._flags&=~e},n(e,[{key:'pointerId',get:function(){return this._pointerId}},{key:'flags',get:function(){return this._flags},set:function(e){this._flags=e}},{key:'none',get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:'over',get:function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function(e){this._doSet(this.constructor.FLAGS.OVER,e)}},{key:'rightDown',get:function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(e){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,e)}},{key:'leftDown',get:function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(e){this._doSet(this.constructor.FLAGS.LEFT_DOWN,e)}}]),e}();t.default=a,a.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},function(e,t){'use strict';t.__esModule=!0,t.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return'pointer'===this.cursor},set buttonMode(e){e?this.cursor='pointer':'pointer'===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},function(e,t,r){'use strict';function n(e,t){e.bitmapFont=i.BitmapText.registerFont(e.data,t)}t.__esModule=!0,t.parse=n,t.default=function(){return function(e,t){if(!e.data||e.type!==s.Resource.TYPE.XML)return void t();if(0===e.data.getElementsByTagName('page').length||0===e.data.getElementsByTagName('info').length||null===e.data.getElementsByTagName('info')[0].getAttribute('face'))return void t();var r=e.isDataUrl?'':o.dirname(e.url);e.isDataUrl&&('.'===r&&(r=''),this.baseUrl&&r&&'/'===this.baseUrl.charAt(this.baseUrl.length-1)&&(r+='/')),r=r.replace(this.baseUrl,''),r&&'/'!==r.charAt(r.length-1)&&(r+='/');for(var a=e.data.getElementsByTagName('page'),d={},l=function(r){d[r.metadata.pageFile]=r.texture,Object.keys(d).length===a.length&&(n(e,d),t())},u=0;u<a.length;++u){var i=a[u].getAttribute('file'),p=r+i,c=!1;for(var h in this.resources){var f=this.resources[h];if(f.url===p){f.metadata.pageFile=i,f.texture?l(f):f.onAfterMiddleware.add(l),c=!0;break}}if(!c){var y={crossOrigin:e.crossOrigin,loadType:s.Resource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:i},e.metadata.imageMetadata),parentResource:e};this.add(p,y,l)}}}};var a=r(7),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(a),s=r(15),i=r(71)},function(e,t){'use strict';function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){return e._head?(e._tail._next=t,t._prev=e._tail,e._tail=t):(e._head=t,e._tail=t),t._owner=e,t}Object.defineProperty(t,'__esModule',{value:!0});var a=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(t,n,a){void 0===n&&(n=!1),r(this,e),this._fn=t,this._once=n,this._thisArg=a,this._next=this._prev=this._owner=null}return a(e,[{key:'detach',value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),e}(),i=function(){function e(){r(this,e),this._head=this._tail=void 0}return a(e,[{key:'handlers',value:function(){var e=!(0>=arguments.length||void 0===arguments[0])&&arguments[0],t=this._head;if(e)return!!t;for(var r=[];t;)r.push(t),t=t._next;return r}},{key:'has',value:function(e){if(!(e instanceof o))throw new Error('MiniSignal#has(): First arg must be a MiniSignalBinding object.');return e._owner===this}},{key:'dispatch',value:function(){var e=this._head;if(!e)return!1;for(;e;)e._once&&this.detach(e),e._fn.apply(e._thisArg,arguments),e=e._next;return!0}},{key:'add',value:function(e){var t=1>=arguments.length||void 0===arguments[1]?null:arguments[1];if('function'!=typeof e)throw new Error('MiniSignal#add(): First arg must be a Function.');return n(this,new o(e,!1,t))}},{key:'once',value:function(e){var t=1>=arguments.length||void 0===arguments[1]?null:arguments[1];if('function'!=typeof e)throw new Error('MiniSignal#once(): First arg must be a Function.');return n(this,new o(e,!0,t))}},{key:'detach',value:function(e){if(!(e instanceof o))throw new Error('MiniSignal#detach(): First arg must be a MiniSignalBinding object.');return e._owner===this?(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,null===e._next&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null,this):this}},{key:'detachAll',value:function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this}}]),e}();i.MiniSignalBinding=o,t['default']=i,e.exports=t['default']},function(e){'use strict';e.exports=function(e,t){t=t||{};for(var r={key:['source','protocol','authority','userInfo','user','password','host','port','relative','path','directory','file','query','anchor'],q:{name:'queryKey',parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[t.strictMode?'strict':'loose'].exec(e),a={},o=14;o--;)a[r.key[o]]=n[o]||'';return a[r.q.name]={},a[r.key[12]].replace(r.q.parser,function(e,t,n){t&&(a[r.q.name][t]=n)}),a}},function(e,t){'use strict';function r(){}function n(e){return function(){if(null===e)throw new Error('Callback was already called.');var t=e;e=null,t.apply(this,arguments)}}t.__esModule=!0,t.eachSeries=function(e,t,r,n){var a=0,o=e.length;(function i(s){return s||a===o?void(r&&r(s)):void(n?setTimeout(function(){t(e[a++],i)},1):t(e[a++],i))})()},t.queue=function(e,t){function a(e,t,n){if(null!=n&&'function'!=typeof n)throw new Error('task callback must be a function');if(s.started=!0,null==e&&s.idle())return void setTimeout(function(){return s.drain()},1);var a={data:e,callback:'function'==typeof n?n:r};t?s._tasks.unshift(a):s._tasks.push(a),setTimeout(function(){return s.process()},1)}function o(e){return function(){i-=1,e.callback.apply(e,arguments),null!=arguments[0]&&s.error(arguments[0],e.data),i<=s.concurrency-s.buffer&&s.unsaturated(),s.idle()&&s.drain(),s.process()}}if(null==t)t=1;else if(0===t)throw new Error('Concurrency must not be zero');var i=0,s={_tasks:[],concurrency:t,saturated:r,unsaturated:r,buffer:t/4,empty:r,drain:r,error:r,started:!1,paused:!1,push:function(e,t){a(e,!1,t)},kill:function(){i=0,s.drain=r,s.started=!1,s._tasks=[]},unshift:function(e,t){a(e,!0,t)},process:function(){for(;!s.paused&&i<s.concurrency&&s._tasks.length;){var t=s._tasks.shift();0===s._tasks.length&&s.empty(),i+=1,i===s.concurrency&&s.saturated(),e(t.data,n(o(t)))}},length:function(){return s._tasks.length},running:function(){return i},idle:function(){return 0===s._tasks.length+i},pause:function(){!0===s.paused||(s.paused=!0)},resume:function(){if(!1!==s.paused){s.paused=!1;for(var e=1;e<=s.concurrency;e++)s.process()}}};return s}},function(e,t){'use strict';t.__esModule=!0,t.encodeBinary=function(e){for(var t='',n=0;n<e.length;){for(var a=[0,0,0],o=[0,0,0,0],i=0;i<a.length;++i)a[i]=n<e.length?255&e.charCodeAt(n++):0;o[0]=a[0]>>2,o[1]=(3&a[0])<<4|a[1]>>4,o[2]=(15&a[1])<<2|a[2]>>6,o[3]=63&a[2];var s=n-(e.length-1);switch(s){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64;break;default:}for(var d=0;d<o.length;++d)t+=r.charAt(o[d])}return t};var r='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='},function(e,t,r){'use strict';function n(e,t){return e.isDataUrl?e.data.meta.image:i.default.resolve(e.url.replace(t,''),e.data.meta.image)}t.__esModule=!0,t.default=function(){return function(e,t){var r=e.name+'_image';if(!e.data||e.type!==a.Resource.TYPE.JSON||!e.data.frames||this.resources[r])return void t();var o={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},i=n(e,this.baseUrl);this.add(r,i,o,function(r){if(r.error)return void t(r.error);var n=new s.Spritesheet(r.texture.baseTexture,e.data,e.url);n.parse(function(){e.spritesheet=n,e.textures=n.textures,t()})})}},t.getResourcePath=n;var a=r(15),o=r(54),i=function(e){return e&&e.__esModule?e:{default:e}}(o),s=r(1)},function(e,t,r){'use strict';t.__esModule=!0,t.default=function(){return function(e,t){e.data&&e.type===n.Resource.TYPE.IMAGE&&(e.texture=o.default.fromLoader(e.data,e.url,e.name)),t()}};var n=r(15),a=r(8),o=function(e){return e&&e.__esModule?e:{default:e}}(a)},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=r(16),s=function(e){return e&&e.__esModule?e:{default:e}}(i),d=function(e){function t(r,o,i){n(this,t);var d=a(this,e.call(this,r));return d._ready=!0,d.verticesX=o||10,d.verticesY=i||10,d.drawMode=s.default.DRAW_MODES.TRIANGLES,d.refresh(),d}return o(t,e),t.prototype._refresh=function(){for(var e=this._texture,t=this.verticesX*this.verticesY,r=[],n=[],a=[],o=[],s=this.verticesX-1,d=this.verticesY-1,l=e.width/s,u=e.height/d,p=0;p<t;p++){var i=p%this.verticesX,c=0|p/this.verticesX;r.push(i*l,c*u),a.push(i/s,c/d)}for(var h=0;h<s*d;h++){var f=h%s,y=0|h/s,m=y*this.verticesX+f,_=y*this.verticesX+f+1,x=(y+1)*this.verticesX+f,b=(y+1)*this.verticesX+f+1;o.push(m,_,x),o.push(_,b,x)}this.vertices=new Float32Array(r),this.uvs=new Float32Array(a),this.colors=new Float32Array(n),this.indices=new Uint16Array(o),this.dirty++,this.indexDirty++,this.multiplyUvs()},t.prototype._onTextureUpdate=function(){s.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},t}(s.default);t.default=d},function(e,t){'use strict';function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=function(){function e(t){r(this,e),this.maxItemsPerFrame=t,this.itemsLeft=0}return e.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},e.prototype.allowedToUpload=function(){return 0<this.itemsLeft--},e}();t.default=n},function(){},function(e,t,r){'use strict';r(92),r(94),r(95),r(96),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},function(e,t,r){'use strict';var n=r(93),a=function(e){return e&&e.__esModule?e:{default:e}}(n);Object.assign||(Object.assign=a.default)},function(e){'use strict';function t(e){if(null===e||e===void 0)throw new TypeError('Object.assign cannot be called with null or undefined');return Object(e)}var r=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String('abc');if(e[5]='de','5'===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;10>r;r++)t['_'+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if('0123456789'!==n.join(''))return!1;var a={};return['a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t'].forEach(function(e){a[e]=e}),'abcdefghijklmnopqrst'===Object.keys(Object.assign({},a)).join('')}catch(e){return!1}}()?Object.assign:function(e){for(var o=t(e),d=1,s,l;d<arguments.length;d++){for(var u in s=Object(arguments[d]),s)n.call(s,u)&&(o[u]=s[u]);if(r){l=r(s);for(var p=0;p<l.length;p++)a.call(s,l[p])&&(o[l[p]]=s[l[p]])}}return o}},function(e,t,r){'use strict';(function(e){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()}),!(e.performance&&e.performance.now)){var t=Date.now();e.performance||(e.performance={}),e.performance.now=function(){return Date.now()-t}}for(var r=Date.now(),n=['ms','moz','webkit','o'],a=0,o;a<n.length&&!e.requestAnimationFrame;++a)o=n[a],e.requestAnimationFrame=e[o+'RequestAnimationFrame'],e.cancelAnimationFrame=e[o+'CancelAnimationFrame']||e[o+'CancelRequestAnimationFrame'];e.requestAnimationFrame||(e.requestAnimationFrame=function(e){if('function'!=typeof e)throw new TypeError(e+'is not a function');var t=Date.now(),n=16+r-t;return 0>n&&(n=0),r=t,setTimeout(function(){r=Date.now(),e(performance.now())},n)}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(e){return clearTimeout(e)})}).call(this,r(22))},function(){'use strict';var e=Math.sign;e||(e=function(e){return e=+e,0===e||isNaN(e)?e:0<e?1:-1})},function(){'use strict';var e=Number.isInteger;e||(e=function(e){return'number'==typeof e&&isFinite(e)&&Math.floor(e)===e})},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=r(25),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=r(0),s=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;n(this,e),this.x=t,this.y=r,this.radius=a,this.type=i.SHAPES.CIRC}return e.prototype.clone=function(){return new e(this.x,this.y,this.radius)},e.prototype.contains=function(e,t){if(0>=this.radius)return!1;var r=this.radius*this.radius,n=this.x-e,a=this.y-t;return n*=n,a*=a,n+a<=r},e.prototype.getBounds=function(){return new o.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},e}();t.default=s},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=r(25),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=r(0),s=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;n(this,e),this.x=t,this.y=r,this.width=a,this.height=o,this.type=i.SHAPES.ELIP}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.contains=function(e,t){if(0>=this.width||0>=this.height)return!1;var r=(e-this.x)/this.width,n=(t-this.y)/this.height;return r*=r,n*=n,1>=r+n},e.prototype.getBounds=function(){return new o.default(this.x-this.width,this.y-this.height,this.width,this.height)},e}();t.default=s},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=r(23),o=function(e){return e&&e.__esModule?e:{default:e}}(a),s=r(0),i=function(){function e(){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];if(n(this,e),Array.isArray(r[0])&&(r=r[0]),r[0]instanceof o.default){for(var d=[],l=0,i=r.length;l<i;l++)d.push(r[l].x,r[l].y);r=d}this.closed=!0,this.points=r,this.type=s.SHAPES.POLY}return e.prototype.clone=function(){return new e(this.points.slice())},e.prototype.close=function(){var e=this.points;(e[0]!==e[e.length-2]||e[1]!==e[e.length-1])&&e.push(e[0],e[1])},e.prototype.contains=function(e,t){for(var r=!1,n=this.points.length/2,a=0,o=n-1;a<n;o=a++){var i=this.points[2*a],s=this.points[2*a+1],d=this.points[2*o],l=this.points[2*o+1];s>t!=l>t&&e<(d-i)*((t-s)/(l-s))+i&&(r=!r)}return r},e}();t.default=i},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=r(0),o=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:20;n(this,e),this.x=t,this.y=r,this.width=o,this.height=i,this.radius=s,this.type=a.SHAPES.RREC}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height,this.radius)},e.prototype.contains=function(e,t){if(0>=this.width||0>=this.height)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){if(t>=this.y+this.radius&&t<=this.y+this.height-this.radius||e>=this.x+this.radius&&e<=this.x+this.width-this.radius)return!0;var r=e-(this.x+this.radius),n=t-(this.y+this.radius),a=this.radius*this.radius;if(r*r+n*n<=a)return!0;if(r=e-(this.x+this.width-this.radius),r*r+n*n<=a)return!0;if(n=t-(this.y+this.height-this.radius),r*r+n*n<=a)return!0;if(r=e-(this.x+this.radius),r*r+n*n<=a)return!0}return!1},e}();t.default=o},function(e){e.exports=function(e,t){var r=e.getContext('webgl',t)||e.getContext('experimental-webgl',t);if(!r)throw new Error('This browser does not support webGL. Try using the canvas renderer');return r}},function(e){var t=new ArrayBuffer(0),r=function(e,r,n,a){this.gl=e,this.buffer=e.createBuffer(),this.type=r||e.ARRAY_BUFFER,this.drawType=a||e.STATIC_DRAW,this.data=t,n&&this.upload(n),this._updateID=0};r.prototype.upload=function(e,t,r){r||this.bind();var n=this.gl;e=e||this.data,t=t||0,this.data.byteLength>=e.byteLength?n.bufferSubData(this.type,t,e):n.bufferData(this.type,e,this.drawType),this.data=e},r.prototype.bind=function(){var e=this.gl;e.bindBuffer(this.type,this.buffer)},r.createVertexBuffer=function(e,t,n){return new r(e,e.ARRAY_BUFFER,t,n)},r.createIndexBuffer=function(e,t,n){return new r(e,e.ELEMENT_ARRAY_BUFFER,t,n)},r.create=function(e,t,n,a){return new r(e,t,n,a)},r.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},e.exports=r},function(e,t,r){var n=r(42),a=function(e,t,r){this.gl=e,this.framebuffer=e.createFramebuffer(),this.stencil=null,this.texture=null,this.width=t||100,this.height=r||100};a.prototype.enableTexture=function(e){var t=this.gl;this.texture=e||new n(t),this.texture.bind(),this.bind(),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture.texture,0)},a.prototype.enableStencil=function(){if(!this.stencil){var e=this.gl;this.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this.stencil),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,this.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,this.width,this.height)}},a.prototype.clear=function(e,t,r,n){this.bind();var a=this.gl;a.clearColor(e,t,r,n),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},a.prototype.bind=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer)},a.prototype.unbind=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,null)},a.prototype.resize=function(e,t){var r=this.gl;this.width=e,this.height=t,this.texture&&this.texture.uploadData(null,e,t),this.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,this.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e,t))},a.prototype.destroy=function(){var e=this.gl;this.texture&&this.texture.destroy(),e.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},a.createRGBA=function(e,t,r){var o=n.fromData(e,null,t,r);o.enableNearestScaling(),o.enableWrapClamp();var i=new a(e,t,r);return i.enableTexture(o),i.unbind(),i},a.createFloat32=function(e,t,r,o){var i=new n.fromData(e,o,t,r);i.enableNearestScaling(),i.enableWrapClamp();var s=new a(e,t,r);return s.enableTexture(i),s.unbind(),s},e.exports=a},function(e,t,r){var n=r(43),a=r(44),o=r(46),i=r(48),s=r(49),d=function(e,t,r,d,l){this.gl=e,d&&(t=i(t,d),r=i(r,d)),this.program=n(e,t,r,l),this.attributes=a(e,this.program),this.uniformData=o(e,this.program),this.uniforms=s(e,this.uniformData)};d.prototype.bind=function(){return this.gl.useProgram(this.program),this},d.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null;var e=this.gl;e.deleteProgram(this.program)},e.exports=d},function(e,t,r){function n(e,t){if(this.nativeVaoExtension=null,n.FORCE_NATIVE||(this.nativeVaoExtension=e.getExtension('OES_vertex_array_object')||e.getExtension('MOZ_OES_vertex_array_object')||e.getExtension('WEBKIT_OES_vertex_array_object')),this.nativeState=t,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var r=e.getParameter(e.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:Array(r),attribState:Array(r)}}this.gl=e,this.attributes=[],this.indexBuffer=null,this.dirty=!1}var a=r(41);n.prototype.constructor=n,e.exports=n,n.FORCE_NATIVE=!1,n.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},n.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},n.prototype.activate=function(){for(var e=this.gl,t=null,r=0,n;r<this.attributes.length;r++)n=this.attributes[r],t!==n.buffer&&(n.buffer.bind(),t=n.buffer),e.vertexAttribPointer(n.attribute.location,n.attribute.size,n.type||e.FLOAT,n.normalized||!1,n.stride||0,n.start||0);return a(e,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},n.prototype.addAttribute=function(e,t,r,n,a,o){return this.attributes.push({buffer:e,attribute:t,location:t.location,type:r||this.gl.FLOAT,normalized:n||!1,stride:a||0,start:o||0}),this.dirty=!0,this},n.prototype.addIndex=function(e){return this.indexBuffer=e,this.dirty=!0,this},n.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},n.prototype.draw=function(e,t,r){var n=this.gl;return this.indexBuffer?n.drawElements(e,t||this.indexBuffer.data.length,n.UNSIGNED_SHORT,2*(r||0)):n.drawArrays(e,r,t||this.getSize()),this},n.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},n.prototype.getSize=function(){var e=this.attributes[0];return e.buffer.data.length/(e.stride/4||e.attribute.size)}},function(e,t,r){e.exports={compileProgram:r(43),defaultValue:r(47),extractAttributes:r(44),extractUniforms:r(46),generateUniformAccessObject:r(49),setPrecision:r(48),mapSize:r(45),mapType:r(26)}},function(e,t,r){'use strict';t.__esModule=!0,t.default=function(e){return a.default.tablet||a.default.phone?4:e};var n=r(28),a=function(e){return e&&e.__esModule?e:{default:e}}(n)},function(e,t){'use strict';t.__esModule=!0,t.default=function(){var e=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);return!e}},function(e,t){'use strict';function r(e){e.__plugins={},e.registerPlugin=function(t,r){e.__plugins[t]=r},e.prototype.initPlugins=function(){for(var t in this.plugins=this.plugins||{},e.__plugins)this.plugins[t]=new e.__plugins[t](this)},e.prototype.destroyPlugins=function(){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;this.plugins=null}}t.__esModule=!0,t.default={mixin:function(e){r(e)}}},function(e,t){'use strict';function r(e,t){if(e&&t)for(var r=Object.keys(t),n=0,a;n<r.length;++n)a=r[n],Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}t.__esModule=!0,t.mixin=r,t.delayMixin=function(e,t){n.push(e,t)},t.performMixins=function(){for(var e=0;e<n.length;e+=2)r(n[e],n[e+1]);n.length=0};var n=[]},function(e,t,r){'use strict';r.r(t),t['default']=function(e,t,r){var n=e.length,a;if(!(t>=n||0===r)){r=t+r>n?n-t:r;var o=n-r;for(a=t;a<o;++a)e[a]=e[a+r];e.length=o}}},function(e,t,r){'use strict';t.__esModule=!0,t.default=function(){for(var e=[],t=[],r=0;32>r;r++)e[r]=r,t[r]=r;e[n.BLEND_MODES.NORMAL_NPM]=n.BLEND_MODES.NORMAL,e[n.BLEND_MODES.ADD_NPM]=n.BLEND_MODES.ADD,e[n.BLEND_MODES.SCREEN_NPM]=n.BLEND_MODES.SCREEN,t[n.BLEND_MODES.NORMAL]=n.BLEND_MODES.NORMAL_NPM,t[n.BLEND_MODES.ADD]=n.BLEND_MODES.ADD_NPM,t[n.BLEND_MODES.SCREEN]=n.BLEND_MODES.SCREEN_NPM;return[t,e]};var n=r(0)},function(e,t,r){(function(e,n){var a;(function(o){function s(e){throw new RangeError(R[e])}function i(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function d(e,t){var r=e.split('@'),n='';1<r.length&&(n=r[0]+'@',e=r[1]),e=e.replace(D,'.');var a=e.split('.'),o=i(a,t).join('.');return n+o}function l(e){for(var t=[],r=0,n=e.length,a,o;r<n;)a=e.charCodeAt(r++),55296<=a&&56319>=a&&r<n?(o=e.charCodeAt(r++),56320==(64512&o)?t.push(((1023&a)<<10)+(1023&o)+65536):(t.push(a),r--)):t.push(a);return t}function u(e){return i(e,function(e){var t='';return 65535<e&&(e-=65536,t+=F(55296|1023&e>>>10),e=56320|1023&e),t+=F(e),t}).join('')}function p(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:v}function c(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function h(e,t,r){var n=0;for(e=r?L(e/C):e>>1,e+=L(e/t);e>I*E>>1;n+=v)e=L(e/I);return L(n+(I+1)*e/(e+S))}function f(e){var r=[],a=e.length,o=0,i=A,n=P,d,l,c,f,y,m,_,x,S,t;for(l=e.lastIndexOf(M),0>l&&(l=0),c=0;c<l;++c)128<=e.charCodeAt(c)&&s('not-basic'),r.push(e.charCodeAt(c));for(f=0<l?l+1:0;f<a;){for(y=o,m=1,_=v;;_+=v){if(f>=a&&s('invalid-input'),x=p(e.charCodeAt(f++)),(x>=v||x>L((b-o)/m))&&s('overflow'),o+=x*m,S=_<=n?T:_>=n+E?E:_-n,x<S)break;t=v-S,m>L(b/t)&&s('overflow'),m*=t}d=r.length+1,n=h(o-y,d,0==y),L(o/d)>b-i&&s('overflow'),i+=L(o/d),o%=d,r.splice(o++,0,i)}return u(r)}function y(e){var r=[],a,n,o,i,d,u,p,f,y,m,t,_,x,S,C;for(e=l(e),_=e.length,a=A,n=0,d=P,u=0;u<_;++u)t=e[u],128>t&&r.push(F(t));for(o=i=r.length,i&&r.push(M);o<_;){for(p=b,u=0;u<_;++u)t=e[u],t>=a&&t<p&&(p=t);for(x=o+1,p-a>L((b-n)/x)&&s('overflow'),n+=(p-a)*x,a=p,u=0;u<_;++u)if(t=e[u],t<a&&++n>b&&s('overflow'),t==a){for(f=n,y=v;;y+=v){if(m=y<=d?T:y>=d+E?E:y-d,f<m)break;C=f-m,S=v-m,r.push(F(c(m+C%S,0))),f=L(C/S)}r.push(F(c(f,0))),d=h(n,x,o==i),n=0,++o}++n,++a}return r.join('')}var m=t&&!t.nodeType&&t,_=e&&!e.nodeType&&e,x='object'==typeof n&&n;(x.global===x||x.window===x||x.self===x)&&(o=x);var b=2147483647,v=36,T=1,E=26,S=38,C=700,P=72,A=128,M='-',w=/^xn--/,O=/[^\x20-\x7E]/,D=/[\x2E\u3002\uFF0E\uFF61]/g,R={overflow:'Overflow: input needs wider integers to process',"not-basic":'Illegal input >= 0x80 (not a basic code point)',"invalid-input":'Invalid input'},I=v-T,L=Math.floor,F=String.fromCharCode,k;k={version:'1.4.1',ucs2:{decode:l,encode:u},decode:f,encode:y,toASCII:function(e){return d(e,function(e){return O.test(e)?'xn--'+y(e):e})},toUnicode:function(e){return d(e,function(e){return w.test(e)?f(e.slice(4).toLowerCase()):e})}},a=function(){return k}.call(t,r,t,e),!(a!==void 0&&(e.exports=a))})(this)}).call(this,r(114)(e),r(22))},function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],!e.children&&(e.children=[]),Object.defineProperty(e,'loaded',{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,'id',{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e){'use strict';e.exports={isString:function(e){return'string'==typeof e},isObject:function(e){return'object'==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,r){'use strict';t.decode=t.parse=r(117),t.encode=t.stringify=r(118)},function(e){'use strict';function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,a,o){n=n||'&',a=a||'=';var s={};if('string'!=typeof e||0===e.length)return s;var d=/\+/g;e=e.split(n);var l=1e3;o&&'number'==typeof o.maxKeys&&(l=o.maxKeys);var u=e.length;0<l&&u>l&&(u=l);for(var p=0;p<u;++p){var i=e[p].replace(d,'%20'),c=i.indexOf(a),h,f,y,m;0<=c?(h=i.substr(0,c),f=i.substr(c+1)):(h=i,f=''),y=decodeURIComponent(h),m=decodeURIComponent(f),t(s,y)?r(s[y])?s[y].push(m):s[y]=[s[y],m]:s[y]=m}return s};var r=Array.isArray||function(e){return'[object Array]'===Object.prototype.toString.call(e)}},function(e){'use strict';function t(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var r=function(e){switch(typeof e){case'string':return e;case'boolean':return e?'true':'false';case'number':return isFinite(e)?e:'';default:return'';}};e.exports=function(e,o,i,s){return o=o||'&',i=i||'=',null===e&&(e=void 0),'object'==typeof e?t(a(e),function(a){var s=encodeURIComponent(r(a))+i;return n(e[a])?t(e[a],function(e){return s+encodeURIComponent(r(e))}).join(o):s+encodeURIComponent(r(e[a]))}).join(o):s?encodeURIComponent(r(s))+i+encodeURIComponent(r(e)):''};var n=Array.isArray||function(e){return'[object Array]'===Object.prototype.toString.call(e)},a=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var o=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(3),s=n(i),d=r(0),l=r(120),u=n(l),p=function(){function e(){var t=this;a(this,e),this._head=new u.default(null,null,Infinity),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/s.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return e.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},e.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},e.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},e.prototype.add=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:d.UPDATE_PRIORITY.NORMAL;return this._addListener(new u.default(e,t,r))},e.prototype.addOnce=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:d.UPDATE_PRIORITY.NORMAL;return this._addListener(new u.default(e,t,r,!0))},e.prototype._addListener=function(e){var t=this._head.next,r=this._head;if(!t)e.connect(r);else{for(;t;){if(e.priority>t.priority){e.connect(r);break}r=t,t=t.next}e.previous||e.connect(r)}return this._startIfPossible(),this},e.prototype.remove=function(e,t){for(var r=this._head.next;r;)r=r.match(e,t)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},e.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},e.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},e.prototype.destroy=function(){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null},e.prototype.update=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:performance.now(),t=void 0;if(e>this.lastTime){t=this.elapsedMS=e-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),this.deltaTime=t*s.default.TARGET_FPMS*this.speed;for(var r=this._head,n=r.next;n;)n=n.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=e},o(e,[{key:'FPS',get:function(){return 1e3/this.elapsedMS}},{key:'minFPS',get:function(){return 1e3/this._maxElapsedMS},set:function(e){var t=Math.min(Math.max(0,e)/1e3,s.default.TARGET_FPMS);this._maxElapsedMS=1/t}}]),e}();t.default=p},function(e,t){'use strict';function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3];r(this,e),this.fn=t,this.context=n,this.priority=a,this.once=o,this.next=null,this.previous=null,this._destroyed=!1}return e.prototype.match=function(e,t){return t=t||null,this.fn===e&&this.context===t},e.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t},e.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},e.prototype.destroy=function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var t=this.next;return this.next=e?null:t,this.previous=null,t},e}();t.default=n},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var o=r(12),i=n(o),s=r(0),d=r(4),l=r(35),u=n(l),p=new d.Matrix,c=function(){function e(t){a(this,e),this.renderer=t}return e.prototype.render=function(e){var t=e._texture,r=this.renderer,n=t._frame.width,a=t._frame.height,o=e.transform.worldTransform,i=0,l=0;if(!(0>=t.orig.width||0>=t.orig.height||!t.baseTexture.source)&&(r.setBlendMode(e.blendMode),t.valid)){r.context.globalAlpha=e.worldAlpha;var c=t.baseTexture.scaleMode===s.SCALE_MODES.LINEAR;r.smoothProperty&&r.context[r.smoothProperty]!==c&&(r.context[r.smoothProperty]=c),t.trim?(i=t.trim.width/2+t.trim.x-e.anchor.x*t.orig.width,l=t.trim.height/2+t.trim.y-e.anchor.y*t.orig.height):(i=(.5-e.anchor.x)*t.orig.width,l=(.5-e.anchor.y)*t.orig.height),t.rotate&&(o.copy(p),o=p,d.GroupD8.matrixAppendRotationInv(o,t.rotate,i,l),i=0,l=0),i-=n/2,l-=a/2,r.roundPixels?(r.context.setTransform(o.a,o.b,o.c,o.d,0|o.tx*r.resolution,0|o.ty*r.resolution),i|=0,l|=0):r.context.setTransform(o.a,o.b,o.c,o.d,o.tx*r.resolution,o.ty*r.resolution);var h=t.baseTexture.resolution;16777215===e.tint?r.context.drawImage(t.baseTexture.source,t._frame.x*h,t._frame.y*h,n*h,a*h,i*r.resolution,l*r.resolution,n*r.resolution,a*r.resolution):((e.cachedTint!==e.tint||e.tintedTexture.tintId!==e._texture._updateID)&&(e.cachedTint=e.tint,e.tintedTexture=u.default.getTintedTexture(e,e.tint)),r.context.drawImage(e.tintedTexture,0,0,n*h,a*h,i*r.resolution,l*r.resolution,n*r.resolution,a*r.resolution))}},e.prototype.destroy=function(){this.renderer=null},e}();t.default=c,i.default.registerPlugin('sprite',c)},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=r(0),o=function(){function e(t){n(this,e),this.renderer=t}return e.prototype.pushMask=function(e){var t=this.renderer;t.context.save();var r=e.alpha,n=e.transform.worldTransform,a=t.resolution;t.context.setTransform(n.a*a,n.b*a,n.c*a,n.d*a,n.tx*a,n.ty*a),e._texture||(this.renderGraphicsShape(e),t.context.clip()),e.worldAlpha=r},e.prototype.renderGraphicsShape=function(e){var t=this.renderer.context,r=e.graphicsData.length;if(0!==r){t.beginPath();for(var n=0;n<r;n++){var o=e.graphicsData[n],i=o.shape;if(o.type===a.SHAPES.POLY){var s=i.points,d=o.holes,l=void 0,u=void 0;t.moveTo(s[0],s[1]);for(var p=2;p<s.length;p+=2)t.lineTo(s[p],s[p+1]);if(s[0]===s[s.length-2]&&s[1]===s[s.length-1]&&t.closePath(),0<d.length){l=0;for(var c=0;c<s.length;c+=2)l+=s[c]*s[c+3]-s[c+1]*s[c+2];for(var f=0;f<d.length;f++){s=d[f].points,u=0;for(var m=0;m<s.length;m+=2)u+=s[m]*s[m+3]-s[m+1]*s[m+2];if(t.moveTo(s[0],s[1]),0>u*l)for(var _=2;_<s.length;_+=2)t.lineTo(s[_],s[_+1]);else for(var b=s.length-2;2<=b;b-=2)t.lineTo(s[b],s[b+1])}}}else if(o.type===a.SHAPES.RECT)t.rect(i.x,i.y,i.width,i.height),t.closePath();else if(o.type===a.SHAPES.CIRC)t.arc(i.x,i.y,i.radius,0,2*Math.PI),t.closePath();else if(o.type===a.SHAPES.ELIP){var v=2*i.width,T=2*i.height,h=i.x-v/2,x=i.y-T/2,y=.5522848,E=v/2*y,S=T/2*y,C=h+v,P=x+T,A=h+v/2,M=x+T/2;t.moveTo(h,M),t.bezierCurveTo(h,M-S,A-E,x,A,x),t.bezierCurveTo(A+E,x,C,M-S,C,M),t.bezierCurveTo(C,M+S,A+E,P,A,P),t.bezierCurveTo(A-E,P,h,M+S,h,M),t.closePath()}else if(o.type===a.SHAPES.RREC){var w=i.x,O=i.y,D=i.width,R=i.height,I=i.radius,k=0|Math.min(D,R)/2;I=I>k?k:I,t.moveTo(w,O+I),t.lineTo(w,O+R-I),t.quadraticCurveTo(w,O+R,w+I,O+R),t.lineTo(w+D-I,O+R),t.quadraticCurveTo(w+D,O+R,w+D,O+R-I),t.lineTo(w+D,O+I),t.quadraticCurveTo(w+D,O,w+D-I,O),t.lineTo(w+I,O),t.quadraticCurveTo(w,O,w,O+I),t.closePath()}}}},e.prototype.popMask=function(e){e.context.restore(),e.invalidateBlendMode()},e.prototype.destroy=function(){},e}();t.default=o},function(e,t,r){'use strict';t.__esModule=!0,t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return(0,o.default)()?(e[n.BLEND_MODES.NORMAL]='source-over',e[n.BLEND_MODES.ADD]='lighter',e[n.BLEND_MODES.MULTIPLY]='multiply',e[n.BLEND_MODES.SCREEN]='screen',e[n.BLEND_MODES.OVERLAY]='overlay',e[n.BLEND_MODES.DARKEN]='darken',e[n.BLEND_MODES.LIGHTEN]='lighten',e[n.BLEND_MODES.COLOR_DODGE]='color-dodge',e[n.BLEND_MODES.COLOR_BURN]='color-burn',e[n.BLEND_MODES.HARD_LIGHT]='hard-light',e[n.BLEND_MODES.SOFT_LIGHT]='soft-light',e[n.BLEND_MODES.DIFFERENCE]='difference',e[n.BLEND_MODES.EXCLUSION]='exclusion',e[n.BLEND_MODES.HUE]='hue',e[n.BLEND_MODES.SATURATION]='saturate',e[n.BLEND_MODES.COLOR]='color',e[n.BLEND_MODES.LUMINOSITY]='luminosity'):(e[n.BLEND_MODES.NORMAL]='source-over',e[n.BLEND_MODES.ADD]='lighter',e[n.BLEND_MODES.MULTIPLY]='source-over',e[n.BLEND_MODES.SCREEN]='source-over',e[n.BLEND_MODES.OVERLAY]='source-over',e[n.BLEND_MODES.DARKEN]='source-over',e[n.BLEND_MODES.LIGHTEN]='source-over',e[n.BLEND_MODES.COLOR_DODGE]='source-over',e[n.BLEND_MODES.COLOR_BURN]='source-over',e[n.BLEND_MODES.HARD_LIGHT]='source-over',e[n.BLEND_MODES.SOFT_LIGHT]='source-over',e[n.BLEND_MODES.DIFFERENCE]='source-over',e[n.BLEND_MODES.EXCLUSION]='source-over',e[n.BLEND_MODES.HUE]='source-over',e[n.BLEND_MODES.SATURATION]='source-over',e[n.BLEND_MODES.COLOR]='source-over',e[n.BLEND_MODES.LUMINOSITY]='source-over'),e[n.BLEND_MODES.NORMAL_NPM]=e[n.BLEND_MODES.NORMAL],e[n.BLEND_MODES.ADD_NPM]=e[n.BLEND_MODES.ADD],e[n.BLEND_MODES.SCREEN_NPM]=e[n.BLEND_MODES.SCREEN],e};var n=r(0),a=r(60),o=function(e){return e&&e.__esModule?e:{default:e}}(a)},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Math.min;t.__esModule=!0;var d=r(17),l=n(d),u=r(18),p=n(u),c=r(36),h=n(c),f=r(137),y=n(f),m=r(138),_=n(m),x=r(139),b=n(x),v=r(3),T=n(v),E=r(2),S=r(6),C=n(S),P=r(32),A=n(P),M=0,w=0,O=function(e){function t(r){a(this,t);var n=o(this,e.call(this,r));n.vertSize=5,n.vertByteSize=4*n.vertSize,n.size=T.default.SPRITE_BATCH_SIZE,n.buffers=[];for(var s=1;s<=A.default.nextPow2(n.size);s*=2)n.buffers.push(new b.default(4*s*n.vertByteSize));n.indices=(0,h.default)(n.size),n.shader=null,n.currentIndex=0,n.groups=[];for(var i=0;i<n.size;i++)n.groups[i]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return n.sprites=[],n.vertexBuffers=[],n.vaos=[],n.vaoMax=2,n.vertexCount=0,n.renderer.on('prerender',n.onPrerender,n),n}return i(t,e),t.prototype.onContextChange=function(){var e=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=s(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),T.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,_.default)(this.MAX_TEXTURES,e)),this.shader=(0,y.default)(e,this.MAX_TEXTURES),this.indexBuffer=C.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.renderer.bindVao(null);for(var t=this.shader.attributes,r=0;r<this.vaoMax;r++){var n=this.vertexBuffers[r]=C.default.GLBuffer.createVertexBuffer(e,null,e.STREAM_DRAW),a=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(n,t.aVertexPosition,e.FLOAT,!1,this.vertByteSize,0).addAttribute(n,t.aTextureCoord,e.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(n,t.aColor,e.UNSIGNED_BYTE,!0,this.vertByteSize,12);t.aTextureId&&a.addAttribute(n,t.aTextureId,e.FLOAT,!1,this.vertByteSize,16),this.vaos[r]=a}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=Array(this.MAX_TEXTURES)},t.prototype.onPrerender=function(){this.vertexCount=0},t.prototype.render=function(e){this.currentIndex>=this.size&&this.flush(),e._texture._uvs&&(this.sprites[this.currentIndex++]=e)},t.prototype.flush=function(){if(0!==this.currentIndex){var e=this.renderer.gl,r=this.MAX_TEXTURES,n=A.default.nextPow2(this.currentIndex),a=A.default.log2(n),o=this.buffers[a],d=this.sprites,l=this.groups,u=o.float32View,p=o.uint32View,c=this.boundTextures,h=this.renderer.boundTextures,f=this.renderer.textureGC.count,y=0,m=void 0,_=void 0,x=1,b=0,v=l[0],S=void 0,P=void 0,O=E.premultiplyBlendMode[d[0]._texture.baseTexture.premultipliedAlpha?1:0][d[0].blendMode];v.textureCount=0,v.start=0,v.blend=O,M++;var D;for(D=0;D<r;++D){var i=h[D];if(i._enabled===M){c[D]=this.renderer.emptyTextures[D];continue}c[D]=i,i._virtalBoundId=D,i._enabled=M}for(M++,D=0;D<this.currentIndex;++D){var R=d[D];d[D]=null,m=R._texture.baseTexture;var I=E.premultiplyBlendMode[+m.premultipliedAlpha][R.blendMode];if(O!==I&&(O=I,_=null,b=r,M++),_!==m&&(_=m,m._enabled!==M)){if(b===r&&(M++,v.size=D-v.start,b=0,v=l[x++],v.blend=O,v.textureCount=0,v.start=D),m.touched=f,-1===m._virtalBoundId)for(var k=0;k<r;++k){var L=(k+w)%r,F=c[L];if(F._enabled!==M){w++,F._virtalBoundId=-1,m._virtalBoundId=L,c[L]=m;break}}m._enabled=M,v.textureCount++,v.ids[b]=m._virtalBoundId,v.textures[b++]=m}if(S=R.vertexData,P=R._texture._uvs.uvsUint32,this.renderer.roundPixels){var t=this.renderer.resolution;u[y]=(0|S[0]*t)/t,u[y+1]=(0|S[1]*t)/t,u[y+5]=(0|S[2]*t)/t,u[y+6]=(0|S[3]*t)/t,u[y+10]=(0|S[4]*t)/t,u[y+11]=(0|S[5]*t)/t,u[y+15]=(0|S[6]*t)/t,u[y+16]=(0|S[7]*t)/t}else u[y]=S[0],u[y+1]=S[1],u[y+5]=S[2],u[y+6]=S[3],u[y+10]=S[4],u[y+11]=S[5],u[y+15]=S[6],u[y+16]=S[7];p[y+2]=P[0],p[y+7]=P[1],p[y+12]=P[2],p[y+17]=P[3];var N=s(R.worldAlpha,1),B=1>N&&m.premultipliedAlpha?(0,E.premultiplyTint)(R._tintRGB,N):R._tintRGB+(255*N<<24);p[y+3]=p[y+8]=p[y+13]=p[y+18]=B,u[y+4]=u[y+9]=u[y+14]=u[y+19]=m._virtalBoundId,y+=20}if(v.size=D-v.start,!T.default.CAN_UPLOAD_SAME_BUFFER){if(this.vaoMax<=this.vertexCount){this.vaoMax++;var U=this.shader.attributes,X=this.vertexBuffers[this.vertexCount]=C.default.GLBuffer.createVertexBuffer(e,null,e.STREAM_DRAW),j=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(X,U.aVertexPosition,e.FLOAT,!1,this.vertByteSize,0).addAttribute(X,U.aTextureCoord,e.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(X,U.aColor,e.UNSIGNED_BYTE,!0,this.vertByteSize,12);U.aTextureId&&j.addAttribute(X,U.aTextureId,e.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=j}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(o.vertices,0,!1),this.vertexCount++}else this.vertexBuffers[this.vertexCount].upload(o.vertices,0,!0);for(D=0;D<r;++D)h[D]._virtalBoundId=-1;for(D=0;D<x;++D){for(var G=l[D],H=G.textureCount,W=0;W<H;W++)_=G.textures[W],h[G.ids[W]]!==_&&this.renderer.bindTexture(_,G.ids[W],!0),_._virtalBoundId=-1;this.renderer.state.setBlendMode(G.blend),e.drawElements(e.TRIANGLES,6*G.size,e.UNSIGNED_SHORT,2*(6*G.start))}this.currentIndex=0}},t.prototype.start=function(){this.renderer.bindShader(this.shader),T.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var t=0;t<this.vaoMax;t++)this.vertexBuffers[t]&&this.vertexBuffers[t].destroy(),this.vaos[t]&&this.vaos[t].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off('prerender',this.onPrerender,this),e.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var r=0;r<this.buffers.length;++r)this.buffers[r].destroy()},t}(l.default);t.default=O,p.default.registerPlugin('sprite',O)},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(13),d=n(s),l=r(61),u=n(l),p=function(e){function t(r){a(this,t);var n=o(this,e.call(this,r));return n.scissor=!1,n.scissorData=null,n.scissorRenderTarget=null,n.enableScissor=!0,n.alphaMaskPool=[],n.alphaMaskIndex=0,n}return i(t,e),t.prototype.pushMask=function(e,t){if(t.texture)this.pushSpriteMask(e,t);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&t.isFastRect()){var r=t.worldTransform,n=Math.atan2(r.b,r.a);n=Math.round(n*(180/Math.PI)),n%90?this.pushStencilMask(t):this.pushScissorMask(e,t)}else this.pushStencilMask(t)},t.prototype.popMask=function(e,t){t.texture?this.popSpriteMask(e,t):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(e,t):this.popStencilMask(e,t)},t.prototype.pushSpriteMask=function(e,t){var r=this.alphaMaskPool[this.alphaMaskIndex];r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new u.default(t)]),r[0].resolution=this.renderer.resolution,r[0].maskSprite=t,e.filterArea=t.getBounds(!0),this.renderer.filterManager.pushFilter(e,r),this.alphaMaskIndex++},t.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},t.prototype.pushStencilMask=function(e){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(e)},t.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},t.prototype.pushScissorMask=function(e,t){t.renderable=!0;var r=this.renderer._activeRenderTarget,n=t.getBounds();n.fit(r.size),t.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var a=this.renderer.resolution;this.renderer.gl.scissor(n.x*a,(r.root?r.size.height-n.y-n.height:n.y)*a,n.width*a,n.height*a),this.scissorRenderTarget=r,this.scissorData=t,this.scissor=!0},t.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var e=this.renderer.gl;e.disable(e.SCISSOR_TEST)},t}(d.default);t.default=p},function(e,t,r){'use strict';function n(e){for(var t=/^(projectionMatrix|uSampler|filterArea|filterClamp)$/,r={},n=void 0,a=e.replace(/\s+/g,' ').split(/\s*;\s*/),o=0,s;o<a.length;o++)if(s=a[o].trim(),-1<s.indexOf('uniform')){var d=s.split(' '),l=d[1],u=d[2],p=1;-1<u.indexOf('[')&&(n=u.split(/\[|]/),u=n[0],p*=+n[1]),u.match(t)||(r[u]={value:i(l,p),name:u,type:l})}return r}t.__esModule=!0,t.default=function(e,t,r){var a=n(e,r),o=n(t,r);return Object.assign(a,o)};var a=r(6),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=o.default.shader.defaultValue},function(e){function t(){throw new Error('setTimeout has not been defined')}function r(){throw new Error('clearTimeout has not been defined')}function n(e){if(u===setTimeout)return setTimeout(e,0);if((u===t||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function a(e){if(p===clearTimeout)return clearTimeout(e);if((p===r||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function o(){h&&y&&(h=!1,y.length?c=y.concat(c):f=-1,c.length&&s())}function s(){if(!h){var e=n(o);h=!0;for(var t=c.length;t;){for(y=c,c=[];++f<t;)y&&y[f].run();f=-1,t=c.length}y=null,h=!1,a(e)}}function d(e,t){this.fun=e,this.array=t}function i(){}var l=e.exports={},u,p;(function(){try{u='function'==typeof setTimeout?setTimeout:t}catch(r){u=t}try{p='function'==typeof clearTimeout?clearTimeout:r}catch(t){p=r}})();var c=[],h=!1,f=-1,y;l.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new d(e,t)),1!==c.length||h||n(s)},d.prototype.run=function(){this.fun.apply(null,this.array)},l.title='browser',l.browser=!0,l.env={},l.argv=[],l.version='',l.versions={},l.on=i,l.addListener=i,l.once=i,l.off=i,l.removeListener=i,l.removeAllListeners=i,l.emit=i,l.prependListener=i,l.prependOnceListener=i,l.listeners=function(){return[]},l.binding=function(){throw new Error('process.binding is not supported')},l.cwd=function(){return'/'},l.chdir=function(){throw new Error('process.chdir is not supported')},l.umask=function(){return 0}},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=r(13),s=function(e){return e&&e.__esModule?e:{default:e}}(i),d=function(e){function t(r){n(this,t);var o=a(this,e.call(this,r));return o.stencilMaskStack=null,o}return o(t,e),t.prototype.setMaskStack=function(e){this.stencilMaskStack=e;var t=this.renderer.gl;0===e.length?t.disable(t.STENCIL_TEST):t.enable(t.STENCIL_TEST)},t.prototype.pushStencil=function(e){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var t=this.renderer.gl,r=this.stencilMaskStack.length;0===r&&t.enable(t.STENCIL_TEST),this.stencilMaskStack.push(e),t.colorMask(!1,!1,!1,!1),t.stencilFunc(t.EQUAL,r,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.INCR),this.renderer.plugins.graphics.render(e),this._useCurrent()},t.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var e=this.renderer.gl,t=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),this.renderer.plugins.graphics.render(t),this._useCurrent())},t.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},t.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},t.prototype.destroy=function(){s.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},t}(s.default);t.default=d},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var s=r(13),d=n(s),l=r(19),u=n(l),p=r(64),c=n(p),h=r(4),f=r(14),y=n(f),m=r(130),_=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(m),x=r(32),b=n(x),v=function(){function e(){i(this,e),this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new h.Rectangle,this.destinationFrame=new h.Rectangle,this.filters=[]}return e.prototype.clear=function(){this.filters=null,this.target=null,this.renderTarget=null},e}(),T='screen',E=function(e){function t(r){i(this,t);var n=a(this,e.call(this,r));return n.gl=n.renderer.gl,n.quad=new c.default(n.gl,r.state.attribState),n.shaderCache={},n.pool={},n.filterData=null,n.managedFilters=[],n.renderer.on('prerender',n.onPrerender,n),n._screenWidth=r.view.width,n._screenHeight=r.view.height,n}return o(t,e),t.prototype.pushFilter=function(e,t){var r=this.renderer,n=this.filterData;if(!n){n=this.renderer._activeRenderTarget.filterStack;var a=new v;a.sourceFrame=a.destinationFrame=this.renderer._activeRenderTarget.size,a.renderTarget=r._activeRenderTarget,this.renderer._activeRenderTarget.filterData=n={index:0,stack:[a]},this.filterData=n}var o=n.stack[++n.index],i=n.stack[0].destinationFrame;o||(o=n.stack[n.index]=new v);var s=e.filterArea&&0===e.filterArea.x&&0===e.filterArea.y&&e.filterArea.width===r.screen.width&&e.filterArea.height===r.screen.height,d=t[0].resolution,l=0|t[0].padding,u=s?r.screen:e.filterArea||e.getBounds(!0),p=o.sourceFrame,c=o.destinationFrame;p.x=(0|u.x*d)/d,p.y=(0|u.y*d)/d,p.width=(0|u.width*d)/d,p.height=(0|u.height*d)/d,s||(n.stack[0].renderTarget.transform||t[0].autoFit&&p.fit(i),p.pad(l)),c.width=p.width,c.height=p.height;var h=this.getPotRenderTarget(r.gl,p.width,p.height,d);o.target=e,o.filters=t,o.resolution=d,o.renderTarget=h,h.setFrame(c,p),r.bindRenderTarget(h),h.clear()},t.prototype.popFilter=function(){var e=this.filterData,r=e.stack[e.index-1],n=e.stack[e.index];this.quad.map(n.renderTarget.size,n.sourceFrame).upload();var a=n.filters;if(1===a.length)a[0].apply(this,n.renderTarget,r.renderTarget,!1,n),this.freePotRenderTarget(n.renderTarget);else{var o=n.renderTarget,s=this.getPotRenderTarget(this.renderer.gl,n.sourceFrame.width,n.sourceFrame.height,n.resolution);s.setFrame(n.destinationFrame,n.sourceFrame),s.clear();var d=0;for(d=0;d<a.length-1;++d){a[d].apply(this,o,s,!0,n);var i=o;o=s,s=i}a[d].apply(this,o,r.renderTarget,!1,n),this.freePotRenderTarget(o),this.freePotRenderTarget(s)}n.clear(),e.index--,0===e.index&&(this.filterData=null)},t.prototype.applyFilter=function(e,t,r,n){var a=this.renderer,o=a.gl,i=e.glShaders[a.CONTEXT_UID];i||(e.glShaderKey?(i=this.shaderCache[e.glShaderKey],!i&&(i=new y.default(this.gl,e.vertexSrc,e.fragmentSrc),e.glShaders[a.CONTEXT_UID]=this.shaderCache[e.glShaderKey]=i,this.managedFilters.push(e))):(i=e.glShaders[a.CONTEXT_UID]=new y.default(this.gl,e.vertexSrc,e.fragmentSrc),this.managedFilters.push(e)),a.bindVao(null),this.quad.initVao(i)),a.bindVao(this.quad.vao),a.bindRenderTarget(r),n&&(o.disable(o.SCISSOR_TEST),a.clear(),o.enable(o.SCISSOR_TEST)),r===a.maskManager.scissorRenderTarget&&a.maskManager.pushScissorMask(null,a.maskManager.scissorData),a.bindShader(i);var s=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=s,this.syncUniforms(i,e),a.state.setBlendMode(e.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,t.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,s._glTextures[this.renderer.CONTEXT_UID].texture)},t.prototype.syncUniforms=function(e,t){var r=t.uniformData,n=t.uniforms,a=1,o=void 0;if(e.uniforms.filterArea){o=this.filterData.stack[this.filterData.index];var s=e.uniforms.filterArea;s[0]=o.renderTarget.size.width,s[1]=o.renderTarget.size.height,s[2]=o.sourceFrame.x,s[3]=o.sourceFrame.y,e.uniforms.filterArea=s}if(e.uniforms.filterClamp){o=o||this.filterData.stack[this.filterData.index];var d=e.uniforms.filterClamp;d[0]=0,d[1]=0,d[2]=(o.sourceFrame.width-1)/o.renderTarget.size.width,d[3]=(o.sourceFrame.height-1)/o.renderTarget.size.height,e.uniforms.filterClamp=d}for(var l in r)if(e.uniforms.data[l]){var i=r[l].type;if('sampler2d'===i&&0!==n[l]){if(n[l].baseTexture)e.uniforms[l]=this.renderer.bindTexture(n[l].baseTexture,a);else{e.uniforms[l]=a;var u=this.renderer.gl;this.renderer.boundTextures[a]=this.renderer.emptyTextures[a],u.activeTexture(u.TEXTURE0+a),n[l].texture.bind()}a++}else if('mat3'===i)e.uniforms[l]=void 0===n[l].a?n[l]:n[l].toArray(!0);else if('vec2'!==i)'float'===i?e.uniforms.data[l].value!==r[l]&&(e.uniforms[l]=n[l]):e.uniforms[l]=n[l];else if(void 0!==n[l].x){var p=e.uniforms[l]||new Float32Array(2);p[0]=n[l].x,p[1]=n[l].y,e.uniforms[l]=p}else e.uniforms[l]=n[l]}},t.prototype.getRenderTarget=function(e,t){var r=this.filterData.stack[this.filterData.index],n=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,t||r.resolution);return n.setFrame(r.destinationFrame,r.sourceFrame),n},t.prototype.returnRenderTarget=function(e){this.freePotRenderTarget(e)},t.prototype.calculateScreenSpaceMatrix=function(e){var t=this.filterData.stack[this.filterData.index];return _.calculateScreenSpaceMatrix(e,t.sourceFrame,t.renderTarget.size)},t.prototype.calculateNormalizedScreenSpaceMatrix=function(e){var t=this.filterData.stack[this.filterData.index];return _.calculateNormalizedScreenSpaceMatrix(e,t.sourceFrame,t.renderTarget.size,t.destinationFrame)},t.prototype.calculateSpriteMatrix=function(e,t){var r=this.filterData.stack[this.filterData.index];return _.calculateSpriteMatrix(e,r.sourceFrame,r.renderTarget.size,t)},t.prototype.destroy=function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t=this.renderer,r=this.managedFilters;t.off('prerender',this.onPrerender,this);for(var n=0;n<r.length;n++)e||r[n].glShaders[t.CONTEXT_UID].destroy(),delete r[n].glShaders[t.CONTEXT_UID];this.shaderCache={},e?this.pool={}:this.emptyPool()},t.prototype.getPotRenderTarget=function(e,t,r,n){var a=T;t*=n,r*=n,(t!==this._screenWidth||r!==this._screenHeight)&&(t=b.default.nextPow2(t),r=b.default.nextPow2(r),a=(65535&t)<<16|65535&r),this.pool[a]||(this.pool[a]=[]);var o=this.pool[a].pop();if(!o){var i=this.renderer.boundTextures[0];e.activeTexture(e.TEXTURE0),o=new u.default(e,t,r,null,1),e.bindTexture(e.TEXTURE_2D,i._glTextures[this.renderer.CONTEXT_UID].texture)}return o.resolution=n,o.defaultFrame.width=o.size.width=t/n,o.defaultFrame.height=o.size.height=r/n,o.filterPoolKey=a,o},t.prototype.emptyPool=function(){for(var e in this.pool){var t=this.pool[e];if(t)for(var r=0;r<t.length;r++)t[r].destroy(!0)}this.pool={}},t.prototype.freePotRenderTarget=function(e){this.pool[e.filterPoolKey].push(e)},t.prototype.onPrerender=function(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width,this._screenHeight=this.renderer.view.height;var e=this.pool[T];if(e)for(var t=0;t<e.length;t++)e[t].destroy(!0);this.pool[T]=[]}},t}(d.default);t.default=E},function(e,t,r){'use strict';t.__esModule=!0,t.calculateScreenSpaceMatrix=function(e,t,r){var n=e.identity();return n.translate(t.x/r.width,t.y/r.height),n.scale(r.width,r.height),n},t.calculateNormalizedScreenSpaceMatrix=function(e,t,r){var n=e.identity();n.translate(t.x/r.width,t.y/r.height);var a=r.width/t.width,o=r.height/t.height;return n.scale(a,o),n},t.calculateSpriteMatrix=function(e,t,r,a){var o=a._texture.orig,i=e.set(r.width,0,0,r.height,t.x,t.y),s=a.worldTransform.copy(n.Matrix.TEMP_MATRIX);return s.invert(),i.prepend(s),i.scale(1/o.width,1/o.height),i.translate(a.anchor.x,a.anchor.y),i};var n=r(4)},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=r(6),o=r(0),i=r(19),s=function(e){return e&&e.__esModule?e:{default:e}}(i),d=r(2),l=function(){function e(t){n(this,e),this.renderer=t,this.gl=t.gl,this._managedTextures=[]}return e.prototype.bindTexture=function(){},e.prototype.getTexture=function(){},e.prototype.updateTexture=function(e,t){var r=this.gl,n=!!e._glRenderTargets;if(!e.hasLoaded)return null;var d=this.renderer.boundTextures;if(void 0===t){t=0;for(var l=0;l<d.length;++l)if(d[l]===e){t=l;break}}d[t]=e,r.activeTexture(r.TEXTURE0+t);var i=e._glTextures[this.renderer.CONTEXT_UID];if(!i){if(n){var u=new s.default(this.gl,e.width,e.height,e.scaleMode,e.resolution);u.resize(e.width,e.height),e._glRenderTargets[this.renderer.CONTEXT_UID]=u,i=u.texture,this.renderer._activeRenderTarget.root||this.renderer._activeRenderTarget.frameBuffer.bind()}else i=new a.GLTexture(this.gl,null,null,null,null),i.bind(t),i.premultiplyAlpha=!0,i.upload(e.source);e._glTextures[this.renderer.CONTEXT_UID]=i,e.on('update',this.updateTexture,this),e.on('dispose',this.destroyTexture,this),this._managedTextures.push(e),e.isPowerOfTwo?(e.mipmap&&i.enableMipmap(),e.wrapMode===o.WRAP_MODES.CLAMP?i.enableWrapClamp():e.wrapMode===o.WRAP_MODES.REPEAT?i.enableWrapRepeat():i.enableWrapMirrorRepeat()):i.enableWrapClamp(),e.scaleMode===o.SCALE_MODES.NEAREST?i.enableNearestScaling():i.enableLinearScaling()}else n?e._glRenderTargets[this.renderer.CONTEXT_UID].resize(e.width,e.height):i.upload(e.source);return i},e.prototype.destroyTexture=function(e,t){if(e=e.baseTexture||e,!!e.hasLoaded){var r=this.renderer,n=r.CONTEXT_UID,a=e._glTextures,o=e._glRenderTargets;if(a[n]&&(r.unbindTexture(e),a[n].destroy(),e.off('update',this.updateTexture,this),e.off('dispose',this.destroyTexture,this),delete a[n],!t)){var s=this._managedTextures.indexOf(e);-1!==s&&(0,d.removeItems)(this._managedTextures,s,1)}o&&o[n]&&(r._activeRenderTarget===o[n]&&r.bindRenderTarget(r.rootRenderTarget),o[n].destroy(),delete o[n])}},e.prototype.removeAll=function(){for(var e=0,t;e<this._managedTextures.length;++e)t=this._managedTextures[e],t._glTextures[this.renderer.CONTEXT_UID]&&delete t._glTextures[this.renderer.CONTEXT_UID]},e.prototype.destroy=function(){for(var e=0,t;e<this._managedTextures.length;++e)t=this._managedTextures[e],this.destroyTexture(t,!0),t.off('update',this.updateTexture,this),t.off('dispose',this.destroyTexture,this);this._managedTextures=null},e}();t.default=l},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=r(0),o=r(3),i=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(){function e(t){n(this,e),this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=i.default.GC_MAX_IDLE,this.checkCountMax=i.default.GC_MAX_CHECK_COUNT,this.mode=i.default.GC_MODE}return e.prototype.update=function(){this.count++,this.mode===a.GC_MODES.MANUAL||(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},e.prototype.run=function(){for(var e=this.renderer.textureManager,t=e._managedTextures,r=!1,n=0,a;n<t.length;n++)a=t[n],!a._glRenderTargets&&this.count-a.touched>this.maxIdle&&(e.destroyTexture(a,!0),t[n]=null,r=!0);if(r){for(var o=0,i=0;i<t.length;i++)null!==t[i]&&(t[o++]=t[i]);t.length=o}},e.prototype.unload=function(e){var t=this.renderer.textureManager;e._texture&&e._texture._glRenderTargets&&t.destroyTexture(e._texture,!0);for(var r=e.children.length-1;0<=r;r--)this.unload(e.children[r])},e}();t.default=s},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=r(134),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=0,s=1,d=2,l=3,u=4,p=function(){function e(t){n(this,e),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=t,this.maxAttribs=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:Array(this.maxAttribs),attribState:Array(this.maxAttribs)},this.blendModes=(0,o.default)(t),this.nativeVaoExtension=t.getExtension('OES_vertex_array_object')||t.getExtension('MOZ_OES_vertex_array_object')||t.getExtension('WEBKIT_OES_vertex_array_object')}return e.prototype.push=function(){var e=this.stack[this.stackIndex];e||(e=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var t=0;t<this.activeState.length;t++)e[t]=this.activeState[t]},e.prototype.pop=function(){var e=this.stack[--this.stackIndex];this.setState(e)},e.prototype.setState=function(e){this.setBlend(e[i]),this.setDepthTest(e[s]),this.setFrontFace(e[d]),this.setCullFace(e[l]),this.setBlendMode(e[u])},e.prototype.setBlend=function(e){e=e?1:0,this.activeState[i]===e||(this.activeState[i]=e,this.gl[e?'enable':'disable'](this.gl.BLEND))},e.prototype.setBlendMode=function(e){if(e!==this.activeState[u]){this.activeState[u]=e;var t=this.blendModes[e];2===t.length?this.gl.blendFunc(t[0],t[1]):this.gl.blendFuncSeparate(t[0],t[1],t[2],t[3])}},e.prototype.setDepthTest=function(e){e=e?1:0,this.activeState[s]===e||(this.activeState[s]=e,this.gl[e?'enable':'disable'](this.gl.DEPTH_TEST))},e.prototype.setCullFace=function(e){e=e?1:0,this.activeState[l]===e||(this.activeState[l]=e,this.gl[e?'enable':'disable'](this.gl.CULL_FACE))},e.prototype.setFrontFace=function(e){e=e?1:0,this.activeState[d]===e||(this.activeState[d]=e,this.gl.frontFace(this.gl[e?'CW':'CCW']))},e.prototype.resetAttributes=function(){for(var e=0;e<this.attribState.tempAttribState.length;e++)this.attribState.tempAttribState[e]=0;for(var t=0;t<this.attribState.attribState.length;t++)this.attribState.attribState[t]=0;for(var r=1;r<this.maxAttribs;r++)this.gl.disableVertexAttribArray(r)},e.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var e=0;e<this.activeState.length;++e)this.activeState[e]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},e}();t.default=p},function(e,t,r){'use strict';t.__esModule=!0,t.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return t[n.BLEND_MODES.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.ADD]=[e.ONE,e.DST_ALPHA],t[n.BLEND_MODES.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR],t[n.BLEND_MODES.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.ADD_NPM]=[e.SRC_ALPHA,e.DST_ALPHA,e.ONE,e.DST_ALPHA],t[n.BLEND_MODES.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_COLOR],t};var n=r(0)},function(e,t,r){'use strict';t.__esModule=!0,t.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return t[n.DRAW_MODES.POINTS]=e.POINTS,t[n.DRAW_MODES.LINES]=e.LINES,t[n.DRAW_MODES.LINE_LOOP]=e.LINE_LOOP,t[n.DRAW_MODES.LINE_STRIP]=e.LINE_STRIP,t[n.DRAW_MODES.TRIANGLES]=e.TRIANGLES,t[n.DRAW_MODES.TRIANGLE_STRIP]=e.TRIANGLE_STRIP,t[n.DRAW_MODES.TRIANGLE_FAN]=e.TRIANGLE_FAN,t};var n=r(0)},function(e,t){'use strict';t.__esModule=!0,t.default=function(e){var t=e.getContextAttributes();t.stencil||console.warn('Provided WebGL context does not have a stencil buffer, masks may not render correctly')}},function(e,t,r){'use strict';function n(e){var t='';t+='\n',t+='\n';for(var r=0;r<e;r++)0<r&&(t+='\nelse '),r<e-1&&(t+='if(textureId == '+r+'.0)'),t+='\n{',t+='\n\tcolor = texture2D(uSamplers['+r+'], vTextureCoord);',t+='\n}';return t+='\n',t+='\n',t}t.__esModule=!0,t.default=function(e,t){var r=s;r=r.replace(/%count%/gi,t),r=r.replace(/%forloop%/gi,n(t));for(var a=new o.default(e,'precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n',r),d=[],l=0;l<t;l++)d[l]=l;return a.bind(),a.uniforms.uSamplers=d,a};var a=r(14),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=r(7),s='varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\nvoid main(void){\nvec4 color;\nfloat textureId = floor(vTextureId+0.5);\n%forloop%\ngl_FragColor = color * vColor;\n}'},function(e,t,r){'use strict';function n(e){for(var t='',r=0;r<e;++r)0<r&&(t+='\nelse '),r<e-1&&(t+='if(test == '+r+'.0){}');return t}t.__esModule=!0,t.default=function(e,t){var r=!t;if(0===e)throw new Error('Invalid value of `0` passed to `checkMaxIfStatementsInShader`');if(r){var a=document.createElement('canvas');a.width=1,a.height=1,t=o.default.createContext(a)}for(var s=t.createShader(t.FRAGMENT_SHADER),d;d=i.replace(/%forloop%/gi,n(e)),t.shaderSource(s,d),t.compileShader(s),!t.getShaderParameter(s,t.COMPILE_STATUS);)e=0|e/2;return r&&t.getExtension('WEBGL_lose_context')&&t.getExtension('WEBGL_lose_context').loseContext(),e};var a=r(6),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i='precision mediump float;\nvoid main(void){\nfloat test = 0.1;\n%forloop%\ngl_FragColor = vec4(0.0);\n}'},function(e,t){'use strict';function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=function(){function e(t){r(this,e),this.vertices=new ArrayBuffer(t),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return e.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},e}();t.default=n},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Math.ceil,d=Math.max,l=Math.abs;t.__esModule=!0;var u=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),p=r(31),c=n(p),h=r(8),f=n(h),y=r(4),m=r(2),_=r(0),x=r(3),b=n(x),v=r(65),T=n(v),E=r(66),S=n(E),C=r(141),P=n(C),A={texture:!0,children:!1,baseTexture:!0},M=function(e){function t(r,n,i){a(this,t),i=i||document.createElement('canvas'),i.width=3,i.height=3;var s=f.default.fromCanvas(i,b.default.SCALE_MODE,'text');s.orig=new y.Rectangle,s.trim=new y.Rectangle;var d=o(this,e.call(this,s));return f.default.addToCache(d._texture,d._texture.baseTexture.textureCacheIds[0]),d.canvas=i,d.context=d.canvas.getContext('2d'),d.resolution=b.default.RESOLUTION,d._text=null,d._style=null,d._styleListener=null,d._font='',d.text=r,d.style=n,d.localStyleID=-1,d}return i(t,e),t.prototype.updateText=function(e){var t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),this.dirty||!e){this._font=this._style.toFontString();var r=this.context,n=S.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),a=n.width,o=n.height,l=n.lines,u=n.lineHeight,p=n.lineWidths,c=n.maxLineWidth,h=n.fontProperties;this.canvas.width=s((d(1,a)+2*t.padding)*this.resolution),this.canvas.height=s((d(1,o)+2*t.padding)*this.resolution),r.scale(this.resolution,this.resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.strokeStyle=t.stroke,r.lineWidth=t.strokeThickness,r.textBaseline=t.textBaseline,r.lineJoin=t.lineJoin,r.miterLimit=t.miterLimit;var f=void 0,y=void 0;if(t.dropShadow){r.fillStyle=t.dropShadowColor,r.globalAlpha=t.dropShadowAlpha,r.shadowBlur=t.dropShadowBlur,0<t.dropShadowBlur&&(r.shadowColor=t.dropShadowColor);for(var m=Math.cos(t.dropShadowAngle)*t.dropShadowDistance,_=Math.sin(t.dropShadowAngle)*t.dropShadowDistance,x=0;x<l.length;x++)f=t.strokeThickness/2,y=t.strokeThickness/2+x*u+h.ascent,'right'===t.align?f+=c-p[x]:'center'===t.align&&(f+=(c-p[x])/2),t.fill&&(this.drawLetterSpacing(l[x],f+m+t.padding,y+_+t.padding),t.stroke&&t.strokeThickness&&(r.strokeStyle=t.dropShadowColor,this.drawLetterSpacing(l[x],f+m+t.padding,y+_+t.padding,!0),r.strokeStyle=t.stroke))}r.shadowBlur=0,r.globalAlpha=1,r.fillStyle=this._generateFillStyle(t,l);for(var i=0;i<l.length;i++)f=t.strokeThickness/2,y=t.strokeThickness/2+i*u+h.ascent,'right'===t.align?f+=c-p[i]:'center'===t.align&&(f+=(c-p[i])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(l[i],f+t.padding,y+t.padding,!0),t.fill&&this.drawLetterSpacing(l[i],f+t.padding,y+t.padding);this.updateTexture()}},t.prototype.drawLetterSpacing=function(e,t,r){var n=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3],a=this._style,o=a.letterSpacing;if(0===o)return void(n?this.context.strokeText(e,t,r):this.context.fillText(e,t,r));for(var i=String.prototype.split.call(e,''),s=t,d=0,l='';d<e.length;)l=i[d++],n?this.context.strokeText(l,s,r):this.context.fillText(l,s,r),s+=this.context.measureText(l).width+o},t.prototype.updateTexture=function(){var e=this.canvas;if(this._style.trim){var t=(0,P.default)(e);t.data&&(e.width=t.width,e.height=t.height,this.context.putImageData(t.data,0,0))}var r=this._texture,n=this._style,a=n.trim?0:n.padding,o=r.baseTexture;o.hasLoaded=!0,o.resolution=this.resolution,o.realWidth=e.width,o.realHeight=e.height,o.width=e.width/this.resolution,o.height=e.height/this.resolution,r.trim.width=r._frame.width=e.width/this.resolution,r.trim.height=r._frame.height=e.height/this.resolution,r.trim.x=-a,r.trim.y=-a,r.orig.width=r._frame.width-2*a,r.orig.height=r._frame.height-2*a,this._onTextureUpdate(),o.emit('update',o),this.dirty=!1},t.prototype.renderWebGL=function(t){this.resolution!==t.resolution&&(this.resolution=t.resolution,this.dirty=!0),this.updateText(!0),e.prototype.renderWebGL.call(this,t)},t.prototype._renderCanvas=function(t){this.resolution!==t.resolution&&(this.resolution=t.resolution,this.dirty=!0),this.updateText(!0),e.prototype._renderCanvas.call(this,t)},t.prototype.getLocalBounds=function(t){return this.updateText(!0),e.prototype.getLocalBounds.call(this,t)},t.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._onStyleChange=function(){this.dirty=!0},t.prototype._generateFillStyle=function(e,t){if(!Array.isArray(e.fill))return e.fill;if(navigator.isCocoonJS)return e.fill[0];var r=void 0,n=void 0,a=void 0,o=void 0,s=this.canvas.width/this.resolution,d=this.canvas.height/this.resolution,l=e.fill.slice(),u=e.fillGradientStops.slice();if(!u.length)for(var p=l.length+1,c=1;c<p;++c)u.push(c/p);if(l.unshift(e.fill[0]),u.unshift(0),l.push(e.fill[e.fill.length-1]),u.push(1),e.fillGradientType===_.TEXT_GRADIENT.LINEAR_VERTICAL){r=this.context.createLinearGradient(s/2,0,s/2,d),n=(l.length+1)*t.length,a=0;for(var i=0;i<t.length;i++){a+=1;for(var h=0;h<l.length;h++)o='number'==typeof u[h]?u[h]/t.length+i/t.length:a/n,r.addColorStop(o,l[h]),a++}}else{r=this.context.createLinearGradient(0,d/2,s,d/2),n=l.length+1,a=1;for(var f=0;f<l.length;f++)o='number'==typeof u[f]?u[f]:a/n,r.addColorStop(o,l[f]),a++}return r},t.prototype.destroy=function(t){'boolean'==typeof t&&(t={children:t}),t=Object.assign({},A,t),e.prototype.destroy.call(this,t),this.context=null,this.canvas=null,this._style=null},u(t,[{key:'width',get:function(){return this.updateText(!0),l(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var t=(0,m.sign)(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}},{key:'height',get:function(){return this.updateText(!0),l(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var t=(0,m.sign)(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}},{key:'style',get:function(){return this._style},set:function(e){e=e||{},this._style=e instanceof T.default?e:new T.default(e),this.localStyleID=-1,this.dirty=!0}},{key:'text',get:function(){return this._text},set:function(e){e=(''===e||null===e||void 0===e?' ':e)+'',this._text===e||(this._text=e,this.dirty=!0)}}]),t}(c.default);t.default=M},function(e,t){'use strict';t.__esModule=!0,t.default=function(e){var t=e.width,r=e.height,n=e.getContext('2d'),a=n.getImageData(0,0,t,r),o=a.data,s=o.length,d={top:null,left:null,right:null,bottom:null},l=null,u=void 0,i=void 0,p=void 0;for(u=0;u<s;u+=4)0!==o[u+3]&&(i=u/4%t,p=~~(u/4/t),null===d.top&&(d.top=p),null===d.left?d.left=i:i<d.left&&(d.left=i),null===d.right?d.right=i+1:d.right<i&&(d.right=i+1),null===d.bottom?d.bottom=p:d.bottom<p&&(d.bottom=p));return null!==d.top&&(t=d.right-d.left,r=d.bottom-d.top+1,l=n.getImageData(d.left,d.top,t,r)),{height:r,width:t,data:l}}},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=Math.ceil,s=Math.atan2,l=Math.cos,u=Math.sin,p=Math.abs,f=Math.sqrt;t.__esModule=!0;var c=r(11),h=n(c),y=r(34),m=n(y),_=r(8),x=n(_),b=r(67),v=n(b),T=r(31),E=n(T),S=r(4),C=r(2),P=r(0),A=r(27),M=n(A),w=r(143),O=n(w),D=r(12),R=n(D),I=void 0,k=new S.Matrix,L=new S.Point,F=new Float32Array(4),N=new Float32Array(4),B=function(e){function t(){var r=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];a(this,t);var n=o(this,e.call(this));return n.fillAlpha=1,n.lineWidth=0,n.nativeLines=r,n.lineColor=0,n.lineAlignment=.5,n.graphicsData=[],n.tint=16777215,n._prevTint=16777215,n.blendMode=P.BLEND_MODES.NORMAL,n.currentPath=null,n._webGL={},n.isMask=!1,n.boundsPadding=0,n._localBounds=new M.default,n.dirty=0,n.fastRectDirty=-1,n.clearDirty=0,n.boundsDirty=-1,n.cachedSpriteDirty=!1,n._spriteRect=null,n._fastRect=!1,n._prevRectTint=null,n._prevRectFillColor=null,n}return i(t,e),t.prototype.clone=function(){var e=new t;e.renderable=this.renderable,e.fillAlpha=this.fillAlpha,e.lineWidth=this.lineWidth,e.lineColor=this.lineColor,e.lineAlignment=this.lineAlignment,e.tint=this.tint,e.blendMode=this.blendMode,e.isMask=this.isMask,e.boundsPadding=this.boundsPadding,e.dirty=0,e.cachedSpriteDirty=this.cachedSpriteDirty;for(var r=0;r<this.graphicsData.length;++r)e.graphicsData.push(this.graphicsData[r].clone());return e.currentPath=e.graphicsData[e.graphicsData.length-1],e.updateLocalBounds(),e},t.prototype._quadraticCurveLength=function(e,t,r,n,o,i){var d=e-(2*r+o),l=t-(2*n+i),u=2*((r-2)*e),p=2*((n-2)*t),h=4*(d*d+l*l),a=4*(d*u+l*p),y=u*u+p*p,c=2*f(h+a+y),s=f(h),m=2*h*s,_=2*f(y),x=a/s;return(m*c+s*a*(c-_)+(4*y*h-a*a)*Math.log((2*s+x+c)/(x+_)))/(4*m)},t.prototype._bezierCurveLength=function(e,r,a,o,s,d,l,u){for(var p=10,n=0,c=0,t=0,h=0,m=0,_=0,b=0,v=0,x=0,y=0,T=0,E=e,S=r,C=1;C<=p;++C)c=C/p,t=c*c,h=t*c,m=1-c,_=m*m,b=_*m,v=b*e+3*_*c*a+3*m*t*s+h*l,x=b*r+3*_*c*o+3*m*t*d+h*u,y=E-v,T=S-x,E=v,S=x,n+=f(y*y+T*T);return n},t.prototype._segmentsCount=function(e){var r=d(e/t.CURVES.maxLength);return r<t.CURVES.minSegments?r=t.CURVES.minSegments:r>t.CURVES.maxSegments&&(r=t.CURVES.maxSegments),r},t.prototype.lineStyle=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:.5;if(this.lineWidth=e,this.lineColor=t,this.lineAlpha=r,this.lineAlignment=n,this.currentPath)if(this.currentPath.shape.points.length){var a=new S.Polygon(this.currentPath.shape.points.slice(-2));a.closed=!1,this.drawShape(a)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha,this.currentPath.lineAlignment=this.lineAlignment;return this},t.prototype.moveTo=function(e,t){var r=new S.Polygon([e,t]);return r.closed=!1,this.drawShape(r),this},t.prototype.lineTo=function(e,t){var r=this.currentPath.shape.points,n=r[r.length-2],a=r[r.length-1];return(n!==e||a!==t)&&(r.push(e,t),this.dirty++),this},t.prototype.quadraticCurveTo=function(e,r,a,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var s=this.currentPath.shape.points,d=0,l=0;0===s.length&&this.moveTo(0,0);for(var u=s[s.length-2],p=s[s.length-1],c=t.CURVES.adaptive?this._segmentsCount(this._quadraticCurveLength(u,p,e,r,a,o)):20,n=1,i;n<=c;++n)i=n/c,d=u+(e-u)*i,l=p+(r-p)*i,s.push(d+(e+(a-e)*i-d)*i,l+(r+(o-r)*i-l)*i);return this.dirty++,this},t.prototype.bezierCurveTo=function(e,r,a,o,i,s){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var d=this.currentPath.shape.points,l=d[d.length-2],u=d[d.length-1];d.length-=2;var p=t.CURVES.adaptive?this._segmentsCount(this._bezierCurveLength(l,u,e,r,a,o,i,s)):20;return(0,O.default)(l,u,e,r,a,o,i,s,p,d),this.dirty++,this},t.prototype.arcTo=function(e,t,r,n,a){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(e,t):this.moveTo(e,t);var o=this.currentPath.shape.points,i=o[o.length-2],d=o[o.length-1],l=d-t,u=i-e,c=n-t,h=r-e,y=p(l*h-u*c);if(1e-8>y||0===a)(o[o.length-2]!==e||o[o.length-1]!==t)&&o.push(e,t);else{var m=l*l+u*u,_=c*c+h*h,x=l*c+u*h,b=a*f(m)/y,v=a*f(_)/y,T=b*x/m,E=v*x/_,S=b*h+v*u,C=b*c+v*l,P=s(l*(v+T)-C,u*(v+T)-S),A=s(c*(b+E)-C,h*(b+E)-S);this.arc(S+e,C+t,a,P,A,u*c>h*l)}return this.dirty++,this},t.prototype.arc=function(e,r,n,a,o){var h=!!(5<arguments.length&&void 0!==arguments[5])&&arguments[5];if(a===o)return this;!h&&o<=a?o+=P.PI_2:h&&a<=o&&(a+=P.PI_2);var f=o-a,y=t.CURVES.adaptive?this._segmentsCount(p(f)*n):40*d(p(f)/P.PI_2);if(0==f)return this;var m=e+l(a)*n,_=r+u(a)*n,x=this.currentPath?this.currentPath.shape.points:null;if(x){var b=p(x[x.length-2]-m),v=p(x[x.length-1]-_);.001>b&&.001>v||x.push(m,_)}else this.moveTo(m,_),x=this.currentPath.shape.points;for(var T=f/(2*y),E=l(T),S=u(T),C=y-1,A=0;A<=C;++A){var i=A+C%1/C*A,M=T+a+2*T*i,w=l(M),c=-u(M);x.push((E*w+S*c)*n+e,(E*-c+S*w)*n+r)}return this.dirty++,this},t.prototype.beginFill=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=e,this.fillAlpha=t,this.currentPath&&2>=this.currentPath.shape.points.length&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},t.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},t.prototype.drawRect=function(e,t,r,n){return this.drawShape(new S.Rectangle(e,t,r,n)),this},t.prototype.drawRoundedRect=function(e,t,r,n,a){return this.drawShape(new S.RoundedRectangle(e,t,r,n,a)),this},t.prototype.drawCircle=function(e,t,r){return this.drawShape(new S.Circle(e,t,r)),this},t.prototype.drawEllipse=function(e,t,r,n){return this.drawShape(new S.Ellipse(e,t,r,n)),this},t.prototype.drawPolygon=function(e){var t=e,r=!0;if(t instanceof S.Polygon&&(r=t.closed,t=t.points),!Array.isArray(t)){t=Array(arguments.length);for(var n=0;n<t.length;++n)t[n]=arguments[n]}var a=new S.Polygon(t);return a.closed=r,this.drawShape(a),this},t.prototype.drawStar=function(e,t,n,a,o){var s=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;o=o||a/2;for(var d=-1*Math.PI/2+s,p=2*n,c=P.PI_2/p,h=[],f=0;f<p;f++){var i=f%2?o:a,r=f*c+d;h.push(e+i*l(r),t+i*u(r))}return this.drawPolygon(h)},t.prototype.clear=function(){return(this.lineWidth||this.filling||0<this.graphicsData.length)&&(this.lineWidth=0,this.lineAlignment=.5,this.filling=!1,this.boundsDirty=-1,this.canvasTintDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},t.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===P.SHAPES.RECT&&!this.graphicsData[0].lineWidth},t.prototype._renderWebGL=function(e){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(e):(e.setObjectRenderer(e.plugins.graphics),e.plugins.graphics.render(this))},t.prototype._renderSpriteRect=function(e){var t=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new E.default(new x.default(x.default.WHITE)));var r=this._spriteRect,n=this.graphicsData[0].fillColor;if(16777215===this.tint)r.tint=n;else if(this.tint!==this._prevRectTint||n!==this._prevRectFillColor){var a=F,o=N;(0,C.hex2rgb)(n,a),(0,C.hex2rgb)(this.tint,o),a[0]*=o[0],a[1]*=o[1],a[2]*=o[2],r.tint=(0,C.rgb2hex)(a),this._prevRectTint=this.tint,this._prevRectFillColor=n}r.alpha=this.graphicsData[0].fillAlpha,r.worldAlpha=this.worldAlpha*r.alpha,r.blendMode=this.blendMode,r._texture._frame.width=t.width,r._texture._frame.height=t.height,r.transform.worldTransform=this.transform.worldTransform,r.anchor.set(-t.x/t.width,-t.y/t.height),r._onAnchorUpdate(),r._renderWebGL(e)},t.prototype._renderCanvas=function(e){!0===this.isMask||e.plugins.graphics.render(this)},t.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var e=this._localBounds;this._bounds.addFrame(this.transform,e.minX,e.minY,e.maxX,e.maxY)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,L);for(var t=this.graphicsData,r=0,n;r<t.length;++r)if((n=t[r],!!n.fill)&&n.shape&&n.shape.contains(L.x,L.y)){if(n.holes)for(var a=0,o;a<n.holes.length;a++)if(o=n.holes[a],o.contains(L.x,L.y))return!1;return!0}return!1},t.prototype.updateLocalBounds=function(){var e=Infinity,t=-Infinity,r=Infinity,n=-Infinity;if(this.graphicsData.length)for(var a=0,o=0,s=0,d=0,l=0,u=0;u<this.graphicsData.length;u++){var i=this.graphicsData[u],c=i.type,h=i.lineWidth,y=i.lineAlignment,m=h*y;if(a=i.shape,c===P.SHAPES.RECT||c===P.SHAPES.RREC)o=a.x-m,s=a.y-m,d=a.width+2*m,l=a.height+2*m,e=o<e?o:e,t=o+d>t?o+d:t,r=s<r?s:r,n=s+l>n?s+l:n;else if(c===P.SHAPES.CIRC)o=a.x,s=a.y,d=a.radius+m,l=a.radius+m,e=o-d<e?o-d:e,t=o+d>t?o+d:t,r=s-l<r?s-l:r,n=s+l>n?s+l:n;else if(c===P.SHAPES.ELIP)o=a.x,s=a.y,d=a.width+m,l=a.height+m,e=o-d<e?o-d:e,t=o+d>t?o+d:t,r=s-l<r?s-l:r,n=s+l>n?s+l:n;else for(var _=a.points,x=0,b=0,v=0,T=0,E=0,S=0,C=0,A=0,M=0;M+2<_.length;M+=2)(o=_[M],s=_[M+1],x=_[M+2],b=_[M+3],v=p(x-o),T=p(b-s),l=2*m,d=f(v*v+T*T),!(1e-9>d))&&(E=(l/d*T+v)/2,S=(l/d*v+T)/2,C=(x+o)/2,A=(b+s)/2,e=C-E<e?C-E:e,t=C+E>t?C+E:t,r=A-S<r?A-S:r,n=A+S>n?A+S:n)}else e=0,t=0,r=0,n=0;var w=this.boundsPadding;this._localBounds.minX=e-w,this._localBounds.maxX=t+w,this._localBounds.minY=r-w,this._localBounds.maxY=n+w},t.prototype.drawShape=function(e){this.currentPath&&2>=this.currentPath.shape.points.length&&this.graphicsData.pop(),this.currentPath=null;var t=new v.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,e,this.lineAlignment);return this.graphicsData.push(t),t.type===P.SHAPES.POLY&&(t.shape.closed=t.shape.closed,this.currentPath=t),this.dirty++,t},t.prototype.generateCanvasTexture=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,r=this.getLocalBounds(),n=m.default.create(r.width,r.height,e,t);I||(I=new R.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(k),k.invert(),k.tx-=r.x,k.ty-=r.y,I.render(this,n,!0,k);var a=x.default.fromCanvas(n.baseTexture._canvasRenderTarget.canvas,e,'graphics');return a.baseTexture.resolution=t,a.baseTexture.update(),a},t.prototype.closePath=function(){var e=this.currentPath;return e&&e.shape&&e.shape.close(),this},t.prototype.addHole=function(){var e=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(e.shape),this.currentPath=null,this},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();for(var n in this._webGL)for(var a=0;a<this._webGL[n].data.length;++a)this._webGL[n].data[a].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webGL=null,this._localBounds=null},t}(h.default);t.default=B,B._SPRITE_TEXTURE=null,B.CURVES={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048}},function(e,t){'use strict';t.__esModule=!0,t.default=function(e,t,r,a,o,s,d,l,u){var n=9<arguments.length&&arguments[9]!==void 0?arguments[9]:[],p=0,c=0,h=0,f=0,y=0;n.push(e,t);for(var m=1,i=0;m<=u;++m)i=m/u,p=1-i,c=p*p,h=c*p,f=i*i,y=f*i,n.push(h*e+3*c*i*r+3*p*f*o+y*d,h*t+3*c*i*a+3*p*f*s+y*l);return n}},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(2),d=r(0),l=r(17),u=n(l),p=r(18),c=n(p),h=r(145),f=n(h),y=r(146),m=n(y),_=r(147),x=n(_),b=r(148),v=n(b),T=r(149),E=n(T),S=r(150),C=n(S),P=function(e){function t(r){a(this,t);var n=o(this,e.call(this,r));return n.graphicsDataPool=[],n.primitiveShader=null,n.gl=r.gl,n.CONTEXT_UID=0,n}return i(t,e),t.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new m.default(this.gl)},t.prototype.destroy=function(){u.default.prototype.destroy.call(this);for(var e=0;e<this.graphicsDataPool.length;++e)this.graphicsDataPool[e].destroy();this.graphicsDataPool=null},t.prototype.render=function(e){var t=this.renderer,r=t.gl,a=void 0,o=e._webGL[this.CONTEXT_UID];o&&e.dirty===o.dirty||(this.updateGraphics(e),o=e._webGL[this.CONTEXT_UID]);var d=this.primitiveShader;t.bindShader(d),t.state.setBlendMode(e.blendMode);for(var l=0,i=o.data.length;l<i;l++){a=o.data[l];var n=a.shader;t.bindShader(n),n.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),n.uniforms.tint=(0,s.hex2rgb)(e.tint),n.uniforms.alpha=e.worldAlpha,t.bindVao(a.vao),a.nativeLines?r.drawArrays(r.LINES,0,a.points.length/6):a.vao.draw(r.TRIANGLE_STRIP,a.indices.length)}},t.prototype.updateGraphics=function(e){var t=this.renderer.gl,r=e._webGL[this.CONTEXT_UID];if(r||(r=e._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:t,clearDirty:-1,dirty:-1}),r.dirty=e.dirty,e.clearDirty!==r.clearDirty){r.clearDirty=e.clearDirty;for(var n=0;n<r.data.length;n++)this.graphicsDataPool.push(r.data[n]);r.data.length=0,r.lastIndex=0}for(var a=void 0,o=void 0,i=r.lastIndex,s;i<e.graphicsData.length;i++)s=e.graphicsData[i],a=this.getWebGLData(r,0),s.nativeLines&&s.lineWidth&&(o=this.getWebGLData(r,0,!0),r.lastIndex++),s.type===d.SHAPES.POLY&&(0,x.default)(s,a,o),s.type===d.SHAPES.RECT?(0,v.default)(s,a,o):s.type===d.SHAPES.CIRC||s.type===d.SHAPES.ELIP?(0,C.default)(s,a,o):s.type===d.SHAPES.RREC&&(0,E.default)(s,a,o),r.lastIndex++;this.renderer.bindVao(null);for(var l=0;l<r.data.length;l++)a=r.data[l],a.dirty&&a.upload()},t.prototype.getWebGLData=function(e,t,r){var n=e.data[e.data.length-1];return(!n||n.nativeLines!==r||32e4<n.points.length)&&(n=this.graphicsDataPool.pop()||new f.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState),n.nativeLines=r,n.reset(t),e.data.push(n)),n.dirty=!0,n},t}(u.default);t.default=P,c.default.registerPlugin('graphics',P)},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=r(6),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=function(){function e(t,r,a){n(this,e),this.gl=t,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=o.default.GLBuffer.createVertexBuffer(t),this.indexBuffer=o.default.GLBuffer.createIndexBuffer(t),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=r,this.vao=new o.default.VertexArrayObject(t,a).addIndex(this.indexBuffer).addAttribute(this.buffer,r.attributes.aVertexPosition,t.FLOAT,!1,24,0).addAttribute(this.buffer,r.attributes.aColor,t.FLOAT,!1,24,8)}return e.prototype.reset=function(){this.points.length=0,this.indices.length=0},e.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},e.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},e}();t.default=i},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=r(14),s=function(e){return e&&e.__esModule?e:{default:e}}(i),d=function(e){function t(r){return n(this,t),a(this,e.call(this,r,'attribute vec2 aVertexPosition;\nattribute vec4 aColor;\nuniform mat3 translationMatrix;\nuniform mat3 projectionMatrix;\nuniform float alpha;\nuniform vec3 tint;\nvarying vec4 vColor;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vColor = aColor * vec4(tint * alpha, alpha);\n}','varying vec4 vColor;\nvoid main(void){\n   gl_FragColor = vColor;\n}'))}return o(t,e),t}(s.default);t.default=d},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=function(e,t,n){e.points=e.shape.points.slice();var a=e.points;if(e.fill&&6<=a.length){for(var l=[],u=e.holes,p=0,i;p<u.length;p++)i=u[p],l.push(a.length/2),a=a.concat(i.points);var c=t.points,h=t.indices,f=a.length/2,y=(0,s.hex2rgb)(e.fillColor),m=e.fillAlpha,_=y[0]*m,r=y[1]*m,x=y[2]*m,b=(0,d.default)(a,l,2);if(!b)return;for(var v=c.length/6,T=0;T<b.length;T+=3)h.push(b[T]+v),h.push(b[T]+v),h.push(b[T+1]+v),h.push(b[T+2]+v),h.push(b[T+2]+v);for(var E=0;E<f;E++)c.push(a[2*E],a[2*E+1],_,r,x,m)}0<e.lineWidth&&(0,o.default)(e,t,n)};var a=r(20),o=n(a),s=r(2),i=r(30),d=n(i)},function(e,t,r){'use strict';t.__esModule=!0,t.default=function(e,t,n){var i=e.shape,s=i.x,d=i.y,l=i.width,u=i.height;if(e.fill){var p=(0,o.hex2rgb)(e.fillColor),c=e.fillAlpha,h=p[0]*c,r=p[1]*c,f=p[2]*c,y=t.points,m=t.indices,_=y.length/6;y.push(s,d),y.push(h,r,f,c),y.push(s+l,d),y.push(h,r,f,c),y.push(s,d+u),y.push(h,r,f,c),y.push(s+l,d+u),y.push(h,r,f,c),m.push(_,_,_+1,_+2,_+3,_+3)}if(e.lineWidth){var x=e.points;e.points=[s,d,s+l,d,s+l,d+u,s,d+u,s,d],(0,a.default)(e,t,n),e.points=x}};var n=r(20),a=function(e){return e&&e.__esModule?e:{default:e}}(n),o=r(2)},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r){return e+(t-e)*r}function o(e,t,r,o,s,d){for(var l=6<arguments.length&&arguments[6]!==void 0?arguments[6]:[],u=20,n=l,p=0,c=0,h=0,f=0,m=0,_=0,y=0,i=0;y<=u;++y)i=y/u,p=a(e,r,i),c=a(t,o,i),h=a(r,s,i),f=a(o,d,i),m=a(p,h,i),_=a(c,f,i),n.push(m,_);return n}t.__esModule=!0,t.default=function(e,t,n){var a=e.shape,d=a.x,p=a.y,c=a.width,h=a.height,f=a.radius,y=[];if(y.push(d+f,p),o(d+c-f,p,d+c,p,d+c,p+f,y),o(d+c,p+h-f,d+c,p+h,d+c-f,p+h,y),o(d+f,p+h,d,p+h,d,p+h-f,y),o(d,p+f,d,p,d+f+1e-10,p,y),e.fill){for(var m=(0,u.hex2rgb)(e.fillColor),_=e.fillAlpha,x=m[0]*_,r=m[1]*_,v=m[2]*_,b=t.points,T=t.indices,E=b.length/6,S=(0,s.default)(y,null,2),C=0,i=S.length;C<i;C+=3)T.push(S[C]+E),T.push(S[C]+E),T.push(S[C+1]+E),T.push(S[C+2]+E),T.push(S[C+2]+E);for(var P=0,A=y.length;P<A;P++)b.push(y[P],y[++P],x,r,v,_)}if(e.lineWidth){var M=e.points;e.points=y,(0,l.default)(e,t,n),e.points=M}};var i=r(30),s=n(i),d=r(20),l=n(d),u=r(2)},function(e,t,r){'use strict';var n=Math.floor,a=Math.cos,o=Math.sin,s=Math.sqrt;t.__esModule=!0,t.default=function(e,t,p){var c=e.shape,h=c.x,f=c.y,y=void 0,m=void 0;if(e.type===l.SHAPES.CIRC?(y=c.radius,m=c.radius):(y=c.width,m=c.height),0!==y&&0!==m){var _=n(30*s(c.radius))||n(15*s(c.width+c.height)),x=2*Math.PI/_;if(e.fill){var v=(0,u.hex2rgb)(e.fillColor),T=e.fillAlpha,E=v[0]*T,r=v[1]*T,S=v[2]*T,b=t.points,C=t.indices,P=b.length/6;C.push(P);for(var A=0;A<_+1;A++)b.push(h,f,E,r,S,T),b.push(h+o(x*A)*y,f+a(x*A)*m,E,r,S,T),C.push(P++,P++);C.push(P-1)}if(e.lineWidth){var i=e.points;e.points=[];for(var M=0;M<_;M++)e.points.push(h+o(x*-M)*y,f+a(x*-M)*m);e.points.push(e.points[0],e.points[1]),(0,d.default)(e,t,p),e.points=i}}};var i=r(20),d=function(e){return e&&e.__esModule?e:{default:e}}(i),l=r(0),u=r(2)},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=r(12),o=function(e){return e&&e.__esModule?e:{default:e}}(a),s=r(0),i=function(){function e(t){n(this,e),this.renderer=t}return e.prototype.render=function(e){var t=this.renderer,r=t.context,n=e.worldAlpha,a=e.transform.worldTransform,o=t.resolution;r.setTransform(a.a*o,a.b*o,a.c*o,a.d*o,a.tx*o,a.ty*o),(e.canvasTintDirty!==e.dirty||e._prevTint!==e.tint)&&this.updateGraphicsTint(e),t.setBlendMode(e.blendMode);for(var d=0;d<e.graphicsData.length;d++){var i=e.graphicsData[d],l=i.shape,u=i._fillTint,p=i._lineTint;if(r.lineWidth=i.lineWidth,i.type===s.SHAPES.POLY){r.beginPath();var c=l.points,f=i.holes,m=void 0,_=void 0;r.moveTo(c[0],c[1]);for(var b=2;b<c.length;b+=2)r.lineTo(c[b],c[b+1]);if(l.closed&&r.closePath(),0<f.length){m=0;for(var v=0;v<c.length;v+=2)m+=c[v]*c[v+3]-c[v+1]*c[v+2];for(var T=0;T<f.length;T++){c=f[T].points,_=0;for(var E=0;E<c.length;E+=2)_+=c[E]*c[E+3]-c[E+1]*c[E+2];if(r.moveTo(c[0],c[1]),0>_*m)for(var S=2;S<c.length;S+=2)r.lineTo(c[S],c[S+1]);else for(var C=c.length-2;2<=C;C-=2)r.lineTo(c[C],c[C+1]);f[T].closed&&r.closePath()}}i.fill&&(r.globalAlpha=i.fillAlpha*n,r.fillStyle='#'+('00000'+(0|u).toString(16)).substr(-6),r.fill()),i.lineWidth&&(r.globalAlpha=i.lineAlpha*n,r.strokeStyle='#'+('00000'+(0|p).toString(16)).substr(-6),r.stroke())}else if(i.type===s.SHAPES.RECT)(i.fillColor||0===i.fillColor)&&(r.globalAlpha=i.fillAlpha*n,r.fillStyle='#'+('00000'+(0|u).toString(16)).substr(-6),r.fillRect(l.x,l.y,l.width,l.height)),i.lineWidth&&(r.globalAlpha=i.lineAlpha*n,r.strokeStyle='#'+('00000'+(0|p).toString(16)).substr(-6),r.strokeRect(l.x,l.y,l.width,l.height));else if(i.type===s.SHAPES.CIRC)r.beginPath(),r.arc(l.x,l.y,l.radius,0,2*Math.PI),r.closePath(),i.fill&&(r.globalAlpha=i.fillAlpha*n,r.fillStyle='#'+('00000'+(0|u).toString(16)).substr(-6),r.fill()),i.lineWidth&&(r.globalAlpha=i.lineAlpha*n,r.strokeStyle='#'+('00000'+(0|p).toString(16)).substr(-6),r.stroke());else if(i.type===s.SHAPES.ELIP){var P=2*l.width,A=2*l.height,h=l.x-P/2,x=l.y-A/2;r.beginPath();var y=.5522848,M=P/2*y,w=A/2*y,O=h+P,D=x+A,R=h+P/2,I=x+A/2;r.moveTo(h,I),r.bezierCurveTo(h,I-w,R-M,x,R,x),r.bezierCurveTo(R+M,x,O,I-w,O,I),r.bezierCurveTo(O,I+w,R+M,D,R,D),r.bezierCurveTo(R-M,D,h,I+w,h,I),r.closePath(),i.fill&&(r.globalAlpha=i.fillAlpha*n,r.fillStyle='#'+('00000'+(0|u).toString(16)).substr(-6),r.fill()),i.lineWidth&&(r.globalAlpha=i.lineAlpha*n,r.strokeStyle='#'+('00000'+(0|p).toString(16)).substr(-6),r.stroke())}else if(i.type===s.SHAPES.RREC){var k=l.x,L=l.y,F=l.width,N=l.height,B=l.radius,U=0|Math.min(F,N)/2;B=B>U?U:B,r.beginPath(),r.moveTo(k,L+B),r.lineTo(k,L+N-B),r.quadraticCurveTo(k,L+N,k+B,L+N),r.lineTo(k+F-B,L+N),r.quadraticCurveTo(k+F,L+N,k+F,L+N-B),r.lineTo(k+F,L+B),r.quadraticCurveTo(k+F,L,k+F-B,L),r.lineTo(k+B,L),r.quadraticCurveTo(k,L,k,L+B),r.closePath(),(i.fillColor||0===i.fillColor)&&(r.globalAlpha=i.fillAlpha*n,r.fillStyle='#'+('00000'+(0|u).toString(16)).substr(-6),r.fill()),i.lineWidth&&(r.globalAlpha=i.lineAlpha*n,r.strokeStyle='#'+('00000'+(0|p).toString(16)).substr(-6),r.stroke())}}},e.prototype.updateGraphicsTint=function(e){e._prevTint=e.tint,e.canvasTintDirty=e.dirty;for(var t=(255&e.tint>>16)/255,r=(255&e.tint>>8)/255,n=(255&e.tint)/255,a=0;a<e.graphicsData.length;++a){var o=e.graphicsData[a],i=0|o.fillColor,s=0|o.lineColor;o._fillTint=(255*((255&i>>16)/255*t)<<16)+(255*((255&i>>8)/255*r)<<8)+255*((255&i)/255*n),o._lineTint=(255*((255&s>>16)/255*t)<<16)+(255*((255&s>>8)/255*r)<<8)+255*((255&s)/255*n)}},e.prototype.renderPolygon=function(e,t,r){r.moveTo(e[0],e[1]);for(var n=1;n<e.length/2;++n)r.lineTo(e[2*n],e[2*n+1]);t&&r.closePath()},e.prototype.destroy=function(){this.renderer=null},e}();t.default=i,o.default.registerPlugin('graphics',i)},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var a=Math.floor;t.__esModule=!0;var o=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(1),i=r(2),d=function(){function e(t,r){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;n(this,e),this.baseTexture=t,this.textures={},this.animations={},this.data=r,this.resolution=this._updateResolution(a||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return o(e,null,[{key:'BATCH_SIZE',get:function(){return 1e3}}]),e.prototype._updateResolution=function(e){var t=this.data.meta.scale,r=(0,i.getResolutionOfUrl)(e,null);return null===r&&(r=void 0===t?1:parseFloat(t)),1!==r&&(this.baseTexture.resolution=r,this.baseTexture.update()),r},e.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=e.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},e.prototype._processFrames=function(t){for(var r=t,n=e.BATCH_SIZE,o=this.baseTexture.sourceScale;r-t<n&&r<this._frameKeys.length;){var d=this._frameKeys[r],i=this._frames[d],l=i.frame;if(l){var u=null,p=null,c=!1!==i.trimmed&&i.sourceSize?i.sourceSize:i.frame,h=new s.Rectangle(0,0,a(c.w*o)/this.resolution,a(c.h*o)/this.resolution);u=i.rotated?new s.Rectangle(a(l.x*o)/this.resolution,a(l.y*o)/this.resolution,a(l.h*o)/this.resolution,a(l.w*o)/this.resolution):new s.Rectangle(a(l.x*o)/this.resolution,a(l.y*o)/this.resolution,a(l.w*o)/this.resolution,a(l.h*o)/this.resolution),!1!==i.trimmed&&i.spriteSourceSize&&(p=new s.Rectangle(a(i.spriteSourceSize.x*o)/this.resolution,a(i.spriteSourceSize.y*o)/this.resolution,a(l.w*o)/this.resolution,a(l.h*o)/this.resolution)),this.textures[d]=new s.Texture(this.baseTexture,u,h,p,i.rotated?2:0,i.anchor),s.Texture.addToCache(this.textures[d],d)}r++}},e.prototype._processAnimations=function(){var e=this.data.animations||{};for(var t in e){this.animations[t]=[];for(var r=e[t],n=Array.isArray(r),a=0,r=n?r:r[Symbol.iterator]();;){var o;if(n){if(a>=r.length)break;o=r[a++]}else{if(a=r.next(),a.done)break;o=a.value}var i=o;this.animations[t].push(this.textures[i])}}},e.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},e.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*e.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},e.prototype.destroy=function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];for(var t in this.textures)this.textures[t].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&this.baseTexture.destroy(),this.baseTexture=null},e}();t.default=d},function(e,t){'use strict';function r(e){if(!n[e]){var t=new Error().stack;'undefined'==typeof t?console.warn('Deprecation Warning: ',e):(t=t.split('\n').splice(3).join('\n'),console.groupCollapsed?(console.groupCollapsed('%cDeprecation Warning: %c%s','color:#614108;background:#fffbe6','font-weight:normal;color:#614108;background:#fffbe6',e),console.warn(t),console.groupEnd()):(console.warn('Deprecation Warning: ',e),console.warn(t))),n[e]=!0}}t.__esModule=!0,t.default=function(e){var t=e.mesh,n=e.particles,a=e.extras,o=e.filters,s=e.prepare,d=e.loaders,l=e.interaction;Object.defineProperties(e,{SpriteBatch:{get:function(){throw new ReferenceError('SpriteBatch does not exist any more, please use the new ParticleContainer instead.')}},AssetLoader:{get:function(){throw new ReferenceError('The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.')}},Stage:{get:function(){return r('You do not need to use a PIXI Stage any more, you can simply render any container.'),e.Container}},DisplayObjectContainer:{get:function(){return r('DisplayObjectContainer has been shortened to Container, please use Container from now on.'),e.Container}},Strip:{get:function(){return r('The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on.'),t.Mesh}},Rope:{get:function(){return r('The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on.'),t.Rope}},ParticleContainer:{get:function(){return r('The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on.'),n.ParticleContainer}},MovieClip:{get:function(){return r('The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite.'),a.AnimatedSprite}},TilingSprite:{get:function(){return r('The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on.'),a.TilingSprite}},BitmapText:{get:function(){return r('The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on.'),a.BitmapText}},blendModes:{get:function(){return r('The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on.'),e.BLEND_MODES}},scaleModes:{get:function(){return r('The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on.'),e.SCALE_MODES}},BaseTextureCache:{get:function(){return r('The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on.'),e.utils.BaseTextureCache}},TextureCache:{get:function(){return r('The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on.'),e.utils.TextureCache}},math:{get:function(){return r('The math namespace is deprecated, please access members already accessible on PIXI.'),e}},AbstractFilter:{get:function(){return r('AstractFilter has been renamed to Filter, please use PIXI.Filter'),e.Filter}},TransformManual:{get:function(){return r('TransformManual has been renamed to TransformBase, please update your pixi-spine'),e.TransformBase}},TARGET_FPMS:{get:function(){return r('PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS'),e.settings.TARGET_FPMS},set:function(t){r('PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS'),e.settings.TARGET_FPMS=t}},FILTER_RESOLUTION:{get:function(){return r('PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION'),e.settings.FILTER_RESOLUTION},set:function(t){r('PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION'),e.settings.FILTER_RESOLUTION=t}},RESOLUTION:{get:function(){return r('PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION'),e.settings.RESOLUTION},set:function(t){r('PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION'),e.settings.RESOLUTION=t}},MIPMAP_TEXTURES:{get:function(){return r('PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES'),e.settings.MIPMAP_TEXTURES},set:function(t){r('PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES'),e.settings.MIPMAP_TEXTURES=t}},SPRITE_BATCH_SIZE:{get:function(){return r('PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE'),e.settings.SPRITE_BATCH_SIZE},set:function(t){r('PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE'),e.settings.SPRITE_BATCH_SIZE=t}},SPRITE_MAX_TEXTURES:{get:function(){return r('PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES'),e.settings.SPRITE_MAX_TEXTURES},set:function(t){r('PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES'),e.settings.SPRITE_MAX_TEXTURES=t}},RETINA_PREFIX:{get:function(){return r('PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX'),e.settings.RETINA_PREFIX},set:function(t){r('PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX'),e.settings.RETINA_PREFIX=t}},DEFAULT_RENDER_OPTIONS:{get:function(){return r('PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS'),e.settings.RENDER_OPTIONS}}});for(var u=[{parent:'TRANSFORM_MODE',target:'TRANSFORM_MODE'},{parent:'GC_MODES',target:'GC_MODE'},{parent:'WRAP_MODES',target:'WRAP_MODE'},{parent:'SCALE_MODES',target:'SCALE_MODE'},{parent:'PRECISION',target:'PRECISION_FRAGMENT'}],p=function(t){var n=u[t];Object.defineProperty(e[n.parent],'DEFAULT',{get:function(){return r('PIXI.'+n.parent+'.DEFAULT has been deprecated, '+('please use PIXI.settings.'+n.target)),e.settings[n.target]},set:function(t){r('PIXI.'+n.parent+'.DEFAULT has been deprecated, '+('please use PIXI.settings.'+n.target)),e.settings[n.target]=t}})},c=0;c<u.length;c++)p(c);Object.defineProperties(e.settings,{PRECISION:{get:function(){return r('PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT'),e.settings.PRECISION_FRAGMENT},set:function(t){r('PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT'),e.settings.PRECISION_FRAGMENT=t}}}),a.AnimatedSprite&&Object.defineProperties(a,{MovieClip:{get:function(){return r('The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on.'),a.AnimatedSprite}}}),a&&Object.defineProperties(a,{TextureTransform:{get:function(){return r('The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on.'),e.TextureMatrix}}}),e.DisplayObject.prototype.generateTexture=function(e,t,n){return r('generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)'),e.generateTexture(this,t,n)},e.Graphics.prototype.generateTexture=function(e,t){return r('graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture'),this.generateCanvasTexture(e,t)},e.GroupD8.isSwapWidthHeight=function(t){return r('GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical'),e.GroupD8.isVertical(t)},e.RenderTexture.prototype.render=function(e,t,n,a){this.legacyRenderer.render(e,this,n,t,!a),r('RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)')},e.RenderTexture.prototype.getImage=function(e){return r('RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)'),this.legacyRenderer.extract.image(e)},e.RenderTexture.prototype.getBase64=function(e){return r('RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)'),this.legacyRenderer.extract.base64(e)},e.RenderTexture.prototype.getCanvas=function(e){return r('RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)'),this.legacyRenderer.extract.canvas(e)},e.RenderTexture.prototype.getPixels=function(e){return r('RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)'),this.legacyRenderer.pixels(e)},e.Sprite.prototype.setTexture=function(e){this.texture=e,r('setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;')},a.BitmapText&&(a.BitmapText.prototype.setText=function(e){this.text=e,r('setText is now deprecated, please use the text property, e.g : myBitmapText.text = \'my text\';')}),e.Text.prototype.setText=function(e){this.text=e,r('setText is now deprecated, please use the text property, e.g : myText.text = \'my text\';')},e.Text.calculateFontProperties=function(t){return r('Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont'),e.TextMetrics.measureFont(t)},Object.defineProperties(e.Text,{fontPropertiesCache:{get:function(){return r('Text.fontPropertiesCache is deprecated'),e.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return r('Text.fontPropertiesCanvas is deprecated'),e.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return r('Text.fontPropertiesContext is deprecated'),e.TextMetrics._context}}}),e.Text.prototype.setStyle=function(e){this.style=e,r('setStyle is now deprecated, please use the style property, e.g : myText.style = style;')},e.Text.prototype.determineFontProperties=function(t){return r('determineFontProperties is now deprecated, please use TextMetrics.measureFont method'),e.TextMetrics.measureFont(t)},e.Text.getFontStyle=function(t){return r('getFontStyle is now deprecated, please use TextStyle.toFontString() instead'),t=t||{},t instanceof e.TextStyle||(t=new e.TextStyle(t)),t.toFontString()},Object.defineProperties(e.TextStyle.prototype,{font:{get:function(){r('text style property \'font\' is now deprecated, please use the \'fontFamily\', \'fontSize\', \'fontStyle\', \'fontVariant\' and \'fontWeight\' properties from now on');var e='number'==typeof this._fontSize?this._fontSize+'px':this._fontSize;return this._fontStyle+' '+this._fontVariant+' '+this._fontWeight+' '+e+' '+this._fontFamily},set:function(e){r('text style property \'font\' is now deprecated, please use the \'fontFamily\',\'fontSize\',fontStyle\',\'fontVariant\' and \'fontWeight\' properties from now on'),this._fontStyle=1<e.indexOf('italic')?'italic':-1<e.indexOf('oblique')?'oblique':'normal',this._fontVariant=-1<e.indexOf('small-caps')?'small-caps':'normal';var t=e.split(' '),n=-1;this._fontSize=26;for(var a=0;a<t.length;++a)if(t[a].match(/(px|pt|em|%)/)){n=a,this._fontSize=t[a];break}this._fontWeight='normal';for(var o=0;o<n;++o)if(t[o].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=t[o];break}if(-1<n&&n<t.length-1){this._fontFamily='';for(var i=n+1;i<t.length;++i)this._fontFamily+=t[i]+' ';this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily='Arial';this.styleID++}}}),e.Texture.prototype.setFrame=function(e){this.frame=e,r('setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;')},e.Texture.addTextureToCache=function(t,n){e.Texture.addToCache(t,n),r('Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.')},e.Texture.removeTextureFromCache=function(t){return r('Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache'),e.BaseTexture.removeFromCache(t),e.Texture.removeFromCache(t)},Object.defineProperties(o,{AbstractFilter:{get:function(){return r('AstractFilter has been renamed to Filter, please use PIXI.Filter'),e.AbstractFilter}},SpriteMaskFilter:{get:function(){return r('filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on.'),e.SpriteMaskFilter}},VoidFilter:{get:function(){return r('VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter'),o.AlphaFilter}}}),e.utils.uuid=function(){return r('utils.uuid() is deprecated, please use utils.uid() from now on.'),e.utils.uid()},e.utils.canUseNewCanvasBlendModes=function(){return r('utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on'),e.CanvasTinter.canUseMultiply};var i=!0;if(Object.defineProperty(e.utils,'_saidHello',{set:function(e){e&&(r('PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()'),this.skipHello()),i=e},get:function(){return i}}),s.BasePrepare&&(s.BasePrepare.prototype.register=function(e,t){return r('renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook'),e&&this.registerFindHook(e),t&&this.registerUploadHook(t),this}),s.canvas&&Object.defineProperty(s.canvas,'UPLOADS_PER_FRAME',{set:function(){r('PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer')},get:function(){return r('PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter'),NaN}}),s.webgl&&Object.defineProperty(s.webgl,'UPLOADS_PER_FRAME',{set:function(){r('PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer')},get:function(){return r('PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter'),NaN}}),d.Loader){var h=d.Resource,f=d.Loader;Object.defineProperties(h.prototype,{isJson:{get:function(){return r('The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`.'),this.type===h.TYPE.JSON}},isXml:{get:function(){return r('The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`.'),this.type===h.TYPE.XML}},isImage:{get:function(){return r('The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`.'),this.type===h.TYPE.IMAGE}},isAudio:{get:function(){return r('The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`.'),this.type===h.TYPE.AUDIO}},isVideo:{get:function(){return r('The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`.'),this.type===h.TYPE.VIDEO}}}),Object.defineProperties(f.prototype,{before:{get:function(){return r('The before() method is deprecated, please use pre().'),this.pre}},after:{get:function(){return r('The after() method is deprecated, please use use().'),this.use}}})}l.interactiveTarget&&Object.defineProperty(l.interactiveTarget,'defaultCursor',{set:function(e){r('Property defaultCursor has been replaced with \'cursor\'. '),this.cursor=e},get:function(){return r('Property defaultCursor has been replaced with \'cursor\'. '),this.cursor}}),l.InteractionManager&&(Object.defineProperty(l.InteractionManager,'defaultCursorStyle',{set:function(e){r('Property defaultCursorStyle has been replaced with \'cursorStyles.default\'. '),this.cursorStyles.default=e},get:function(){return r('Property defaultCursorStyle has been replaced with \'cursorStyles.default\'. '),this.cursorStyles.default}}),Object.defineProperty(l.InteractionManager,'currentCursorStyle',{set:function(e){r('Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently.'),this.currentCursorMode=e},get:function(){return r('Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently.'),this.currentCursorMode}}))};var n={}},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=r(70);Object.defineProperty(t,'accessibleTarget',{enumerable:!0,get:function(){return n(a).default}});var o=r(155);Object.defineProperty(t,'AccessibilityManager',{enumerable:!0,get:function(){return n(o).default}})},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var o=r(1),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(o),i=r(28),d=n(i),l=r(70),u=n(l);s.utils.mixins.delayMixin(s.DisplayObject.prototype,u.default);var p=100,c=2,h=1,f=function(){function e(t){a(this,e),(d.default.tablet||d.default.phone)&&!navigator.isCocoonJS&&this.createTouchHook();var r=document.createElement('div');r.style.width=p+'px',r.style.height=p+'px',r.style.position='absolute',r.style.top=0+'px',r.style.left=0+'px',r.style.zIndex=c,this.div=r,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener('keydown',this._onKeyDown,!1)}return e.prototype.createTouchHook=function(){var e=this,t=document.createElement('button');t.style.width=h+'px',t.style.height=h+'px',t.style.position='absolute',t.style.top=-1e3+'px',t.style.left=-1e3+'px',t.style.zIndex=2,t.style.backgroundColor='#FF0000',t.title='HOOK DIV',t.addEventListener('focus',function(){e.isMobileAccessabillity=!0,e.activate(),document.body.removeChild(t)}),document.body.appendChild(t)},e.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener('mousemove',this._onMouseMove,!0),window.removeEventListener('keydown',this._onKeyDown,!1),this.renderer.on('postrender',this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},e.prototype.deactivate=function(){!this.isActive||this.isMobileAccessabillity||(this.isActive=!1,window.document.removeEventListener('mousemove',this._onMouseMove,!0),window.addEventListener('keydown',this._onKeyDown,!1),this.renderer.off('postrender',this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},e.prototype.updateAccessibleObjects=function(e){if(e.visible){e.accessible&&e.interactive&&(!e._accessibleActive&&this.addChild(e),e.renderId=this.renderId);for(var t=e.children,r=0;r<t.length;r++)this.updateAccessibleObjects(t[r])}},e.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),t=e.width/this.renderer.width,r=e.height/this.renderer.height,n=this.div;n.style.left=e.left+'px',n.style.top=e.top+'px',n.style.width=this.renderer.width+'px',n.style.height=this.renderer.height+'px';for(var a=0,o;a<this.children.length;a++)if(o=this.children[a],o.renderId!==this.renderId)o._accessibleActive=!1,s.utils.removeItems(this.children,a,1),this.div.removeChild(o._accessibleDiv),this.pool.push(o._accessibleDiv),o._accessibleDiv=null,a--,0===this.children.length&&this.deactivate();else{n=o._accessibleDiv;var i=o.hitArea,d=o.worldTransform;o.hitArea?(n.style.left=(d.tx+i.x*d.a)*t+'px',n.style.top=(d.ty+i.y*d.d)*r+'px',n.style.width=i.width*d.a*t+'px',n.style.height=i.height*d.d*r+'px'):(i=o.getBounds(),this.capHitArea(i),n.style.left=i.x*t+'px',n.style.top=i.y*r+'px',n.style.width=i.width*t+'px',n.style.height=i.height*r+'px',n.title!==o.accessibleTitle&&null!==o.accessibleTitle&&(n.title=o.accessibleTitle),n.getAttribute('aria-label')!==o.accessibleHint&&null!==o.accessibleHint&&n.setAttribute('aria-label',o.accessibleHint))}this.renderId++}},e.prototype.capHitArea=function(e){0>e.x&&(e.width+=e.x,e.x=0),0>e.y&&(e.height+=e.y,e.y=0),e.x+e.width>this.renderer.width&&(e.width=this.renderer.width-e.x),e.y+e.height>this.renderer.height&&(e.height=this.renderer.height-e.y)},e.prototype.addChild=function(e){var t=this.pool.pop();t||(t=document.createElement('button'),t.style.width=p+'px',t.style.height=p+'px',t.style.backgroundColor=this.debug?'rgba(255,0,0,0.5)':'transparent',t.style.position='absolute',t.style.zIndex=c,t.style.borderStyle='none',-1<navigator.userAgent.toLowerCase().indexOf('chrome')?t.setAttribute('aria-live','off'):t.setAttribute('aria-live','polite'),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute('aria-relevant','additions'):t.setAttribute('aria-relevant','text'),t.addEventListener('click',this._onClick.bind(this)),t.addEventListener('focus',this._onFocus.bind(this)),t.addEventListener('focusout',this._onFocusOut.bind(this))),e.accessibleTitle&&null!==e.accessibleTitle?t.title=e.accessibleTitle:(!e.accessibleHint||null===e.accessibleHint)&&(t.title='displayObject '+e.tabIndex),e.accessibleHint&&null!==e.accessibleHint&&t.setAttribute('aria-label',e.accessibleHint),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},e.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,'click',e.eventData)},e.prototype._onFocus=function(t){t.target.getAttribute('aria-live','off')||t.target.setAttribute('aria-live','assertive');var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,'mouseover',e.eventData)},e.prototype._onFocusOut=function(t){t.target.getAttribute('aria-live','off')||t.target.setAttribute('aria-live','polite');var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,'mouseout',e.eventData)},e.prototype._onKeyDown=function(t){t.keyCode!==9||this.activate()},e.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},e.prototype.destroy=function(){this.div=null;for(var e=0;e<this.children.length;e++)this.children[e].div=null;window.document.removeEventListener('mousemove',this._onMouseMove,!0),window.removeEventListener('keydown',this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},e}();t.default=f,s.WebGLRenderer.registerPlugin('accessibility',f),s.CanvasRenderer.registerPlugin('accessibility',f)},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=r(157);Object.defineProperty(t,'webgl',{enumerable:!0,get:function(){return n(a).default}});var o=r(158);Object.defineProperty(t,'canvas',{enumerable:!0,get:function(){return n(o).default}})},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=r(1),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(a),i=new o.Rectangle,s=4,d=function(){function e(t){n(this,e),this.renderer=t,t.extract=this}return e.prototype.image=function(e){var t=new Image;return t.src=this.base64(e),t},e.prototype.base64=function(e){return this.canvas(e).toDataURL()},e.prototype.canvas=function(e){var t=this.renderer,r=void 0,n=void 0,a=void 0,d=!1,l=void 0,u=!1;e&&(e instanceof o.RenderTexture?l=e:(l=this.renderer.generateTexture(e),u=!0)),l?(r=l.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],n=r.resolution,a=l.frame,d=!1):(r=this.renderer.rootRenderTarget,n=r.resolution,d=!0,a=i,a.width=r.size.width,a.height=r.size.height);var p=a.width*n,c=a.height*n,h=new o.CanvasRenderTarget(p,c,1);if(r){t.bindRenderTarget(r);var f=new Uint8Array(s*p*c),y=t.gl;y.readPixels(a.x*n,a.y*n,p,c,y.RGBA,y.UNSIGNED_BYTE,f);var m=h.context.getImageData(0,0,p,c);m.data.set(f),h.context.putImageData(m,0,0),d&&(h.context.scale(1,-1),h.context.drawImage(h.canvas,0,-c))}return u&&l.destroy(!0),h.canvas},e.prototype.pixels=function(e){var t=this.renderer,r=void 0,n=void 0,a=void 0,d=void 0,l=!1;e&&(e instanceof o.RenderTexture?d=e:(d=this.renderer.generateTexture(e),l=!0)),d?(r=d.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],n=r.resolution,a=d.frame):(r=this.renderer.rootRenderTarget,n=r.resolution,a=i,a.width=r.size.width,a.height=r.size.height);var u=a.width*n,p=a.height*n,c=new Uint8Array(s*u*p);if(r){t.bindRenderTarget(r);var h=t.gl;h.readPixels(a.x*n,a.y*n,u,p,h.RGBA,h.UNSIGNED_BYTE,c)}return l&&d.destroy(!0),c},e.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},e}();t.default=d,o.WebGLRenderer.registerPlugin('extract',d)},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var a=r(1),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(a),i=new o.Rectangle,s=function(){function e(t){n(this,e),this.renderer=t,t.extract=this}return e.prototype.image=function(e){var t=new Image;return t.src=this.base64(e),t},e.prototype.base64=function(e){return this.canvas(e).toDataURL()},e.prototype.canvas=function(e){var t=this.renderer,r=void 0,n=void 0,a=void 0,s=void 0;e&&(e instanceof o.RenderTexture?s=e:s=t.generateTexture(e)),s?(r=s.baseTexture._canvasRenderTarget.context,n=s.baseTexture._canvasRenderTarget.resolution,a=s.frame):(r=t.rootContext,a=i,a.width=this.renderer.width,a.height=this.renderer.height);var d=a.width*n,l=a.height*n,u=new o.CanvasRenderTarget(d,l,1),p=r.getImageData(a.x*n,a.y*n,d,l);return u.context.putImageData(p,0,0),u.canvas},e.prototype.pixels=function(e){var t=this.renderer,r=void 0,n=void 0,a=void 0,s=void 0;return e&&(e instanceof o.RenderTexture?s=e:s=t.generateTexture(e)),s?(r=s.baseTexture._canvasRenderTarget.context,n=s.baseTexture._canvasRenderTarget.resolution,a=s.frame):(r=t.rootContext,a=i,a.width=t.width,a.height=t.height),r.getImageData(0,0,a.width*n,a.height*n).data},e.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},e}();t.default=s,o.CanvasRenderer.registerPlugin('extract',s)},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Math.floor;t.__esModule=!0;var s=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d=r(1),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(d),u=function(e){function t(r,o){n(this,t);var i=a(this,e.call(this,r[0]instanceof l.Texture?r[0]:r[0].texture));return i._textures=null,i._durations=null,i.textures=r,i._autoUpdate=!1!==o,i.animationSpeed=1,i.loop=!0,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i.playing=!1,i}return o(t,e),t.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&l.ticker.shared.remove(this.update,this))},t.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&l.ticker.shared.add(this.update,this,l.UPDATE_PRIORITY.HIGH))},t.prototype.gotoAndStop=function(e){this.stop();var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()},t.prototype.gotoAndPlay=function(e){var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture(),this.play()},t.prototype.update=function(e){var t=this.animationSpeed*e,r=this.currentFrame;if(null!==this._durations){var n=this._currentTime%1*this._durations[this.currentFrame];for(n+=1e3*(t/60);0>n;)this._currentTime--,n+=this._durations[this.currentFrame];var a=Math.sign(this.animationSpeed*e);for(this._currentTime=i(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*a,this._currentTime+=a;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=t;0>this._currentTime&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(0<this.animationSpeed&&this.currentFrame<r?this.onLoop():0>this.animationSpeed&&this.currentFrame>r&&this.onLoop()),this.updateTexture())},t.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.onFrameChange&&this.onFrameChange(this.currentFrame)},t.prototype.destroy=function(t){this.stop(),e.prototype.destroy.call(this,t)},t.fromFrames=function(e){for(var r=[],n=0;n<e.length;++n)r.push(l.Texture.fromFrame(e[n]));return new t(r)},t.fromImages=function(e){for(var r=[],n=0;n<e.length;++n)r.push(l.Texture.fromImage(e[n]));return new t(r)},s(t,[{key:'totalFrames',get:function(){return this._textures.length}},{key:'textures',get:function(){return this._textures},set:function(e){if(e[0]instanceof l.Texture)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this.gotoAndStop(0),this.updateTexture()}},{key:'currentFrame',get:function(){var e=i(this._currentTime)%this._textures.length;return 0>e&&(e+=this._textures.length),e}}]),t}(l.Sprite);t.default=u},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(1),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(s),l=r(35),u=function(e){return e&&e.__esModule?e:{default:e}}(l),p=new d.Point,c=function(e){function t(r){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:100;n(this,t);var s=a(this,e.call(this,r));return s.tileTransform=new d.TransformStatic,s._width=o,s._height=i,s._canvasPattern=null,s.uvTransform=r.transform||new d.TextureMatrix(r),s.pluginName='tilingSprite',s.uvRespectAnchor=!1,s}return o(t,e),t.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215},t.prototype._renderWebGL=function(e){var t=this._texture;t&&t.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),e.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},t.prototype._renderCanvas=function(e){var t=this._texture;if(t.baseTexture.hasLoaded){var r=e.context,n=this.worldTransform,a=e.resolution,o=2===t.rotate,i=t.baseTexture,s=i.resolution,l=this.tilePosition.x/this.tileScale.x%t.orig.width*s,p=this.tilePosition.y/this.tileScale.y%t.orig.height*s;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var c=new d.CanvasRenderTarget(t.orig.width,t.orig.height,s);if(16777215!==this.tint)this.tintedTexture=u.default.getTintedTexture(this,this.tint),c.context.drawImage(this.tintedTexture,0,0);else{var h=t._frame.x*s,f=t._frame.y*s,y=t._frame.width*s,m=t._frame.height*s,_=(t.trim?t.trim.width:t.orig.width)*s,x=(t.trim?t.trim.height:t.orig.height)*s,b=(t.trim?t.trim.x:0)*s,v=(t.trim?t.trim.y:0)*s;o?(c.context.rotate(-Math.PI/2),c.context.translate(-x,0),c.context.drawImage(i.source,h,f,y,m,-v,b,x,_)):c.context.drawImage(i.source,h,f,y,m,b,v,_,x)}this.cachedTint=this.tint,this._canvasPattern=c.context.createPattern(c.canvas,'repeat')}r.globalAlpha=this.worldAlpha,r.setTransform(n.a*a,n.b*a,n.c*a,n.d*a,n.tx*a,n.ty*a),e.setBlendMode(this.blendMode),r.fillStyle=this._canvasPattern,r.scale(this.tileScale.x/s,this.tileScale.y/s);var T=this.anchor.x*-this._width*s,E=this.anchor.y*-this._height*s;this.uvRespectAnchor?(r.translate(l,p),r.fillRect(-l+T,-p+E,this._width/this.tileScale.x*s,this._height/this.tileScale.y*s)):(r.translate(l+T,p+E),r.fillRect(-l,-p,this._width/this.tileScale.x*s,this._height/this.tileScale.y*s))}},t.prototype._calculateBounds=function(){var e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),n=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,r,n)},t.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(!this._localBoundsRect&&(this._localBoundsRect=new d.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,p);var t=this._width,r=this._height,n=-t*this.anchor._x;if(p.x>=n&&p.x<n+t){var a=-r*this.anchor._y;if(p.y>=a&&p.y<a+r)return!0}return!1},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.tileTransform=null,this.uvTransform=null},t.from=function(e,r,n){return new t(d.Texture.from(e),r,n)},t.fromFrame=function(e,r,n){var a=d.utils.TextureCache[e];if(!a)throw new Error('The frameId "'+e+'" does not exist in the texture cache '+this);return new t(a,r,n)},t.fromImage=function(e,r,n,a,o){return new t(d.Texture.fromImage(e,a,o),r,n)},i(t,[{key:'clampMargin',get:function(){return this.uvTransform.clampMargin},set:function(e){this.uvTransform.clampMargin=e,this.uvTransform.update(!0)}},{key:'tileScale',get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copy(e)}},{key:'tilePosition',get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copy(e)}},{key:'width',get:function(){return this._width},set:function(e){this._width=e}},{key:'height',get:function(){return this._height},set:function(e){this._height=e}}]),t}(d.Sprite);t.default=c},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=r(1),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(i),d=r(0),l=r(7),u=new s.Matrix,p=function(e){function t(r){n(this,t);var o=a(this,e.call(this,r));return o.shader=null,o.simpleShader=null,o.quad=null,o}return o(t,e),t.prototype.onContextChange=function(){var e=this.renderer.gl;this.shader=new s.Shader(e,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n','varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n'),this.simpleShader=new s.Shader(e,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n','varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n'),this.renderer.bindVao(null),this.quad=new s.Quad(e,this.renderer.state.attribState),this.quad.initVao(this.shader)},t.prototype.render=function(e){var t=this.renderer,r=this.quad;t.bindVao(r.vao);var n=r.vertices;n[0]=n[6]=e._width*-e.anchor.x,n[1]=n[3]=e._height*-e.anchor.y,n[2]=n[4]=e._width*(1-e.anchor.x),n[5]=n[7]=e._height*(1-e.anchor.y),e.uvRespectAnchor&&(n=r.uvs,n[0]=n[6]=-e.anchor.x,n[1]=n[3]=-e.anchor.y,n[2]=n[4]=1-e.anchor.x,n[5]=n[7]=1-e.anchor.y),r.upload();var a=e._texture,o=a.baseTexture,i=e.tileTransform.localTransform,l=e.uvTransform,p=o.isPowerOfTwo&&a.frame.width===o.width&&a.frame.height===o.height;p&&(o._glTextures[t.CONTEXT_UID]?p=o.wrapMode!==d.WRAP_MODES.CLAMP:o.wrapMode===d.WRAP_MODES.CLAMP&&(o.wrapMode=d.WRAP_MODES.REPEAT));var c=p?this.simpleShader:this.shader;t.bindShader(c);var f=a.width,y=a.height,h=e._width,m=e._height;u.set(i.a*f/h,i.b*f/m,i.c*y/h,i.d*y/m,i.tx/h,i.ty/m),u.invert(),p?u.prepend(l.mapCoord):(c.uniforms.uMapCoord=l.mapCoord.toArray(!0),c.uniforms.uClampFrame=l.uClampFrame,c.uniforms.uClampOffset=l.uClampOffset),c.uniforms.uTransform=u.toArray(!0),c.uniforms.uColor=s.utils.premultiplyTintToRgba(e.tint,e.worldAlpha,c.uniforms.uColor,o.premultipliedAlpha),c.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),c.uniforms.uSampler=t.bindTexture(a),t.setBlendMode(s.utils.correctBlendMode(e.blendMode,o.premultipliedAlpha)),r.vao.draw(this.renderer.gl.TRIANGLES,6,0)},t}(s.ObjectRenderer);t.default=p,s.WebGLRenderer.registerPlugin('tilingSprite',p)},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Math.max;t.__esModule=!0;var d=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(1),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(l),p=r(39),c=n(p),h=r(2),f=r(3),y=n(f),m=function(e){function t(r){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};a(this,t);var i=o(this,e.call(this));return i._textWidth=0,i._textHeight=0,i._glyphs=[],i._font={tint:void 0===n.tint?16777215:n.tint,align:n.align||'left',name:null,size:0},i.font=n.font,i._text=r,i._maxWidth=0,i._maxLineHeight=0,i._letterSpacing=0,i._anchor=new c.default(function(){i.dirty=!0},i,0,0),i.dirty=!1,i.updateText(),i}return i(t,e),t.prototype.updateText=function(){for(var e=t.fonts[this._font.name],r=this._font.size/e.size,n=new u.Point,a=[],o=[],d=this.text.replace(/(?:\r\n|\r)/g,'\n'),l=d.length,p=this._maxWidth*e.size/this._font.size,h=null,f=0,y=0,m=0,_=-1,x=0,b=0,v=0,T=0;T<l;T++){var i=d.charCodeAt(T),E=d.charAt(T);if(/(?:\s)/.test(E)&&(_=T,x=f),'\r'===E||'\n'===E){o.push(f),y=s(y,f),++m,++b,n.x=0,n.y+=e.lineHeight,h=null;continue}var S=e.chars[i];S&&(h&&S.kerning[h]&&(n.x+=S.kerning[h]),a.push({texture:S.texture,line:m,charCode:i,position:new u.Point(n.x+S.xOffset+this._letterSpacing/2,n.y+S.yOffset)}),n.x+=S.xAdvance+this._letterSpacing,f=n.x,v=s(v,S.yOffset+S.texture.height),h=i,-1!==_&&0<p&&n.x>p&&(++b,u.utils.removeItems(a,1+_-b,1+T-_),T=_,_=-1,o.push(x),y=s(y,x),m++,n.x=0,n.y+=e.lineHeight,h=null))}var C=d.charAt(d.length-1);'\r'!==C&&'\n'!==C&&(/(?:\s)/.test(C)&&(f=x),o.push(f),y=s(y,f));for(var P=[],A=0,M;A<=m;A++)M=0,'right'===this._font.align?M=y-o[A]:'center'===this._font.align&&(M=(y-o[A])/2),P.push(M);for(var w=a.length,O=this.tint,D=0,R;D<w;D++)R=this._glyphs[D],R?R.texture=a[D].texture:(R=new u.Sprite(a[D].texture),this._glyphs.push(R)),R.position.x=(a[D].position.x+P[a[D].line])*r,R.position.y=a[D].position.y*r,R.scale.x=R.scale.y=r,R.tint=O,R.parent||this.addChild(R);for(var c=w;c<this._glyphs.length;++c)this.removeChild(this._glyphs[c]);if(this._textWidth=y*r,this._textHeight=(n.y+e.lineHeight)*r,0!==this.anchor.x||0!==this.anchor.y)for(var I=0;I<w;I++)this._glyphs[I].x-=this._textWidth*this.anchor.x,this._glyphs[I].y-=this._textHeight*this.anchor.y;this._maxLineHeight=v*r},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},t.registerFont=function(e,r){var n={},a=e.getElementsByTagName('info')[0],o=e.getElementsByTagName('common')[0],s=e.getElementsByTagName('page'),d=(0,h.getResolutionOfUrl)(s[0].getAttribute('file'),y.default.RESOLUTION),l={};n.font=a.getAttribute('face'),n.size=parseInt(a.getAttribute('size'),10),n.lineHeight=parseInt(o.getAttribute('lineHeight'),10)/d,n.chars={},r instanceof u.Texture&&(r=[r]);for(var p=0;p<s.length;p++){var i=s[p].getAttribute('id'),c=s[p].getAttribute('file');l[i]=r instanceof Array?r[p]:r[c]}for(var f=e.getElementsByTagName('char'),m=0;m<f.length;m++){var _=f[m],x=parseInt(_.getAttribute('id'),10),b=_.getAttribute('page')||0,v=new u.Rectangle(parseInt(_.getAttribute('x'),10)/d+l[b].frame.x/d,parseInt(_.getAttribute('y'),10)/d+l[b].frame.y/d,parseInt(_.getAttribute('width'),10)/d,parseInt(_.getAttribute('height'),10)/d);n.chars[x]={xOffset:parseInt(_.getAttribute('xoffset'),10)/d,yOffset:parseInt(_.getAttribute('yoffset'),10)/d,xAdvance:parseInt(_.getAttribute('xadvance'),10)/d,kerning:{},texture:new u.Texture(l[b].baseTexture,v),page:b}}for(var T=e.getElementsByTagName('kerning'),E=0;E<T.length;E++){var S=T[E],C=parseInt(S.getAttribute('first'),10)/d,P=parseInt(S.getAttribute('second'),10)/d,A=parseInt(S.getAttribute('amount'),10)/d;n.chars[P]&&(n.chars[P].kerning[C]=A)}return t.fonts[n.font]=n,n},d(t,[{key:'tint',get:function(){return this._font.tint},set:function(e){this._font.tint='number'==typeof e&&0<=e?e:16777215,this.dirty=!0}},{key:'align',get:function(){return this._font.align},set:function(e){this._font.align=e||'left',this.dirty=!0}},{key:'anchor',get:function(){return this._anchor},set:function(e){'number'==typeof e?this._anchor.set(e):this._anchor.copy(e)}},{key:'font',get:function(){return this._font},set:function(e){e&&('string'==typeof e?(e=e.split(' '),this._font.name=1===e.length?e[0]:e.slice(1).join(' '),this._font.size=2<=e.length?parseInt(e[0],10):t.fonts[this._font.name].size):(this._font.name=e.name,this._font.size='number'==typeof e.size?e.size:parseInt(e.size,10)),this.dirty=!0)}},{key:'text',get:function(){return this._text},set:function(e){e=e.toString()||' ',this._text===e||(this._text=e,this.dirty=!0)}},{key:'maxWidth',get:function(){return this._maxWidth},set:function(e){this._maxWidth===e||(this._maxWidth=e,this.dirty=!0)}},{key:'maxLineHeight',get:function(){return this.validate(),this._maxLineHeight}},{key:'textWidth',get:function(){return this.validate(),this._textWidth}},{key:'letterSpacing',get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}},{key:'textHeight',get:function(){return this.validate(),this._textHeight}}]),t}(u.Container);t.default=m,m.fonts={}},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var o=r(1),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(o),s=r(8),d=n(s),l=r(10),u=n(l),p=r(2),c=i.DisplayObject,h=new i.Matrix;c.prototype._cacheAsBitmap=!1,c.prototype._cacheData=!1;var f=function e(){a(this,e),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(c.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){if(this._cacheAsBitmap!==e){this._cacheAsBitmap=e;var t;e?(!this._cacheData&&(this._cacheData=new f),t=this._cacheData,t.originalRenderWebGL=this.renderWebGL,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this._calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(t=this._cacheData,t.sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=t.originalRenderWebGL,this.renderCanvas=t.originalRenderCanvas,this._calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea)}}}}),c.prototype._renderCachedWebGL=function(e){this.visible&&!(0>=this.worldAlpha)&&this.renderable&&(this._initCachedDisplayObject(e),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(e))},c.prototype._initCachedDisplayObject=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var t=this.alpha;this.alpha=1,e.currentRenderer.flush();var r=this.getLocalBounds().clone();if(this._filters&&this._filters.length){var n=this._filters[0].padding;r.pad(n)}var a=e._activeRenderTarget,o=e.filterManager.filterStack,s=i.RenderTexture.create(0|r.width,0|r.height),l='cacheAsBitmap_'+(0,p.uid)();this._cacheData.textureCacheId=l,u.default.addToCache(s.baseTexture,l),d.default.addToCache(s,l);var c=h;c.tx=-r.x,c.ty=-r.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,e.render(this,s,!0,c,!0),e.bindRenderTarget(a),e.filterManager.filterStack=o,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this._mask=null,this.filterArea=null;var f=new i.Sprite(s);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-(r.x/r.width),f.anchor.y=-(r.y/r.height),f.alpha=t,f._bounds=this._bounds,this._calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=f.containsPoint.bind(f)}},c.prototype._renderCachedCanvas=function(e){this.visible&&!(0>=this.worldAlpha)&&this.renderable&&(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(e))},c.prototype._initCachedDisplayObjectCanvas=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var t=this.getLocalBounds(),r=this.alpha;this.alpha=1;var n=e.context,a=i.RenderTexture.create(0|t.width,0|t.height),o='cacheAsBitmap_'+(0,p.uid)();this._cacheData.textureCacheId=o,u.default.addToCache(a.baseTexture,o),d.default.addToCache(a,o);var s=h;this.transform.localTransform.copy(s),s.invert(),s.tx-=t.x,s.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,a,!0,s,!1),e.context=n,this.renderCanvas=this._renderCachedCanvas,this._calculateBounds=this._calculateCachedBounds,this._mask=null,this.filterArea=null;var l=new i.Sprite(a);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-(t.x/t.width),l.anchor.y=-(t.y/t.height),l._bounds=this._bounds,l.alpha=r,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.updateTransform=this.displayObjectUpdateTransform,this._cacheData.sprite=l,this.containsPoint=l.containsPoint.bind(l)}},c.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()},c.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},c.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,u.default.removeFromCache(this._cacheData.textureCacheId),d.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},c.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)}},function(e,t,r){'use strict';var n=r(1),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(n);a.DisplayObject.prototype.name=null,a.Container.prototype.getChildByName=function(e){for(var t=0;t<this.children.length;t++)if(this.children[t].name===e)return this.children[t];return null}},function(e,t,r){'use strict';var n=r(1),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(n);a.DisplayObject.prototype.getGlobalPosition=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new a.Point,t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];return this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e}},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=r(167);Object.defineProperty(t,'FXAAFilter',{enumerable:!0,get:function(){return n(a).default}});var o=r(168);Object.defineProperty(t,'NoiseFilter',{enumerable:!0,get:function(){return n(o).default}});var i=r(169);Object.defineProperty(t,'DisplacementFilter',{enumerable:!0,get:function(){return n(i).default}});var s=r(170);Object.defineProperty(t,'BlurFilter',{enumerable:!0,get:function(){return n(s).default}});var d=r(72);Object.defineProperty(t,'BlurXFilter',{enumerable:!0,get:function(){return n(d).default}});var l=r(76);Object.defineProperty(t,'BlurYFilter',{enumerable:!0,get:function(){return n(l).default}});var u=r(171);Object.defineProperty(t,'ColorMatrixFilter',{enumerable:!0,get:function(){return n(u).default}});var p=r(172);Object.defineProperty(t,'AlphaFilter',{enumerable:!0,get:function(){return n(p).default}})},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=r(1),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(i),d=r(7),l=function(e){function t(){return n(this,t),a(this,e.call(this,'\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}','varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return o(t,e),t}(s.Filter);t.default=l},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(1),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(s),l=r(7),u=function(e){function t(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:.5,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Math.random();n(this,t);var i=a(this,e.call(this,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}','precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n'));return i.noise=r,i.seed=o,i}return o(t,e),i(t,[{key:'noise',get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e}},{key:'seed',get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e}}]),t}(d.Filter);t.default=u},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(1),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(s),l=r(7),u=function(e){function t(r,o){n(this,t);var i=new d.Matrix;r.renderable=!1;var s=a(this,e.call(this,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}','varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale / filterArea.xy;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n'));return s.maskSprite=r,s.maskMatrix=i,s.uniforms.mapSampler=r._texture,s.uniforms.filterMatrix=i,s.uniforms.scale={x:1,y:1},(null===o||void 0===o)&&(o=20),s.scale=new d.Point(o,o),s}return o(t,e),t.prototype.apply=function(e,t,r){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,e.applyFilter(this,t,r)},i(t,[{key:'map',get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e}}]),t}(d.Filter);t.default=u},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Math.max,d=Math.abs;t.__esModule=!0;var l=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(1),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(u),c=r(72),h=n(c),f=r(76),y=n(f),m=function(e){function t(r,n,i,s){a(this,t);var d=o(this,e.call(this));return d.blurXFilter=new h.default(r,n,i,s),d.blurYFilter=new y.default(r,n,i,s),d.padding=0,d.resolution=i||p.settings.RESOLUTION,d.quality=n||4,d.blur=r||8,d}return i(t,e),t.prototype.apply=function(e,t,r){var n=e.getRenderTarget(!0);this.blurXFilter.apply(e,t,n,!0),this.blurYFilter.apply(e,n,r,!1),e.returnRenderTarget(n)},l(t,[{key:'blur',get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.padding=2*s(d(this.blurXFilter.strength),d(this.blurYFilter.strength))}},{key:'quality',get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e}},{key:'blurX',get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.padding=2*s(d(this.blurXFilter.strength),d(this.blurYFilter.strength))}},{key:'blurY',get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.padding=2*s(d(this.blurXFilter.strength),d(this.blurYFilter.strength))}},{key:'blendMode',get:function(){return this.blurYFilter._blendMode},set:function(e){this.blurYFilter._blendMode=e}}]),t}(p.Filter);t.default=m},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(1),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(s),l=r(7),u=function(e){function t(){n(this,t);var r=a(this,e.call(this,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}','varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n'));return r.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],r.alpha=1,r}return o(t,e),t.prototype._loadMatrix=function(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],r=e;t&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r},t.prototype._multiply=function(e,t,r){return e[0]=t[0]*r[0]+t[1]*r[5]+t[2]*r[10]+t[3]*r[15],e[1]=t[0]*r[1]+t[1]*r[6]+t[2]*r[11]+t[3]*r[16],e[2]=t[0]*r[2]+t[1]*r[7]+t[2]*r[12]+t[3]*r[17],e[3]=t[0]*r[3]+t[1]*r[8]+t[2]*r[13]+t[3]*r[18],e[4]=t[0]*r[4]+t[1]*r[9]+t[2]*r[14]+t[3]*r[19]+t[4],e[5]=t[5]*r[0]+t[6]*r[5]+t[7]*r[10]+t[8]*r[15],e[6]=t[5]*r[1]+t[6]*r[6]+t[7]*r[11]+t[8]*r[16],e[7]=t[5]*r[2]+t[6]*r[7]+t[7]*r[12]+t[8]*r[17],e[8]=t[5]*r[3]+t[6]*r[8]+t[7]*r[13]+t[8]*r[18],e[9]=t[5]*r[4]+t[6]*r[9]+t[7]*r[14]+t[8]*r[19]+t[9],e[10]=t[10]*r[0]+t[11]*r[5]+t[12]*r[10]+t[13]*r[15],e[11]=t[10]*r[1]+t[11]*r[6]+t[12]*r[11]+t[13]*r[16],e[12]=t[10]*r[2]+t[11]*r[7]+t[12]*r[12]+t[13]*r[17],e[13]=t[10]*r[3]+t[11]*r[8]+t[12]*r[13]+t[13]*r[18],e[14]=t[10]*r[4]+t[11]*r[9]+t[12]*r[14]+t[13]*r[19]+t[14],e[15]=t[15]*r[0]+t[16]*r[5]+t[17]*r[10]+t[18]*r[15],e[16]=t[15]*r[1]+t[16]*r[6]+t[17]*r[11]+t[18]*r[16],e[17]=t[15]*r[2]+t[16]*r[7]+t[17]*r[12]+t[18]*r[17],e[18]=t[15]*r[3]+t[16]*r[8]+t[17]*r[13]+t[18]*r[18],e[19]=t[15]*r[4]+t[16]*r[9]+t[17]*r[14]+t[18]*r[19]+t[19],e},t.prototype._colorMatrix=function(e){var t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t},t.prototype.brightness=function(e,t){this._loadMatrix([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],t)},t.prototype.greyscale=function(e,t){this._loadMatrix([e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0],t)},t.prototype.blackAndWhite=function(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)},t.prototype.hue=function(e,t){e=(e||0)/180*Math.PI;var r=Math.cos(e),n=Math.sin(e),a=Math.sqrt,o=1/3,i=a(o);this._loadMatrix([r+(1-r)*o,o*(1-r)-i*n,o*(1-r)+i*n,0,0,o*(1-r)+i*n,r+o*(1-r),o*(1-r)-i*n,0,0,o*(1-r)-i*n,o*(1-r)+i*n,r+o*(1-r),0,0,0,0,0,1,0],t)},t.prototype.contrast=function(e,t){var r=(e||0)+1,n=-.5*(r-1);this._loadMatrix([r,0,0,0,n,0,r,0,0,n,0,0,r,0,n,0,0,0,1,0],t)},t.prototype.saturate=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1],r=2*e/3+1,n=-.5*(r-1);this._loadMatrix([r,n,n,0,0,n,r,n,0,0,n,n,r,0,0,0,0,0,1,0],t)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)},t.prototype.sepia=function(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)},t.prototype.technicolor=function(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)},t.prototype.polaroid=function(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)},t.prototype.toBGR=function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)},t.prototype.kodachrome=function(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)},t.prototype.browni=function(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)},t.prototype.vintage=function(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)},t.prototype.colorTone=function(e,t,r,n,a){e=e||.2,t=t||.15,r=r||16770432,n=n||3375104;var o=(255&r>>16)/255,i=(255&r>>8)/255,s=(255&r)/255,d=(255&n>>16)/255,l=(255&n>>8)/255,u=(255&n)/255,p=[.3,.59,.11,0,0,o,i,s,e,0,d,l,u,t,0,o-d,i-l,s-u,0,0];this._loadMatrix(p,a)},t.prototype.night=function(e,t){e=e||.1;var r=[-2*e,-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(r,t)},t.prototype.predator=function(e,t){this._loadMatrix([11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0],t)},t.prototype.lsd=function(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)},t.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},i(t,[{key:'matrix',get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e}},{key:'alpha',get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e}}]),t}(d.Filter);t.default=u,u.prototype.grayscale=u.prototype.greyscale},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(1),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(s),l=r(7),u=function(e){function t(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;n(this,t);var o=a(this,e.call(this,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}','varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n'));return o.alpha=r,o.glShaderKey='alpha',o}return o(t,e),i(t,[{key:'alpha',get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e}}]),t}(d.Filter);t.default=u},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=r(77);Object.defineProperty(t,'InteractionData',{enumerable:!0,get:function(){return n(a).default}});var o=r(174);Object.defineProperty(t,'InteractionManager',{enumerable:!0,get:function(){return n(o).default}});var i=r(80);Object.defineProperty(t,'interactiveTarget',{enumerable:!0,get:function(){return n(i).default}});var s=r(79);Object.defineProperty(t,'InteractionTrackingData',{enumerable:!0,get:function(){return n(s).default}});var d=r(78);Object.defineProperty(t,'InteractionEvent',{enumerable:!0,get:function(){return n(d).default}})},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},d=r(1),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(d),u=r(77),p=n(u),c=r(78),h=n(c),f=r(79),y=n(f),m=r(9),_=n(m),x=r(80),b=n(x);l.utils.mixins.delayMixin(l.DisplayObject.prototype,b.default);var v=1,T={target:null,data:{global:null}},E=function(e){function t(r,n){a(this,t);var i=o(this,e.call(this));return n=n||{},i.renderer=r,i.autoPreventDefault=void 0===n.autoPreventDefault||n.autoPreventDefault,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new p.default,i.mouse.identifier=v,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[v]=i.mouse,i.interactionDataPool=[],i.eventData=new h.default,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.mouseOverRenderer=!1,i.supportsTouchEvents='ontouchstart'in window,i.supportsPointerEvents=!!window.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:'inherit',pointer:'pointer'},i.currentCursorMode=null,i.cursor=null,i._tempPoint=new l.Point,i.resolution=1,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return i(t,e),t.prototype.hitTest=function(e,t){return T.target=null,T.data.global=e,t||(t=this.renderer._lastObjectRendered),this.processInteractive(T,t,null,!0),T.target},t.prototype.setTargetElement=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=e,this.resolution=t,this.addEvents()},t.prototype.addEvents=function(){this.interactionDOMElement&&(l.ticker.shared.add(this.update,this,l.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style['-ms-content-zooming']='none',this.interactionDOMElement.style['-ms-touch-action']='none'):this.supportsPointerEvents&&(this.interactionDOMElement.style['touch-action']='none'),this.supportsPointerEvents?(window.document.addEventListener('pointermove',this.onPointerMove,!0),this.interactionDOMElement.addEventListener('pointerdown',this.onPointerDown,!0),this.interactionDOMElement.addEventListener('pointerleave',this.onPointerOut,!0),this.interactionDOMElement.addEventListener('pointerover',this.onPointerOver,!0),window.addEventListener('pointercancel',this.onPointerCancel,!0),window.addEventListener('pointerup',this.onPointerUp,!0)):(window.document.addEventListener('mousemove',this.onPointerMove,!0),this.interactionDOMElement.addEventListener('mousedown',this.onPointerDown,!0),this.interactionDOMElement.addEventListener('mouseout',this.onPointerOut,!0),this.interactionDOMElement.addEventListener('mouseover',this.onPointerOver,!0),window.addEventListener('mouseup',this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener('touchstart',this.onPointerDown,!0),this.interactionDOMElement.addEventListener('touchcancel',this.onPointerCancel,!0),this.interactionDOMElement.addEventListener('touchend',this.onPointerUp,!0),this.interactionDOMElement.addEventListener('touchmove',this.onPointerMove,!0)),this.eventsAdded=!0)},t.prototype.removeEvents=function(){this.interactionDOMElement&&(l.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style['-ms-content-zooming']='',this.interactionDOMElement.style['-ms-touch-action']=''):this.supportsPointerEvents&&(this.interactionDOMElement.style['touch-action']=''),this.supportsPointerEvents?(window.document.removeEventListener('pointermove',this.onPointerMove,!0),this.interactionDOMElement.removeEventListener('pointerdown',this.onPointerDown,!0),this.interactionDOMElement.removeEventListener('pointerleave',this.onPointerOut,!0),this.interactionDOMElement.removeEventListener('pointerover',this.onPointerOver,!0),window.removeEventListener('pointercancel',this.onPointerCancel,!0),window.removeEventListener('pointerup',this.onPointerUp,!0)):(window.document.removeEventListener('mousemove',this.onPointerMove,!0),this.interactionDOMElement.removeEventListener('mousedown',this.onPointerDown,!0),this.interactionDOMElement.removeEventListener('mouseout',this.onPointerOut,!0),this.interactionDOMElement.removeEventListener('mouseover',this.onPointerOver,!0),window.removeEventListener('mouseup',this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener('touchstart',this.onPointerDown,!0),this.interactionDOMElement.removeEventListener('touchcancel',this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener('touchend',this.onPointerUp,!0),this.interactionDOMElement.removeEventListener('touchmove',this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},t.prototype.update=function(e){if((this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency))&&(this._deltaTime=0,!!this.interactionDOMElement)){if(this.didMove)return void(this.didMove=!1);for(var t in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(t)){var r=this.activeInteractionData[t];if(r.originalEvent&&'touch'!==r.pointerType){var n=this.configureInteractionEventForDOMEvent(this.eventData,r.originalEvent,r);this.processInteractive(n,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},t.prototype.setCursorMode=function(e){if(e=e||'default',this.currentCursorMode!==e){this.currentCursorMode=e;var t=this.cursorStyles[e];if(t)switch('undefined'==typeof t?'undefined':s(t)){case'string':this.interactionDOMElement.style.cursor=t;break;case'function':t(e);break;case'object':Object.assign(this.interactionDOMElement.style,t);}else'string'!=typeof e||Object.prototype.hasOwnProperty.call(this.cursorStyles,e)||(this.interactionDOMElement.style.cursor=e)}},t.prototype.dispatchEvent=function(e,t,r){r.stopped||(r.currentTarget=e,r.type=t,e.emit(t,r),e[t]&&e[t](r))},t.prototype.mapPositionToPoint=function(e,t,r){var n=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var a=navigator.isCocoonJS?this.resolution:1/this.resolution;e.x=(t-n.left)*(this.interactionDOMElement.width/n.width)*a,e.y=(r-n.top)*(this.interactionDOMElement.height/n.height)*a},t.prototype.processInteractive=function(e,t,r,n,a){if(!t||!t.visible)return!1;var o=e.data.global;a=t.interactive||a;var s=!1,d=a,l=!0;if(t.hitArea?(n&&(t.worldTransform.applyInverse(o,this._tempPoint),t.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(n=!1,l=!1)),d=!1):t._mask&&n&&!t._mask.containsPoint(o)&&(n=!1,l=!1),l&&t.interactiveChildren&&t.children)for(var u=t.children,p=u.length-1;0<=p;p--){var i=u[p],c=this.processInteractive(e,i,r,n,d);if(c){if(!i.parent)continue;d=!1,c&&(e.target&&(n=!1),s=!0)}}return a&&(n&&!e.target&&!t.hitArea&&t.containsPoint&&t.containsPoint(o)&&(s=!0),t.interactive&&(s&&!e.target&&(e.target=t),r&&r(e,t,!!s))),s},t.prototype.onPointerDown=function(e){if(!(this.supportsTouchEvents&&'touch'===e.pointerType)){var t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&e.preventDefault();for(var r=t.length,n=0;n<r;n++){var a=t[n],o=this.getInteractionDataForPointerId(a),i=this.configureInteractionEventForDOMEvent(this.eventData,a,o);if(i.data.originalEvent=e,this.processInteractive(i,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit('pointerdown',i),'touch'===a.pointerType)this.emit('touchstart',i);else if('mouse'===a.pointerType||'pen'===a.pointerType){var s=2===a.button;this.emit(s?'rightdown':'mousedown',this.eventData)}}}},t.prototype.processPointerDown=function(e,t,r){var n=e.data,a=e.data.identifier;if(r)if(t.trackedPointers[a]||(t.trackedPointers[a]=new y.default(a)),this.dispatchEvent(t,'pointerdown',e),'touch'===n.pointerType)this.dispatchEvent(t,'touchstart',e);else if('mouse'===n.pointerType||'pen'===n.pointerType){var o=2===n.button;o?t.trackedPointers[a].rightDown=!0:t.trackedPointers[a].leftDown=!0,this.dispatchEvent(t,o?'rightdown':'mousedown',e)}},t.prototype.onPointerComplete=function(e,t,r){for(var n=this.normalizeToPointerData(e),a=n.length,o=e.target===this.interactionDOMElement?'':'outside',s=0;s<a;s++){var i=n[s],d=this.getInteractionDataForPointerId(i),l=this.configureInteractionEventForDOMEvent(this.eventData,i,d);if(l.data.originalEvent=e,this.processInteractive(l,this.renderer._lastObjectRendered,r,t||!o),this.emit(t?'pointercancel':'pointerup'+o,l),'mouse'===i.pointerType||'pen'===i.pointerType){var u=2===i.button;this.emit(u?'rightup'+o:'mouseup'+o,l)}else'touch'===i.pointerType&&(this.emit(t?'touchcancel':'touchend'+o,l),this.releaseInteractionDataForPointerId(i.pointerId,d))}},t.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&'touch'===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)},t.prototype.processPointerCancel=function(e,t){var r=e.data,n=e.data.identifier;void 0!==t.trackedPointers[n]&&(delete t.trackedPointers[n],this.dispatchEvent(t,'pointercancel',e),'touch'===r.pointerType&&this.dispatchEvent(t,'touchcancel',e))},t.prototype.onPointerUp=function(e){this.supportsTouchEvents&&'touch'===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)},t.prototype.processPointerUp=function(e,t,r){var n=e.data,a=e.data.identifier,o=t.trackedPointers[a],i='touch'===n.pointerType,s='mouse'===n.pointerType||'pen'===n.pointerType,d=!1;if(s){var l=2===n.button,u=y.default.FLAGS,p=l?u.RIGHT_DOWN:u.LEFT_DOWN,c=void 0!==o&&o.flags&p;r?(this.dispatchEvent(t,l?'rightup':'mouseup',e),c&&(this.dispatchEvent(t,l?'rightclick':'click',e),d=!0)):c&&this.dispatchEvent(t,l?'rightupoutside':'mouseupoutside',e),o&&(l?o.rightDown=!1:o.leftDown=!1)}r?(this.dispatchEvent(t,'pointerup',e),i&&this.dispatchEvent(t,'touchend',e),o&&((!s||d)&&this.dispatchEvent(t,'pointertap',e),i&&(this.dispatchEvent(t,'tap',e),o.over=!1))):o&&(this.dispatchEvent(t,'pointerupoutside',e),i&&this.dispatchEvent(t,'touchendoutside',e)),o&&o.none&&delete t.trackedPointers[a]},t.prototype.onPointerMove=function(e){if(!(this.supportsTouchEvents&&'touch'===e.pointerType)){var t=this.normalizeToPointerData(e);('mouse'===t[0].pointerType||'pen'===t[0].pointerType)&&(this.didMove=!0,this.cursor=null);for(var r=t.length,n=0;n<r;n++){var a=t[n],o=this.getInteractionDataForPointerId(a),i=this.configureInteractionEventForDOMEvent(this.eventData,a,o);i.data.originalEvent=e;var s='touch'!==a.pointerType||this.moveWhenInside;this.processInteractive(i,this.renderer._lastObjectRendered,this.processPointerMove,s),this.emit('pointermove',i),'touch'===a.pointerType&&this.emit('touchmove',i),('mouse'===a.pointerType||'pen'===a.pointerType)&&this.emit('mousemove',i)}'mouse'===t[0].pointerType&&this.setCursorMode(this.cursor)}},t.prototype.processPointerMove=function(e,t,r){var n=e.data,a='touch'===n.pointerType,o='mouse'===n.pointerType||'pen'===n.pointerType;o&&this.processPointerOverOut(e,t,r),(!this.moveWhenInside||r)&&(this.dispatchEvent(t,'pointermove',e),a&&this.dispatchEvent(t,'touchmove',e),o&&this.dispatchEvent(t,'mousemove',e))},t.prototype.onPointerOut=function(e){if(!(this.supportsTouchEvents&&'touch'===e.pointerType)){var t=this.normalizeToPointerData(e),r=t[0];'mouse'===r.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var n=this.getInteractionDataForPointerId(r),a=this.configureInteractionEventForDOMEvent(this.eventData,r,n);a.data.originalEvent=r,this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit('pointerout',a),'mouse'===r.pointerType||'pen'===r.pointerType?this.emit('mouseout',a):this.releaseInteractionDataForPointerId(n.identifier)}},t.prototype.processPointerOverOut=function(e,t,r){var n=e.data,a=e.data.identifier,o='mouse'===n.pointerType||'pen'===n.pointerType,i=t.trackedPointers[a];r&&!i&&(i=t.trackedPointers[a]=new y.default(a)),void 0===i||(r&&this.mouseOverRenderer?(!i.over&&(i.over=!0,this.dispatchEvent(t,'pointerover',e),o&&this.dispatchEvent(t,'mouseover',e)),o&&null===this.cursor&&(this.cursor=t.cursor)):i.over&&(i.over=!1,this.dispatchEvent(t,'pointerout',this.eventData),o&&this.dispatchEvent(t,'mouseout',e),i.none&&delete t.trackedPointers[a]))},t.prototype.onPointerOver=function(e){var t=this.normalizeToPointerData(e),r=t[0],n=this.getInteractionDataForPointerId(r),a=this.configureInteractionEventForDOMEvent(this.eventData,r,n);a.data.originalEvent=r,'mouse'===r.pointerType&&(this.mouseOverRenderer=!0),this.emit('pointerover',a),('mouse'===r.pointerType||'pen'===r.pointerType)&&this.emit('mouseover',a)},t.prototype.getInteractionDataForPointerId=function(e){var t=e.pointerId,r=void 0;return t===v||'mouse'===e.pointerType?r=this.mouse:this.activeInteractionData[t]?r=this.activeInteractionData[t]:(r=this.interactionDataPool.pop()||new p.default,r.identifier=t,this.activeInteractionData[t]=r),r.copyEvent(e),r},t.prototype.releaseInteractionDataForPointerId=function(e){var t=this.activeInteractionData[e];t&&(delete this.activeInteractionData[e],t.reset(),this.interactionDataPool.push(t))},t.prototype.configureInteractionEventForDOMEvent=function(e,t,r){return e.data=r,this.mapPositionToPoint(r.global,t.clientX,t.clientY),navigator.isCocoonJS&&'touch'===t.pointerType&&(r.global.x/=this.resolution,r.global.y/=this.resolution),'touch'===t.pointerType&&(t.globalX=r.global.x,t.globalY=r.global.y),r.originalEvent=t,e.reset(),e},t.prototype.normalizeToPointerData=function(e){var t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var r=0,n=e.changedTouches.length,a;r<n;r++)a=e.changedTouches[r],'undefined'==typeof a.button&&(a.button=e.touches.length?1:0),'undefined'==typeof a.buttons&&(a.buttons=e.touches.length?1:0),'undefined'==typeof a.isPrimary&&(a.isPrimary=1===e.touches.length&&'touchstart'===e.type),'undefined'==typeof a.width&&(a.width=a.radiusX||1),'undefined'==typeof a.height&&(a.height=a.radiusY||1),'undefined'==typeof a.tiltX&&(a.tiltX=0),'undefined'==typeof a.tiltY&&(a.tiltY=0),'undefined'==typeof a.pointerType&&(a.pointerType='touch'),'undefined'==typeof a.pointerId&&(a.pointerId=a.identifier||0),'undefined'==typeof a.pressure&&(a.pressure=a.force||.5),a.twist=0,a.tangentialPressure=0,'undefined'==typeof a.layerX&&(a.layerX=a.offsetX=a.clientX),'undefined'==typeof a.layerY&&(a.layerY=a.offsetY=a.clientY),a.isNormalized=!0,t.push(a);else!(e instanceof MouseEvent)||this.supportsPointerEvents&&e instanceof window.PointerEvent?t.push(e):('undefined'==typeof e.isPrimary&&(e.isPrimary=!0),'undefined'==typeof e.width&&(e.width=1),'undefined'==typeof e.height&&(e.height=1),'undefined'==typeof e.tiltX&&(e.tiltX=0),'undefined'==typeof e.tiltY&&(e.tiltY=0),'undefined'==typeof e.pointerType&&(e.pointerType='mouse'),'undefined'==typeof e.pointerId&&(e.pointerId=v),'undefined'==typeof e.pressure&&(e.pressure=.5),e.twist=0,e.tangentialPressure=0,e.isNormalized=!0,t.push(e));return t},t.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},t}(_.default);t.default=E,l.WebGLRenderer.registerPlugin('interaction',E),l.CanvasRenderer.registerPlugin('interaction',E)},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.shared=t.Resource=t.textureParser=t.getResourcePath=t.spritesheetParser=t.parseBitmapFontData=t.bitmapFontParser=t.Loader=void 0;var a=r(81);Object.defineProperty(t,'bitmapFontParser',{enumerable:!0,get:function(){return n(a).default}}),Object.defineProperty(t,'parseBitmapFontData',{enumerable:!0,get:function(){return a.parse}});var o=r(86);Object.defineProperty(t,'spritesheetParser',{enumerable:!0,get:function(){return n(o).default}}),Object.defineProperty(t,'getResourcePath',{enumerable:!0,get:function(){return o.getResourcePath}});var i=r(87);Object.defineProperty(t,'textureParser',{enumerable:!0,get:function(){return n(i).default}});var s=r(15);Object.defineProperty(t,'Resource',{enumerable:!0,get:function(){return s.Resource}});var d=r(68),l=n(d),u=r(177),p=n(u);t.Loader=p.default;var c=new p.default;c.destroy=function(){},t.shared=c;var h=l.default.prototype;h._loader=null,Object.defineProperty(h,'loader',{get:function(){if(!this._loader){var e=this._options.sharedLoader;this._loader=e?c:new p.default}return this._loader}}),h._parentDestroy=h.destroy,h.destroy=function(e,t){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(e,t)}},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var o='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},i=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(82),d=n(s),l=r(83),u=n(l),p=r(84),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(p),h=r(37),f=n(h),y=100,m=/(#[\w-]+)?$/,_=function(){function e(){var t=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;a(this,e),this.baseUrl=r,this.progress=0,this.loading=!1,this.defaultQueryString='',this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(e,r){return t._loadResource(e,r)},this._queue=c.queue(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new d.default,this.onError=new d.default,this.onLoad=new d.default,this.onStart=new d.default,this.onComplete=new d.default;for(var o=0;o<e._defaultBeforeMiddleware.length;++o)this.pre(e._defaultBeforeMiddleware[o]);for(var i=0;i<e._defaultAfterMiddleware.length;++i)this.use(e._defaultAfterMiddleware[i])}return e.prototype.add=function(e,t,r,n){if(Array.isArray(e)){for(var a=0;a<e.length;++a)this.add(e[a]);return this}if('object'===('undefined'==typeof e?'undefined':o(e))&&(n=t||e.callback||e.onComplete,r=e,t=e.url,e=e.name||e.key||e.url),'string'!=typeof t&&(n=r,r=t,t=e),'string'!=typeof t)throw new Error('No url passed to add resource to loader.');if('function'==typeof r&&(n=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error('Cannot add resources while the loader is running.');if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(t=this._prepareUrl(t),this.resources[e]=new f.default(e,t,r),'function'==typeof n&&this.resources[e].onAfterMiddleware.once(n),this.loading){for(var i=r.parentResource,s=[],d=0;d<i.children.length;++d)i.children[d].isComplete||s.push(i.children[d]);var l=i.progressChunk*(s.length+1),u=l/(s.length+2);i.children.push(this.resources[e]),i.progressChunk=u;for(var p=0;p<s.length;++p)s[p].progressChunk=u;this.resources[e].progressChunk=u}return this._queue.push(this.resources[e]),this},e.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},e.prototype.use=function(e){return this._afterMiddleware.push(e),this},e.prototype.reset=function(){for(var e in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var t=this.resources[e];t._onLoadBinding&&t._onLoadBinding.detach(),t.isLoading&&t.abort()}return this.resources={},this},e.prototype.load=function(e){if('function'==typeof e&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var t=this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=y/t;this._onStart(),this._queue.resume()}return this},e.prototype._prepareUrl=function(e){var t=(0,u.default)(e,{strictMode:!0}),r=void 0;if(r=t.protocol||!t.path||0===e.indexOf('//')?e:this.baseUrl.length&&this.baseUrl.lastIndexOf('/')!==this.baseUrl.length-1&&'/'!==e.charAt(0)?this.baseUrl+'/'+e:this.baseUrl+e,this.defaultQueryString){var n=m.exec(r)[0];r=r.substr(0,r.length-n.length),r+=-1===r.indexOf('?')?'?'+this.defaultQueryString:'&'+this.defaultQueryString,r+=n}return r},e.prototype._loadResource=function(e,t){var r=this;e._dequeue=t,c.eachSeries(this._beforeMiddleware,function(t,n){t.call(r,e,function(){n(e.isComplete?{}:null)})},function(){e.isComplete?r._onLoad(e):(e._onLoadBinding=e.onComplete.once(r._onLoad,r),e.load())},!0)},e.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e.prototype._onComplete=function(){this.progress=y,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e.prototype._onLoad=function(e){var t=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),c.eachSeries(this._afterMiddleware,function(r,n){r.call(t,e,n)},function(){e.onAfterMiddleware.dispatch(e),t.progress=Math.min(y,t.progress+e.progressChunk),t.onProgress.dispatch(t,e),e.error?t.onError.dispatch(e.error,t,e):t.onLoad.dispatch(t,e),t._resourcesParsing.splice(t._resourcesParsing.indexOf(e),1),t._queue.idle()&&0===t._resourcesParsing.length&&t._onComplete()},!0)},i(e,[{key:'concurrency',get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e}}]),e}();t.default=_,_._defaultBeforeMiddleware=[],_._defaultAfterMiddleware=[],_.pre=function(e){return _._defaultBeforeMiddleware.push(e),_},_.use=function(e){return _._defaultAfterMiddleware.push(e),_}},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(15),d=n(s),l=r(178),u=r(9),p=n(u),c=r(87),h=n(c),f=r(86),y=n(f),m=r(81),_=n(m),x=function(e){function t(r,n){a(this,t);var s=o(this,e.call(this,r,n));p.default.call(s);for(var d=0;d<t._pixiMiddleware.length;++d)s.use(t._pixiMiddleware[d]());return s.onStart.add(function(e){return s.emit('start',e)}),s.onProgress.add(function(e,t){return s.emit('progress',e,t)}),s.onError.add(function(t,e,n){return s.emit('error',t,e,n)}),s.onLoad.add(function(e,t){return s.emit('load',e,t)}),s.onComplete.add(function(e,t){return s.emit('complete',e,t)}),s}return i(t,e),t.addPixiMiddleware=function(e){t._pixiMiddleware.push(e)},t.prototype.destroy=function(){this.removeAllListeners(),this.reset()},t}(d.default);for(var b in t.default=x,p.default.prototype)x.prototype[b]=p.default.prototype[b];x._pixiMiddleware=[l.blobMiddlewareFactory,h.default,y.default,_.default];var v=d.default.Resource;v.setExtensionXhrType('fnt',v.XHR_RESPONSE_TYPE.DOCUMENT)},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.blobMiddlewareFactory=function(){return function(e,t){if(!e.data)return void t();if(e.xhr&&e.xhrType===o.default.XHR_RESPONSE_TYPE.BLOB)if(!window.Blob||'string'==typeof e.data){var r=e.xhr.getResponseHeader('content-type');if(r&&0===r.indexOf('image'))return e.data=new Image,e.data.src='data:'+r+';base64,'+s.default.encodeBinary(e.xhr.responseText),e.type=o.default.TYPE.IMAGE,void(e.data.onload=function(){e.data.onload=null,t()})}else if(0===e.data.type.indexOf('image')){var n=d.createObjectURL(e.data);return e.blob=e.data,e.data=new Image,e.data.src=n,e.type=o.default.TYPE.IMAGE,void(e.data.onload=function(){d.revokeObjectURL(n),e.data.onload=null,t()})}t()}};var a=r(37),o=n(a),i=r(85),s=n(i),d=window.URL||window.webkitURL},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=r(16);Object.defineProperty(t,'Mesh',{enumerable:!0,get:function(){return n(a).default}});var o=r(180);Object.defineProperty(t,'MeshRenderer',{enumerable:!0,get:function(){return n(o).default}});var i=r(181);Object.defineProperty(t,'CanvasMeshRenderer',{enumerable:!0,get:function(){return n(i).default}});var s=r(88);Object.defineProperty(t,'Plane',{enumerable:!0,get:function(){return n(s).default}});var d=r(182);Object.defineProperty(t,'NineSlicePlane',{enumerable:!0,get:function(){return n(d).default}});var l=r(183);Object.defineProperty(t,'Rope',{enumerable:!0,get:function(){return n(l).default}})},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(1),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(s),l=r(6),u=n(l),p=r(16),c=n(p),h=r(7),f=d.Matrix.IDENTITY,y=function(e){function t(r){a(this,t);var n=o(this,e.call(this,r));return n.shader=null,n}return i(t,e),t.prototype.onContextChange=function(){var e=this.renderer.gl;this.shader=new d.Shader(e,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n','varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n')},t.prototype.render=function(e){var t=this.renderer,r=t.gl,n=e._texture;if(n.valid){var a=e._glDatas[t.CONTEXT_UID];a||(t.bindVao(null),a={shader:this.shader,vertexBuffer:u.default.GLBuffer.createVertexBuffer(r,e.vertices,r.STREAM_DRAW),uvBuffer:u.default.GLBuffer.createVertexBuffer(r,e.uvs,r.STREAM_DRAW),indexBuffer:u.default.GLBuffer.createIndexBuffer(r,e.indices,r.STATIC_DRAW),vao:null,dirty:e.dirty,indexDirty:e.indexDirty,vertexDirty:e.vertexDirty},a.vao=new u.default.VertexArrayObject(r).addIndex(a.indexBuffer).addAttribute(a.vertexBuffer,a.shader.attributes.aVertexPosition,r.FLOAT,!1,8,0).addAttribute(a.uvBuffer,a.shader.attributes.aTextureCoord,r.FLOAT,!1,8,0),e._glDatas[t.CONTEXT_UID]=a),t.bindVao(a.vao),e.dirty!==a.dirty&&(a.dirty=e.dirty,a.uvBuffer.upload(e.uvs)),e.indexDirty!==a.indexDirty&&(a.indexDirty=e.indexDirty,a.indexBuffer.upload(e.indices)),e.vertexDirty!==a.vertexDirty&&(a.vertexDirty=e.vertexDirty,a.vertexBuffer.upload(e.vertices)),t.bindShader(a.shader),a.shader.uniforms.uSampler=t.bindTexture(n),t.state.setBlendMode(d.utils.correctBlendMode(e.blendMode,n.baseTexture.premultipliedAlpha)),a.shader.uniforms.uTransform&&(e.uploadUvTransform?a.shader.uniforms.uTransform=e._uvTransform.mapCoord.toArray(!0):a.shader.uniforms.uTransform=f.toArray(!0)),a.shader.uniforms.translationMatrix=e.worldTransform.toArray(!0),a.shader.uniforms.uColor=d.utils.premultiplyRgba(e.tintRgb,e.worldAlpha,a.shader.uniforms.uColor,n.baseTexture.premultipliedAlpha);var o=e.drawMode===c.default.DRAW_MODES.TRIANGLE_MESH?r.TRIANGLE_STRIP:r.TRIANGLES;a.vao.draw(o,e.indices.length,0)}},t}(d.ObjectRenderer);t.default=y,d.WebGLRenderer.registerPlugin('mesh',y)},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var a=Math.abs,o=Math.sqrt;t.__esModule=!0;var i=r(1),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(i),d=r(16),l=function(e){return e&&e.__esModule?e:{default:e}}(d),u=function(){function e(t){n(this,e),this.renderer=t}return e.prototype.render=function(e){var t=this.renderer,r=t.context,n=e.worldTransform,a=t.resolution;t.roundPixels?r.setTransform(n.a*a,n.b*a,n.c*a,n.d*a,0|n.tx*a,0|n.ty*a):r.setTransform(n.a*a,n.b*a,n.c*a,n.d*a,n.tx*a,n.ty*a),t.context.globalAlpha=e.worldAlpha,t.setBlendMode(e.blendMode),e.drawMode===l.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(e):this._renderTriangles(e)},e.prototype._renderTriangleMesh=function(e){for(var t=e.vertices.length/2,r=0,n;r<t-2;r++)n=2*r,this._renderDrawTriangle(e,n,n+2,n+4)},e.prototype._renderTriangles=function(e){for(var t=e.indices,r=t.length,n=0;n<r;n+=3){var a=2*t[n],o=2*t[n+1],i=2*t[n+2];this._renderDrawTriangle(e,a,o,i)}},e.prototype._renderDrawTriangle=function(e,t,r,n){var i=this.renderer.context,s=e.uvs,d=e.vertices,l=e._texture;if(l.valid){var u=l.baseTexture,p=u.source,c=u.width,h=u.height,f=void 0,y=void 0,m=void 0,_=void 0,x=void 0,b=void 0;if(e.uploadUvTransform){var v=e._uvTransform.mapCoord;f=(s[t]*v.a+s[t+1]*v.c+v.tx)*u.width,y=(s[r]*v.a+s[r+1]*v.c+v.tx)*u.width,m=(s[n]*v.a+s[n+1]*v.c+v.tx)*u.width,_=(s[t]*v.b+s[t+1]*v.d+v.ty)*u.height,x=(s[r]*v.b+s[r+1]*v.d+v.ty)*u.height,b=(s[n]*v.b+s[n+1]*v.d+v.ty)*u.height}else f=s[t]*u.width,y=s[r]*u.width,m=s[n]*u.width,_=s[t+1]*u.height,x=s[r+1]*u.height,b=s[n+1]*u.height;var T=d[t],E=d[r],S=d[n],C=d[t+1],P=d[r+1],A=d[n+1],M=e.canvasPadding/this.renderer.resolution;if(0<M){var w=M/a(e.worldTransform.a),O=M/a(e.worldTransform.d),D=(T+E+S)/3,R=(C+P+A)/3,I=T-D,k=C-R,L=o(I*I+k*k);T=D+I/L*(L+w),C=R+k/L*(L+O),I=E-D,k=P-R,L=o(I*I+k*k),E=D+I/L*(L+w),P=R+k/L*(L+O),I=S-D,k=A-R,L=o(I*I+k*k),S=D+I/L*(L+w),A=R+k/L*(L+O)}i.save(),i.beginPath(),i.moveTo(T,C),i.lineTo(E,P),i.lineTo(S,A),i.closePath(),i.clip();var F=f*x+_*m+y*b-x*m-_*y-f*b,N=T*x+_*S+E*b-x*S-_*E-T*b,B=f*E+T*m+y*S-E*m-T*y-f*S,U=f*x*S+_*E*m+T*y*b-T*x*m-_*y*S-f*E*b,X=C*x+_*A+P*b-x*A-_*P-C*b,j=f*P+C*m+y*A-P*m-C*y-f*A,G=f*x*A+_*P*m+C*y*b-C*x*m-_*y*A-f*P*b;i.transform(N/F,X/F,B/F,j/F,U/F,G/F),i.drawImage(p,0,0,c*u.resolution,h*u.resolution,0,0,c,h),i.restore(),this.renderer.invalidateBlendMode()}},e.prototype.renderMeshFlat=function(e){var t=this.renderer.context,r=e.vertices,n=r.length/2;t.beginPath();for(var a=1;a<n-2;++a){var o=2*a,i=r[o],s=r[o+1],d=r[o+2],l=r[o+3],u=r[o+4],p=r[o+5];t.moveTo(i,s),t.lineTo(d,l),t.lineTo(u,p)}t.fillStyle='#FF0000',t.fill(),t.closePath()},e.prototype.destroy=function(){this.renderer=null},e}();t.default=u,s.CanvasRenderer.registerPlugin('mesh',u)},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(88),d=function(e){return e&&e.__esModule?e:{default:e}}(s),l=10,u=function(e){function t(r,o,i,s,d){n(this,t);var u=a(this,e.call(this,r,4,4));return u._origWidth=r.orig.width,u._origHeight=r.orig.height,u._width=u._origWidth,u._height=u._origHeight,u._leftWidth='undefined'==typeof o?l:o,u._rightWidth='undefined'==typeof s?l:s,u._topHeight='undefined'==typeof i?l:i,u._bottomHeight='undefined'==typeof d?l:d,u.refresh(!0),u}return o(t,e),t.prototype.updateHorizontalVertices=function(){var e=this.vertices,t=this._topHeight+this._bottomHeight,r=this._height>t?1:this._height/t;e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height},t.prototype.updateVerticalVertices=function(){var e=this.vertices,t=this._leftWidth+this._rightWidth,r=this._width>t?1:this._width/t;e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width},t.prototype._renderCanvas=function(e){var t=e.context;t.globalAlpha=this.worldAlpha,e.setBlendMode(this.blendMode);var r=this.worldTransform,n=e.resolution;e.roundPixels?t.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,0|r.tx*n,0|r.ty*n):t.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n,r.ty*n);var a=this._texture.baseTexture,o=a.source,i=a.width*a.resolution,s=a.height*a.resolution;this.drawSegment(t,o,i,s,0,1,10,11),this.drawSegment(t,o,i,s,2,3,12,13),this.drawSegment(t,o,i,s,4,5,14,15),this.drawSegment(t,o,i,s,8,9,18,19),this.drawSegment(t,o,i,s,10,11,20,21),this.drawSegment(t,o,i,s,12,13,22,23),this.drawSegment(t,o,i,s,16,17,26,27),this.drawSegment(t,o,i,s,18,19,28,29),this.drawSegment(t,o,i,s,20,21,30,31)},t.prototype.drawSegment=function(e,t,r,n,a,o,i,s){var d=this.uvs,l=this.vertices,u=(d[i]-d[a])*r,p=(d[s]-d[o])*n,c=l[i]-l[a],h=l[s]-l[o];1>u&&(u=1),1>p&&(p=1),1>c&&(c=1),1>h&&(h=1),e.drawImage(t,d[a]*r,d[o]*n,u,p,l[a],l[o],c,h)},t.prototype._refresh=function(){e.prototype._refresh.call(this);var t=this.uvs,r=this._texture;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var n=1/this._origWidth,a=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=n*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-n*this._rightWidth,t[9]=t[11]=t[13]=t[15]=a*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-a*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty++,this.multiplyUvs()},i(t,[{key:'width',get:function(){return this._width},set:function(e){this._width=e,this._refresh()}},{key:'height',get:function(){return this._height},set:function(e){this._height=e,this._refresh()}},{key:'leftWidth',get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()}},{key:'rightWidth',get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()}},{key:'topHeight',get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()}},{key:'bottomHeight',get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()}}]),t}(d.default);t.default=u},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=r(16),s=function(e){return e&&e.__esModule?e:{default:e}}(i),d=function(e){function t(r,o){n(this,t);var i=a(this,e.call(this,r));return i.points=o,i.vertices=new Float32Array(4*o.length),i.uvs=new Float32Array(4*o.length),i.colors=new Float32Array(2*o.length),i.indices=new Uint16Array(2*o.length),i.autoUpdate=!0,i.refresh(),i}return o(t,e),t.prototype._refresh=function(){var e=this.points;if(!(1>e.length)&&this._texture._uvs){this.vertices.length/4!==e.length&&(this.vertices=new Float32Array(4*e.length),this.uvs=new Float32Array(4*e.length),this.colors=new Float32Array(2*e.length),this.indices=new Uint16Array(2*e.length));var t=this.uvs,r=this.indices,n=this.colors;t[0]=0,t[1]=0,t[2]=0,t[3]=1,n[0]=1,n[1]=1,r[0]=0,r[1]=1;for(var a=e.length,o=1;o<a;o++){var i=4*o,s=o/(a-1);t[i]=s,t[i+1]=0,t[i+2]=s,t[i+3]=1,i=2*o,n[i]=1,n[i+1]=1,i=2*o,r[i]=i,r[i+1]=i+1}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},t.prototype.refreshVertices=function(){var e=this.points;if(!(1>e.length))for(var t=e[0],r=void 0,n=0,a=0,o=this.vertices,s=e.length,d=0;d<s;d++){var i=e[d],l=4*d;r=d<e.length-1?e[d+1]:i,a=-(r.x-t.x),n=r.y-t.y;var u=10*(1-d/(s-1));1<u&&(u=1);var p=Math.sqrt(n*n+a*a),c=this._texture.height/2;n/=p,a/=p,n*=c,a*=c,o[l]=i.x+n,o[l+1]=i.y+a,o[l+2]=i.x-n,o[l+3]=i.y-a,t=i}},t.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},t}(s.default);t.default=d},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=r(185);Object.defineProperty(t,'ParticleContainer',{enumerable:!0,get:function(){return n(a).default}});var o=r(186);Object.defineProperty(t,'ParticleRenderer',{enumerable:!0,get:function(){return n(o).default}})},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=function(){function e(e,t){for(var r=0,n;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(1),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(s),l=r(2),u=function(e){function t(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1500,o=arguments[1],i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16384,s=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3];n(this,t);var l=a(this,e.call(this)),u=16384;return i>u&&(i=u),i>r&&(i=r),l._properties=[!1,!0,!1,!1,!1],l._maxSize=r,l._batchSize=i,l._glBuffers={},l._bufferUpdateIDs=[],l._updateID=0,l.interactiveChildren=!1,l.blendMode=d.BLEND_MODES.NORMAL,l.autoResize=s,l.roundPixels=!0,l.baseTexture=null,l.setProperties(o),l._tint=0,l.tintRgb=new Float32Array(4),l.tint=16777215,l}return o(t,e),t.prototype.setProperties=function(e){e&&(this._properties[0]='vertices'in e||'scale'in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]='position'in e?!!e.position:this._properties[1],this._properties[2]='rotation'in e?!!e.rotation:this._properties[2],this._properties[3]='uvs'in e?!!e.uvs:this._properties[3],this._properties[4]='tint'in e||'alpha'in e?!!e.tint||!!e.alpha:this._properties[4])},t.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},t.prototype.renderWebGL=function(e){var t=this;this.visible&&!(0>=this.worldAlpha)&&this.children.length&&this.renderable&&(!this.baseTexture&&(this.baseTexture=this.children[0]._texture.baseTexture,!this.baseTexture.hasLoaded&&this.baseTexture.once('update',function(){return t.onChildrenChange(0)})),e.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},t.prototype.onChildrenChange=function(e){for(var t=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID},t.prototype.renderCanvas=function(e){if(this.visible&&!(0>=this.worldAlpha)&&this.children.length&&this.renderable){var t=e.context,r=this.worldTransform,n=!0,a=0,o=0,s=0,d=0;e.setBlendMode(this.blendMode),t.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var l=0,i;l<this.children.length;++l)if(i=this.children[l],!!i.visible){var u=i._texture.frame;if(t.globalAlpha=this.worldAlpha*i.alpha,0==i.rotation%(2*Math.PI))n&&(t.setTransform(r.a,r.b,r.c,r.d,r.tx*e.resolution,r.ty*e.resolution),n=!1),a=i.anchor.x*(-u.width*i.scale.x)+i.position.x+.5,o=i.anchor.y*(-u.height*i.scale.y)+i.position.y+.5,s=u.width*i.scale.x,d=u.height*i.scale.y;else{n||(n=!0),i.displayObjectUpdateTransform();var p=i.worldTransform;e.roundPixels?t.setTransform(p.a,p.b,p.c,p.d,0|p.tx*e.resolution,0|p.ty*e.resolution):t.setTransform(p.a,p.b,p.c,p.d,p.tx*e.resolution,p.ty*e.resolution),a=i.anchor.x*-u.width+.5,o=i.anchor.y*-u.height+.5,s=u.width,d=u.height}var c=i._texture.baseTexture.resolution;t.drawImage(i._texture.baseTexture.source,u.x*c,u.y*c,u.width*c,u.height*c,a*e.resolution,o*e.resolution,s*e.resolution,d*e.resolution)}}},t.prototype.destroy=function(t){if(e.prototype.destroy.call(this,t),this._buffers)for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},i(t,[{key:'tint',get:function(){return this._tint},set:function(e){this._tint=e,(0,l.hex2rgb)(e,this.tintRgb)}}]),t}(d.Container);t.default=u},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=r(1),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(s),l=r(187),u=n(l),p=r(188),c=n(p),h=r(2),f=function(e){function t(r){a(this,t);var n=o(this,e.call(this,r));return n.shader=null,n.indexBuffer=null,n.properties=null,n.tempMatrix=new d.Matrix,n.CONTEXT_UID=0,n}return i(t,e),t.prototype.onContextChange=function(){var e=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new u.default(e),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]},t.prototype.start=function(){this.renderer.bindShader(this.shader)},t.prototype.render=function(e){var t=e.children,r=e._maxSize,n=e._batchSize,a=this.renderer,o=t.length;if(0!==o){o>r&&(o=r);var s=e._glBuffers[a.CONTEXT_UID];s||(s=e._glBuffers[a.CONTEXT_UID]=this.generateBuffers(e));var l=t[0]._texture.baseTexture;this.renderer.setBlendMode(d.utils.correctBlendMode(e.blendMode,l.premultipliedAlpha));var u=a.gl,p=e.worldTransform.copy(this.tempMatrix);p.prepend(a._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=p.toArray(!0),this.shader.uniforms.uColor=d.utils.premultiplyRgba(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,l.premultipliedAlpha),this.shader.uniforms.uSampler=a.bindTexture(l);for(var c=!1,h=0,i=0,f;h<o;h+=n,i+=1){if(f=o-h,f>n&&(f=n),i>=s.length){if(!e.autoResize)break;s.push(this._generateOneMoreBuffer(e))}var y=s[i];y.uploadDynamic(t,h,f);var m=e._bufferUpdateIDs[i]||0;c=c||y._updateID<m,c&&(y._updateID=e._updateID,y.uploadStatic(t,h,f)),a.bindVao(y.vao),y.vao.draw(u.TRIANGLES,6*f)}}},t.prototype.generateBuffers=function(e){for(var t=this.renderer.gl,r=[],n=e._maxSize,a=e._batchSize,o=e._properties,s=0;s<n;s+=a)r.push(new c.default(t,this.properties,o,a));return r},t.prototype._generateOneMoreBuffer=function(e){var t=this.renderer.gl,r=e._batchSize,n=e._properties;return new c.default(t,this.properties,n,r)},t.prototype.uploadVertices=function(e,t,r,n,a,o){for(var s=0,d=0,l=0,u=0,p=0;p<r;++p){var i=e[t+p],c=i._texture,h=i.scale.x,f=i.scale.y,y=c.trim,m=c.orig;y?(d=y.x-i.anchor.x*m.width,s=d+y.width,u=y.y-i.anchor.y*m.height,l=u+y.height):(s=m.width*(1-i.anchor.x),d=m.width*-i.anchor.x,l=m.height*(1-i.anchor.y),u=m.height*-i.anchor.y),n[o]=d*h,n[o+1]=u*f,n[o+a]=s*h,n[o+a+1]=u*f,n[o+2*a]=s*h,n[o+2*a+1]=l*f,n[o+3*a]=d*h,n[o+3*a+1]=l*f,o+=4*a}},t.prototype.uploadPosition=function(e,t,r,n,a,o){for(var s=0,i;s<r;s++)i=e[t+s].position,n[o]=i.x,n[o+1]=i.y,n[o+a]=i.x,n[o+a+1]=i.y,n[o+2*a]=i.x,n[o+2*a+1]=i.y,n[o+3*a]=i.x,n[o+3*a+1]=i.y,o+=4*a},t.prototype.uploadRotation=function(e,t,r,n,a,o){for(var s=0,i;s<r;s++)i=e[t+s].rotation,n[o]=i,n[o+a]=i,n[o+2*a]=i,n[o+3*a]=i,o+=4*a},t.prototype.uploadUvs=function(e,t,r,n,a,o){for(var s=0,i;s<r;++s)i=e[t+s]._texture._uvs,i?(n[o]=i.x0,n[o+1]=i.y0,n[o+a]=i.x1,n[o+a+1]=i.y1,n[o+2*a]=i.x2,n[o+2*a+1]=i.y2,n[o+3*a]=i.x3,n[o+3*a+1]=i.y3,o+=4*a):(n[o]=0,n[o+1]=0,n[o+a]=0,n[o+a+1]=0,n[o+2*a]=0,n[o+2*a+1]=0,n[o+3*a]=0,n[o+3*a+1]=0,o+=4*a)},t.prototype.uploadTint=function(e,t,r,n,a,o){for(var s=0;s<r;++s){var i=e[t+s],d=i._texture.baseTexture.premultipliedAlpha,l=i.alpha,u=1>l&&d?(0,h.premultiplyTint)(i._tintRGB,l):i._tintRGB+(255*l<<24);n[o]=u,n[o+a]=u,n[o+2*a]=u,n[o+3*a]=u,o+=4*a}},t.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),e.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},t}(d.ObjectRenderer);t.default=f,d.WebGLRenderer.registerPlugin('particle',f)},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=r(14),s=function(e){return e&&e.__esModule?e:{default:e}}(i),d=function(e){function t(r){return n(this,t),a(this,e.call(this,r,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute vec2 aPositionCoord;\nattribute float aRotation;\nuniform mat3 projectionMatrix;\nuniform vec4 uColor;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvoid main(void){\n   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n   vec2 v = vec2(x, y);\n   v = v + aPositionCoord;\n   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = aColor * uColor;\n}','varying vec2 vTextureCoord;\nvarying vec4 vColor;\nuniform sampler2D uSampler;\nvoid main(void){\n  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n  gl_FragColor = color;\n}'))}return o(t,e),t}(s.default);t.default=d},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var o=r(6),s=n(o),i=r(36),d=n(i),l=function(){function e(t,r,n,o){a(this,e),this.gl=t,this.size=o,this.dynamicProperties=[],this.staticProperties=[];for(var s=0,i;s<r.length;++s)i=r[s],i={attribute:i.attribute,size:i.size,uploadFunction:i.uploadFunction,unsignedByte:i.unsignedByte,offset:i.offset},n[s]?this.dynamicProperties.push(i):this.staticProperties.push(i);this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return e.prototype.initBuffers=function(){var e=this.gl,t=0;this.indices=(0,d.default)(this.size),this.indexBuffer=s.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.dynamicStride=0;for(var r=0,n;r<this.dynamicProperties.length;++r)n=this.dynamicProperties[r],n.offset=t,t+=n.size,this.dynamicStride+=n.size;var a=new ArrayBuffer(4*(4*(this.size*this.dynamicStride)));this.dynamicData=new Float32Array(a),this.dynamicDataUint32=new Uint32Array(a),this.dynamicBuffer=s.default.GLBuffer.createVertexBuffer(e,a,e.STREAM_DRAW);var o=0;this.staticStride=0;for(var i=0,l;i<this.staticProperties.length;++i)l=this.staticProperties[i],l.offset=o,o+=l.size,this.staticStride+=l.size;var u=new ArrayBuffer(4*(4*(this.size*this.staticStride)));this.staticData=new Float32Array(u),this.staticDataUint32=new Uint32Array(u),this.staticBuffer=s.default.GLBuffer.createVertexBuffer(e,u,e.STATIC_DRAW),this.vao=new s.default.VertexArrayObject(e).addIndex(this.indexBuffer);for(var p=0,c;p<this.dynamicProperties.length;++p)c=this.dynamicProperties[p],c.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,c.attribute,e.UNSIGNED_BYTE,!0,4*this.dynamicStride,4*c.offset):this.vao.addAttribute(this.dynamicBuffer,c.attribute,e.FLOAT,!1,4*this.dynamicStride,4*c.offset);for(var h=0,f;h<this.staticProperties.length;++h)f=this.staticProperties[h],f.unsignedByte?this.vao.addAttribute(this.staticBuffer,f.attribute,e.UNSIGNED_BYTE,!0,4*this.staticStride,4*f.offset):this.vao.addAttribute(this.staticBuffer,f.attribute,e.FLOAT,!1,4*this.staticStride,4*f.offset)},e.prototype.uploadDynamic=function(e,t,r){for(var n=0,a;n<this.dynamicProperties.length;n++)a=this.dynamicProperties[n],a.uploadFunction(e,t,r,a.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,a.offset);this.dynamicBuffer.upload()},e.prototype.uploadStatic=function(e,t,r){for(var n=0,a;n<this.staticProperties.length;n++)a=this.staticProperties[n],a.uploadFunction(e,t,r,a.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,a.offset);this.staticBuffer.upload()},e.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null},e}();t.default=l},function(e,t,r){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=r(190);Object.defineProperty(t,'webgl',{enumerable:!0,get:function(){return n(a).default}});var o=r(191);Object.defineProperty(t,'canvas',{enumerable:!0,get:function(){return n(o).default}});var i=r(38);Object.defineProperty(t,'BasePrepare',{enumerable:!0,get:function(){return n(i).default}});var s=r(89);Object.defineProperty(t,'CountLimiter',{enumerable:!0,get:function(){return n(s).default}});var d=r(192);Object.defineProperty(t,'TimeLimiter',{enumerable:!0,get:function(){return n(d).default}})},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return!!(t instanceof u.BaseTexture)&&(t._glTextures[e.CONTEXT_UID]||e.textureManager.updateTexture(t),!0)}function s(e,t){return!!(t instanceof u.Graphics)&&((t.dirty||t.clearDirty||!t._webGL[e.plugins.graphics.CONTEXT_UID])&&e.plugins.graphics.updateGraphics(t),!0)}function d(e,t){return!!(e instanceof u.Graphics)&&(t.push(e),!0)}t.__esModule=!0;var l=r(1),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(l),p=r(38),c=function(e){return e&&e.__esModule?e:{default:e}}(p),h=function(e){function t(r){n(this,t);var o=a(this,e.call(this,r));return o.uploadHookHelper=o.renderer,o.registerFindHook(d),o.registerUploadHook(i),o.registerUploadHook(s),o}return o(t,e),t}(c.default);t.default=h,u.WebGLRenderer.registerPlugin('prepare',h)},function(e,t,r){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function o(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(t instanceof l.BaseTexture){var r=t.source,n=0===r.width?e.canvas.width:s(e.canvas.width,r.width),a=0===r.height?e.canvas.height:s(e.canvas.height,r.height);return e.ctx.drawImage(r,0,0,n,a,0,0,e.canvas.width,e.canvas.height),!0}return!1}var s=Math.min;t.__esModule=!0;var d=r(1),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(d),u=r(38),p=function(e){return e&&e.__esModule?e:{default:e}}(u),c=16,h=function(e){function t(r){n(this,t);var o=a(this,e.call(this,r));return o.uploadHookHelper=o,o.canvas=document.createElement('canvas'),o.canvas.width=c,o.canvas.height=c,o.ctx=o.canvas.getContext('2d'),o.registerUploadHook(i),o}return o(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this),this.ctx=null,this.canvas=null},t}(p.default);t.default=h,l.CanvasRenderer.registerPlugin('prepare',h)},function(e,t){'use strict';function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}t.__esModule=!0;var n=function(){function e(t){r(this,e),this.maxMilliseconds=t,this.frameStart=0}return e.prototype.beginFrame=function(){this.frameStart=Date.now()},e.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},e}();t.default=n},function(e,t,r){'use strict';function n(e,t){function r(){this.constructor=e}oe(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function a(r,n){var e={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&0>n.indexOf(t)&&(e[t]=r[t]);if(null!=r&&'function'==typeof Object.getOwnPropertySymbols)for(var a=0,t=Object.getOwnPropertySymbols(r);a<t.length;a++)0>n.indexOf(t[a])&&(e[t[a]]=r[t[a]]);return e}function o(e){if(e.constructor!==Array)throw new TypeError('Expected array.');if(16===e.length)return e;if(6===e.length){var t=i();return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}throw new RangeError('Expected array with either 6 or 16 values.')}function i(){for(var e=[],t=0;16>t;t++)0==t%5?e.push(1):e.push(0);return e}function s(e,t){for(var r=o(e),n=o(t),a=[],s=0,i;4>s;s++){i=[r[s],r[s+4],r[s+8],r[s+12]];for(var d=0;4>d;d++){var l=4*d,u=[n[l],n[l+1],n[l+2],n[l+3]],p=i[0]*u[0]+i[1]*u[1]+i[2]*u[2]+i[3]*u[3];a[s+l]=p}}return a}function d(e){if('string'==typeof e){var t=e.match(/matrix(3d)?\(([^)]+)\)/);if(t){var r=t[2].split(', ').map(parseFloat);return o(r)}}return i()}function l(e){var t=ne/180*e,r=i();return r[5]=r[10]=Z(t),r[6]=r[9]=J(t),r[9]*=-1,r}function u(e){var t=ne/180*e,r=i();return r[0]=r[10]=Z(t),r[2]=r[8]=J(t),r[2]*=-1,r}function p(e){var t=ne/180*e,r=i();return r[0]=r[5]=Z(t),r[1]=r[4]=J(t),r[4]*=-1,r}function h(e,t){var r=i();return r[0]=e,r[5]='number'==typeof t?t:e,r}function f(e){var t=i();return t[12]=e,t}function y(e){var t=i();return t[13]=e,t}function m(e){return null!==e&&e instanceof Object&&(e.constructor===Object||'[object Object]'===Object.prototype.toString.call(e))}function _(e,t){if(m(e)){var r=Object.keys(e);return r.forEach(function(r){return t(e[r],r,e)})}if(e instanceof Array)return e.forEach(function(r,n){return t(r,n,e)});throw new TypeError('Expected either an array or object literal.')}function x(e){for(var t=[],r=arguments.length-1;0<r--;)t[r]=arguments[r+1];if(this.constructor.debug&&console){var n='%cScrollReveal: '+e;t.forEach(function(e){return n+='\n \u2014 '+e}),console.log(n,'color: #ea654b;')}}function b(){var e=this,t=function(){return{active:[],stale:[]}},r=t(),n=t(),a=t();try{_(ma('[data-sr-id]'),function(e){var t=parseInt(e.getAttribute('data-sr-id'));r.active.push(t)})}catch(t){throw t}_(this.store.elements,function(e){-1===r.active.indexOf(e.id)&&r.stale.push(e.id)}),_(r.stale,function(t){return delete e.store.elements[t]}),_(this.store.elements,function(e){-1===a.active.indexOf(e.containerId)&&a.active.push(e.containerId),e.hasOwnProperty('sequence')&&-1===n.active.indexOf(e.sequence.id)&&n.active.push(e.sequence.id)}),_(this.store.containers,function(e){-1===a.active.indexOf(e.id)&&a.stale.push(e.id)}),_(a.stale,function(t){var r=e.store.containers[t].node;r.removeEventListener('scroll',e.delegate),r.removeEventListener('resize',e.delegate),delete e.store.containers[t]}),_(this.store.sequences,function(e){-1===n.active.indexOf(e.id)&&n.stale.push(e.id)}),_(n.stale,function(t){return delete e.store.sequences[t]})}function v(e){var t=this,r;try{_(ma(e),function(e){var n=e.getAttribute('data-sr-id');if(null!==n){r=!0;var a=t.store.elements[n];a.callbackTimer&&window.clearTimeout(a.callbackTimer.clock),e.setAttribute('style',a.styles.inline.generated),e.removeAttribute('data-sr-id'),delete t.store.elements[n]}})}catch(t){return x.call(this,'Clean failed.',t.message)}if(r)try{b.call(this)}catch(t){return x.call(this,'Clean failed.',t.message)}}function T(){var e=this;_(this.store.elements,function(e){e.node.setAttribute('style',e.styles.inline.generated),e.node.removeAttribute('data-sr-id')}),_(this.store.containers,function(t){var r=t.node===document.documentElement?window:t.node;r.removeEventListener('scroll',e.delegate),r.removeEventListener('resize',e.delegate)}),this.store={containers:{},elements:{},history:[],sequences:{}}}function E(e){var t=window.getComputedStyle(e.node),r=t.position,n=e.config,a={},o=e.node.getAttribute('style')||'',i=o.match(/[\w-]+\s*:\s*[^;]+\s*/gi)||[];a.computed=i?i.map(function(e){return e.trim()}).join('; ')+';':'',a.generated=i.some(function(e){return e.match(/visibility\s?:\s?visible/i)})?a.computed:i.concat(['visibility: visible']).map(function(e){return e.trim()}).join('; ')+';';var c=parseFloat(t.opacity),m=isNaN(parseFloat(n.opacity))?parseFloat(t.opacity):parseFloat(n.opacity),_={computed:c===m?'':'opacity: '+c+';',generated:c===m?'':'opacity: '+m+';'},x=[];if(parseFloat(n.distance)){var b='top'===n.origin||'bottom'===n.origin?'Y':'X',v=n.distance;('top'===n.origin||'left'===n.origin)&&(v=/^-/.test(v)?v.substr(1):'-'+v);var T=v.match(/(^-?\d+\.?\d?)|(em$|px$|%$)/g),E=T[0],S=T[1];switch(S){case'em':v=parseInt(t.fontSize)*E;break;case'px':v=E;break;case'%':v='Y'==b?e.node.getBoundingClientRect().height*E/100:e.node.getBoundingClientRect().width*E/100;break;default:throw new RangeError('Unrecognized or missing distance unit.');}'Y'==b?x.push(y(v)):x.push(f(v))}n.rotate.x&&x.push(l(n.rotate.x)),n.rotate.y&&x.push(u(n.rotate.y)),n.rotate.z&&x.push(p(n.rotate.z)),1!==n.scale&&(0===n.scale?x.push(h(2e-4)):x.push(h(n.scale)));var C={};if(x.length){C.property=Ea('transform'),C.computed={raw:t[C.property],matrix:d(t[C.property])},x.unshift(C.computed.matrix);var P=x.reduce(s);C.generated={initial:C.property+': matrix3d('+P.join(', ')+');',final:C.property+': matrix3d('+C.computed.matrix.join(', ')+');'}}else C.generated={initial:'',final:''};var A={};if(_.generated||C.generated.initial){A.property=Ea('transition'),A.computed=t[A.property],A.fragments=[];var M=n.delay,w=n.duration,O=n.easing;_.generated&&A.fragments.push({delayed:'opacity '+w/1e3+'s '+O+' '+M/1e3+'s',instant:'opacity '+w/1e3+'s '+O+' 0s'}),C.generated.initial&&A.fragments.push({delayed:C.property+' '+w/1e3+'s '+O+' '+M/1e3+'s',instant:C.property+' '+w/1e3+'s '+O+' 0s'}),A.computed&&!A.computed.match(/all 0s/)&&A.fragments.unshift({delayed:A.computed,instant:A.computed});var D=A.fragments.reduce(function(e,t,r){return e.delayed+=0===r?t.delayed:', '+t.delayed,e.instant+=0===r?t.instant:', '+t.instant,e},{delayed:'',instant:''});A.generated={delayed:A.property+': '+D.delayed+';',instant:A.property+': '+D.instant+';'}}else A.generated={delayed:'',instant:''};return{inline:a,opacity:_,position:r,transform:C,transition:A}}function S(e,t){void 0===t&&(t={});var r=t.pristine||this.pristine,n='always'===e.config.useDelay||'onload'===e.config.useDelay&&r||'once'===e.config.useDelay&&!e.seen,a=e.visible&&!e.revealed,o=!e.visible&&e.revealed&&e.config.reset;return t.reveal||a?C.call(this,e,n):t.reset||o?P.call(this,e):void 0}function C(e,t){var r=[e.styles.inline.generated,e.styles.opacity.computed,e.styles.transform.generated.final];t?r.push(e.styles.transition.generated.delayed):r.push(e.styles.transition.generated.instant),e.revealed=e.seen=!0,e.node.setAttribute('style',r.filter(function(e){return''!==e}).join(' ')),A.call(this,e,t)}function P(e){var t=[e.styles.inline.generated,e.styles.opacity.generated,e.styles.transform.generated.initial,e.styles.transition.generated.instant];e.revealed=!1,e.node.setAttribute('style',t.filter(function(e){return''!==e}).join(' ')),A.call(this,e)}function A(e,t){var r=this,n=t?e.config.duration+e.config.delay:e.config.duration,a=e.revealed?e.config.beforeReveal:e.config.beforeReset,o=e.revealed?e.config.afterReveal:e.config.afterReset,i=0;e.callbackTimer&&(i=Date.now()-e.callbackTimer.start,window.clearTimeout(e.callbackTimer.clock)),a(e.node),e.callbackTimer={start:Date.now(),clock:window.setTimeout(function(){o(e.node),e.callbackTimer=null,e.revealed&&!e.config.reset&&e.config.cleanup&&v.call(r,e.node)},n-i)}}function M(e,t){if(void 0===t&&(t=this.pristine),!e.visible&&e.revealed&&e.config.reset)return S.call(this,e,{reset:!0});var r=this.store.sequences[e.sequence.id],n=e.sequence.index;if(r){var a=new O(r,'visible',this.store),o=new O(r,'revealed',this.store);if(r.models={visible:a,revealed:o},!o.body.length){var i=r.members[a.body[0]],s=this.store.elements[i];if(s)return D.call(this,r,a.body[0],-1,t),D.call(this,r,a.body[0],1,t),S.call(this,s,{reveal:!0,pristine:t})}if(!r.blocked.head&&n===[].concat(o.head).pop()&&n>=[].concat(a.body).shift())return D.call(this,r,n,-1,t),S.call(this,e,{reveal:!0,pristine:t});if(!r.blocked.foot&&n===[].concat(o.foot).shift()&&n<=[].concat(a.body).pop())return D.call(this,r,n,1,t),S.call(this,e,{reveal:!0,pristine:t})}}function w(e){var t=$(e);if(!isNaN(t))this.id=Sa(),this.interval=K(t,16),this.members=[],this.models={},this.blocked={head:!1,foot:!1};else throw new RangeError('Invalid sequence interval.')}function O(e,t,r){var n=this;this.head=[],this.body=[],this.foot=[],_(e.members,function(e,a){var o=r.elements[e];o&&o[t]&&n.body.push(a)}),this.body.length&&_(e.members,function(e,a){var o=r.elements[e];o&&!o[t]&&(a<n.body[0]?n.head.push(a):n.foot.push(a))})}function D(e,t,r,n){var a=this,o=['head',null,'foot'][1+r],i=e.members[t+r],s=this.store.elements[i];e.blocked[o]=!0,setTimeout(function(){e.blocked[o]=!1,s&&M.call(a,s,n)},e.interval)}function R(){var e=this;b.call(this),_(this.store.elements,function(e){var t=[e.styles.inline.generated];e.visible?(t.push(e.styles.opacity.computed),t.push(e.styles.transform.generated.final),e.revealed=!0):(t.push(e.styles.opacity.generated),t.push(e.styles.transform.generated.initial),e.revealed=!1),e.node.setAttribute('style',t.filter(function(e){return''!==e}).join(' '))}),_(this.store.containers,function(t){var r=t.node===document.documentElement?window:t.node;r.addEventListener('scroll',e.delegate),r.addEventListener('resize',e.delegate)}),this.delegate(),this.initTimeout=null}function I(e){return void 0===e&&(e=navigator.userAgent),/Android|iPhone|iPad|iPod/i.test(e)}function k(e){for(var t=[],r=arguments.length-1;0<r--;)t[r]=arguments[r+1];if(m(e))return _(t,function(t){_(t,function(t,r){m(t)?((!e[r]||!m(e[r]))&&(e[r]={}),k(e[r],t)):e[r]=t})}),e;throw new TypeError('Target must be an object literal.')}function L(e,t,r){var n=this;void 0===t&&(t={}),void 0===r&&(r=!1);var a=[],o=t.interval||va.interval,i;try{o&&(i=new w(o));var s=ma(e);if(!s.length)throw new Error('Invalid reveal target.');var d=s.reduce(function(e,r){var o={},s=r.getAttribute('data-sr-id');s?(k(o,n.store.elements[s]),o.node.setAttribute('style',o.styles.inline.computed)):(o.id=Sa(),o.node=r,o.seen=!1,o.revealed=!1,o.visible=!1);var d=k({},o.config||n.defaults,t);if(!d.mobile&&I()||!d.desktop&&!I())return s&&v.call(n,o),e;var l=ma(d.container)[0];if(!l)throw new Error('Invalid container.');if(!l.contains(r))return e;var u;return u=F(l,a,n.store.containers),null===u&&(u=Sa(),a.push({id:u,node:l})),o.config=d,o.containerId=u,o.styles=E(o),i&&(o.sequence={id:i.id,index:i.members.length},i.members.push(o.id)),e.push(o),e},[]);_(d,function(e){n.store.elements[e.id]=e,e.node.setAttribute('data-sr-id',e.id)})}catch(t){return x.call(this,'Reveal failed.',t.message)}_(a,function(e){n.store.containers[e.id]={id:e.id,node:e.node}}),i&&(this.store.sequences[i.id]=i),!0!==r&&(this.store.history.push({target:e,options:t}),this.initTimeout&&window.clearTimeout(this.initTimeout),this.initTimeout=window.setTimeout(R.bind(this),0))}function F(e){for(var t=[],r=arguments.length-1;0<r--;)t[r]=arguments[r+1];var n=null;return _(t,function(t){_(t,function(t){null===n&&t.node===e&&(n=t.id)})}),n}function N(){var e=this;_(this.store.history,function(t){L.call(e,t.target,t.options,!0)}),R.call(this)}function B(e,t){var r=t?e.node.clientHeight:e.node.offsetHeight,n=t?e.node.clientWidth:e.node.offsetWidth,a=0,o=0,i=e.node;do isNaN(i.offsetTop)||(a+=i.offsetTop),isNaN(i.offsetLeft)||(o+=i.offsetLeft),i=i.offsetParent;while(i);return{bounds:{top:a,right:o+n,bottom:a+r,left:o},height:r,width:n}}function U(e){var t,r;return e.node===document.documentElement?(t=window.pageYOffset,r=window.pageXOffset):(t=e.node.scrollTop,r=e.node.scrollLeft),{top:t,left:r}}function X(e){void 0===e&&(e={});var t=this.store.containers[e.containerId];if(t){var r=K(0,te(1,e.config.viewFactor)),n=e.config.viewOffset,a={top:e.geometry.bounds.top+e.geometry.height*r,right:e.geometry.bounds.right-e.geometry.width*r,bottom:e.geometry.bounds.bottom-e.geometry.height*r,left:e.geometry.bounds.left+e.geometry.width*r},o={top:t.geometry.bounds.top+t.scroll.top+n.top,right:t.geometry.bounds.right+t.scroll.left-n.right,bottom:t.geometry.bounds.bottom+t.scroll.top-n.bottom,left:t.geometry.bounds.left+t.scroll.left+n.left};return a.top<o.bottom&&a.right>o.left&&a.bottom>o.top&&a.left<o.right||'fixed'===e.styles.position}}function j(e,t){var r=this;void 0===e&&(e={type:'init'}),void 0===t&&(t=this.store.elements),ba(function(){var n='init'===e.type||'resize'===e.type;_(r.store.containers,function(e){n&&(e.geometry=B.call(r,e,!0));var t=U.call(r,e);e.scroll&&(e.direction={x:Ca(t.left-e.scroll.left),y:Ca(t.top-e.scroll.top)}),e.scroll=t}),_(t,function(e){n&&(e.geometry=B.call(r,e)),e.visible=X.call(r,e)}),_(t,function(e){e.sequence?M.call(r,e):S.call(r,e)}),r.pristine=!1})}function G(){var e=document.documentElement.style;return'transform'in e||'WebkitTransform'in e}function H(){var e=document.documentElement.style;return'transition'in e||'WebkitTransition'in e}function W(e){void 0===e&&(e={});var t='undefined'==typeof this||Object.getPrototypeOf(this)!==W.prototype;if(t)return new W(e);if(!W.isSupported())return x.call(this,'Instantiation failed.','This browser is not supported.'),Ta.failure();var r;try{r=Ra?k({},Ra,e):k({},va,e)}catch(t){return x.call(this,'Invalid configuration.',t.message),Ta.failure()}try{var n=ma(r.container)[0];if(!n)throw new Error('Invalid container.')}catch(t){return x.call(this,t.message),Ta.failure()}return(Ra=r,!Ra.mobile&&I()||!Ra.desktop&&!I())?(x.call(this,'This device is disabled.','desktop: '+Ra.desktop,'mobile: '+Ra.mobile),Ta.failure()):(Ta.success(),this.store={containers:{},elements:{},history:[],sequences:{}},this.pristine=!0,Aa=Aa||j.bind(this),Ma=Ma||T.bind(this),wa=wa||L.bind(this),Oa=Oa||v.bind(this),Da=Da||N.bind(this),Object.defineProperty(this,'delegate',{get:function(){return Aa}}),Object.defineProperty(this,'destroy',{get:function(){return Ma}}),Object.defineProperty(this,'reveal',{get:function(){return wa}}),Object.defineProperty(this,'clean',{get:function(){return Oa}}),Object.defineProperty(this,'sync',{get:function(){return Da}}),Object.defineProperty(this,'defaults',{get:function(){return Ra}}),Object.defineProperty(this,'version',{get:function(){return Pa}}),Object.defineProperty(this,'noop',{get:function(){return!1}}),ka?ka:ka=this)}function V(e='',t=0,r=0){const n=Na.circle(0,0,30),a=Na.text(0,0,e),o=Na.group(n,a);return n.attr({fill:'none',stroke:'#fff',strokeWidth:5}),a.attr({textAnchor:'middle',dominantBaseline:'middle'}),o.transform(new Fa.a.Matrix().translate(t,r)),console.log(o),o}var Y=Math.tan,z=Math.exp,q=Math.floor,K=Math.max,Z=Math.cos,J=Math.sin,Q=Math.pow,$=Math.abs,ee=Math.sqrt,te=Math.min,re=Math.round,ne=Math.PI;r.r(t);var ae=r(90),oe=function(e,t){return oe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},oe(e,t)},ie=function(){return ie=Object.assign||function(e){for(var t=1,r=arguments.length,n;t<r;t++)for(var a in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},ie.apply(this,arguments)};var se=function(){return se=Object.assign||function(e){for(var t=1,r=arguments.length,n;t<r;t++)for(var a in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},se.apply(this,arguments)},de=function(e,t){return function(r){return K(te(r,t),e)}},le=function(e){return function(t){return'string'==typeof t&&0===t.indexOf(e)}},ue=function(e){return e.substring(e.indexOf('(')+1,e.lastIndexOf(')'))},pe=function(e){return'string'==typeof e?e.split(/,\s*/):[e]},ce=function(e){return e%1?+e.toFixed(5):e},he={test:function(e){return'number'==typeof e},parse:parseFloat,transform:function(e){return e}},fe=se({},he,{transform:de(0,1)}),ge=se({},he,{default:1}),ye=function(e){return{test:function(t){return'string'==typeof t&&t.endsWith(e)&&1===t.split(' ').length},parse:parseFloat,transform:function(t){return''+t+e}}},me=ye('deg'),_e=ye('%'),xe=ye('px'),be=ye('vh'),ve=ye('vw'),Te=de(0,255),Ee=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))$/i,Se=function(e){return e.red!==void 0},Ce=function(e){return e.hue!==void 0},Pe=function(e){var t=e.length;return function(r){if('string'!=typeof r)return r;for(var n={},a=pe(ue(r)),o=0;o<t;o++)n[e[o]]=a[o]===void 0?1:parseFloat(a[o]);return n}},Ae=function(e){var t=e.red,r=e.green,n=e.blue,a=e.alpha,o=void 0===a?1:a;return'rgba('+t+', '+r+', '+n+', '+o+')'},Me=function(e){var t=e.hue,r=e.saturation,n=e.lightness,a=e.alpha,o=void 0===a?1:a;return'hsla('+t+', '+r+', '+n+', '+o+')'},we=se({},he,{transform:function(e){return re(Te(e))}}),Oe=le('rgb'),De={test:function(e){return'string'==typeof e?Oe(e):Se(e)},parse:Pe(['red','green','blue','alpha']),transform:function(e){var t=e.red,r=e.green,n=e.blue,a=e.alpha;return Ae({red:we.transform(t),green:we.transform(r),blue:we.transform(n),alpha:ce(a)})}},Re=le('hsl'),Ie={test:function(e){return'string'==typeof e?Re(e):Ce(e)},parse:Pe(['hue','saturation','lightness','alpha']),transform:function(e){var t=e.hue,r=e.saturation,n=e.lightness,a=e.alpha;return Me({hue:re(t),saturation:_e.transform(ce(r)),lightness:_e.transform(ce(n)),alpha:ce(a)})}},ke=se({},De,{test:le('#'),parse:function(e){var t='',r='',n='';return 4<e.length?(t=e.substr(1,2),r=e.substr(3,2),n=e.substr(5,2)):(t=e.substr(1,1),r=e.substr(2,1),n=e.substr(3,1),t+=t,r+=r,n+=n),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:1}}}),Le={test:function(e){return'string'==typeof e&&Ee.test(e)||De.test(e)||Ie.test(e)||ke.test(e)},parse:function(e){if(De.test(e))return De.parse(e);return Ie.test(e)?Ie.parse(e):ke.test(e)?ke.parse(e):e},transform:function(e){if(Se(e))return De.transform(e);return Ce(e)?Ie.transform(e):e}},Fe=/(-)?(\d[\d\.]*)/g,Ne=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Be='${c}',Ue='${n}',Xe={test:function(e){if('string'!=typeof e||!isNaN(e))return!1;var t=0,r=e.match(Fe),n=e.match(Ne);return r&&(t+=r.length),n&&(t+=n.length),0<t},parse:function(e){var t=e,r=[],n=t.match(Ne);n&&(t=t.replace(Ne,Be),r.push.apply(r,n.map(Le.parse)));var a=t.match(Fe);return a&&r.push.apply(r,a.map(he.parse)),r},createTransformer:function(e){var t=e,r=0,n=e.match(Ne),a=n?n.length:0;if(n)for(var o=0;o<a;o++)t=t.replace(n[o],Be),r++;var i=t.match(Fe),s=i?i.length:0;if(i)for(var o=0;o<s;o++)t=t.replace(i[o],Ue),r++;return function(e){for(var n=t,o=0;o<r;o++)n=n.replace(o<a?Be:Ue,o<a?Le.transform(e[o]):ce(e[o]));return n}}},je=function(){},Ge=function(){};var He=0,We='undefined'!=typeof window&&window.requestAnimationFrame!==void 0?function(e){return window.requestAnimationFrame(e)}:function(e){var t=Date.now(),r=K(0,16.7-(t-He));He=t+r,setTimeout(function(){return e(He)},r)},Ve=function(e){var t=[],r=[],n=0,a=!1,o=0,i=new WeakSet,s=new WeakSet,d={cancel:function(e){var t=r.indexOf(e);i.add(e),-1!==t&&r.splice(t,1)},process:function(l){var u;if(a=!0,u=[r,t],t=u[0],r=u[1],r.length=0,n=t.length,n){var p;for(o=0;o<n;o++)p=t[o],p(l),!0!==s.has(p)||i.has(p)||(d.schedule(p),e(!0))}a=!1},schedule:function(e,o,i){Ge('function'==typeof e,'Argument must be a function');var d=i&&a,l=d?t:r;o&&s.add(e),-1===l.indexOf(e)&&(l.push(e),d&&(n=t.length))}};return d},Ye;(function(e){e.Read='read',e.Update='update',e.Render='render',e.PostRender='postRender',e.FixedUpdate='fixedUpdate'})(Ye||(Ye={}));var ze=1e3*(1/60),qe=!0,Ke=!1,Ze=!1,Je={delta:0,timestamp:0},Qe=[Ye.Read,Ye.Update,Ye.Render,Ye.PostRender],$e=function(e){return Ke=e},et=Qe.reduce(function(e,t){var r=Ve($e);return e.sync[t]=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=!1),Ke||it(),r.schedule(e,t,n),e},e.cancelSync[t]=function(e){return r.cancel(e)},e.steps[t]=r,e},{steps:{},sync:{},cancelSync:{}}),tt=et.steps,rt=et.sync,nt=et.cancelSync,at=function(e){return tt[e].process(Je)},ot=function(e){Ke=!1,Je.delta=qe?ze:K(te(e-Je.timestamp,40),1),qe||(ze=Je.delta),Je.timestamp=e,Ze=!0,Qe.forEach(at),Ze=!1,Ke&&(qe=!1,We(ot))},it=function(){Ke=!0,qe=!0,Ze||We(ot)},st=function(){return Je},dt=rt,lt=1.525,ut=function(e){return function(t){return 1-e(1-t)}},pt=function(e){return function(t){return .5>=t?e(2*t)/2:(2-e(2*(1-t)))/2}},ct=function(e){return function(t){return t*t*((e+1)*t-e)}},ht=function(e){return e},ft=function(e){return function(t){return Q(t,e)}}(2),gt=ut(ft),yt=pt(ft),mt=ut(function(e){return 1-J(Math.acos(e))}),_t=pt(mt),xt=ct(lt),bt=ut(xt),vt=pt(xt),Tt=function(e){var t=ct(e);return function(e){return 1>(e*=2)?.5*t(e):.5*(2-Q(2,-10*(e-1)))}}(lt),Et=11,St=1/(Et-1),Ct='undefined'!=typeof Float32Array,Pt=function(e,t){return 1-3*t+3*e},At=function(e,t){return 3*t-6*e},Mt=function(e){return 3*e},c=function(e,t,r){return 3*Pt(t,r)*e*e+2*At(t,r)*e+Mt(t)},wt=function(e,t,r){return((Pt(t,r)*e+At(t,r))*e+Mt(t))*e},Ot={x:0,y:0,z:0},Dt=function(e){return'number'==typeof e},Rt=function(e){return 180*e/ne},It=function(e,t){return void 0===t&&(t=Ot),Rt(Math.atan2(t.y-e.y,t.x-e.x))},kt=function(e,t){var r=!0;return void 0===t&&(t=e,r=!1),function(n){return r?n-e+t:(e=n,r=!0,t)}},Lt=function(e){return function(t,r,n){return n===void 0?function(n){return e(t,r,n)}:e(t,r,n)}},Ft=Lt(function(e,t,r){return te(K(r,e),t)}),Nt=function(e){return e*ne/180},Bt=function(e){return e.hasOwnProperty('x')&&e.hasOwnProperty('y')},Ut=function(e){return Bt(e)&&e.hasOwnProperty('z')},Xt=function(e,t){return $(e-t)},jt=function(e,t){if(void 0===t&&(t=Ot),Dt(e)&&Dt(t))return Xt(e,t);if(Bt(e)&&Bt(t)){var r=Xt(e.x,t.x),n=Xt(e.y,t.y),a=Ut(e)&&Ut(t)?Xt(e.z,t.z):0;return ee(Q(r,2)+Q(n,2)+Q(a,2))}return 0},Gt=function(e,t,r){var n=t-e;return 0==n?1:(r-e)/n},Ht=function(e,t,r){return-r*e+r*t+e},Wt=function(){return Wt=Object.assign||function(e){for(var t=1,r=arguments.length,n;t<r;t++)for(var a in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Wt.apply(this,arguments)},Vt=function(e,t,r){var n=e*e;return ee(r*(t*t-n)+n)},Yt=[ke,De,Ie],zt=function(e){return Yt.find(function(t){return t.test(e)})},qt=function(e,t){var r=zt(e),n=zt(t);Ge(r.transform===n.transform,'Both colors must be Hex and/or RGBA, or both must be HSLA');var a=r.parse(e),o=n.parse(t),i=Wt({},a),s=r===Ie?Ht:Vt;return function(e){for(var t in i)'alpha'!==t&&(i[t]=s(a[t],o[t],e));return i.alpha=Ht(a.alpha,o.alpha,e),r.transform(i)}},Kt=function(e,t){return function(r){return t(e(r))}},Zt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce(Kt)},Jt=function(e,t){var r=e.slice(),n=r.length,a=e.map(function(e,r){var n=t[r];return Dt(e)?function(t){return Ht(e,n,t)}:Le.test(e)?qt(e,n):Qt(e,n)});return function(e){for(var t=0;t<n;t++)r[t]=a[t](e);return r}},Qt=function(e,t){var r=Xe.createTransformer(e);return Ge(r(e)===Xe.createTransformer(t)(e),'Values \''+e+'\' and \''+t+'\' are of different format, or a value might have changed value type.'),Zt(Jt(Xe.parse(e),Xe.parse(t)),r)},$t=Lt(Ht),er=function(e){return'number'==typeof e?$t:Le.test(e)?qt:Qt},tr=function(e,t,r,n){var a=r-1;e[0]>e[a]&&(e.reverse(),t.reverse());var o=Array(a).fill(er(t[0])),s=o.map(function(e,r){return e(t[r],t[r+1])});return function(o){if(o<=e[0])return t[0];if(o>=e[a])return t[a];for(var d=1;d<r&&!(e[d]>o||d===a);d++);var i=Gt(e[d-1],e[d],o),l=n?n[d-1](i):i;return s[d-1](l)}},rr=function(e,t,r,n){return function(a){return(a-e)*(n-r)/(t-e)+r}},nr=function(e,t){return void 0===t&&(t=2),t=Q(10,t),re(e*t)/t},ar=function(e,t,r,n){return void 0===n&&(n=0),nr(e+r*(t-e)/K(n,r))},or=function(e){return e},ir=function(e){return void 0===e&&(e=or),Lt(function(t,r,n){var a=r-n,o=-(0-t+1)*(0-e($(a)));return 0>=a?r+o:r-o})},sr=ir(),dr=ir(Math.sqrt),lr=function(e,t){return Dt(e)?e/(1e3/t):0},ur=function(e,t){return t?e*(1e3/t):0},pr=Lt(function(e,t,r){var n=t-e;return((r-e)%n+n)%n+e}),cr=Ft(0,1),hr=function(){return hr=Object.assign||function(e){for(var t=1,r=arguments.length,n;t<r;t++)for(var a in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},hr.apply(this,arguments)},fr=function(e){var t=e.onRead,r=e.onRender,n=e.uncachedValues,a=void 0===n?new Set:n,o=e.useCache;return function(e){function n(t){return void 0===t&&(t=!1),(!0===t||d)&&(r(i,e,s),d=!1,s.length=0),this}var i={},s=[],d=!1,l=function(e,t){var r=i[e];i[e]=t,i[e]!==r&&(-1===s.indexOf(e)&&s.push(e),!d&&(d=!0,dt.render(n)))};return{get:function(r){return r?(!(void 0!==o)||o)&&!a.has(r)&&i[r]!==void 0?i[r]:t(r,e):i},set:function(e,t){if(!('string'==typeof e))for(var r in e)e.hasOwnProperty(r)&&l(r,e[r]);else if(void 0!==t)l(e,t);else return function(t){return l(e,t)};return this},render:n}}},gr=/([a-z])([A-Z])/g,yr=function(e){return e.replace(gr,'$1-$2').toLowerCase()},mr=function(e,t){for(var r in t)t.hasOwnProperty(r)&&e.setAttribute(r,t[r])},_r=new Map,xr=new Map,br=['Webkit','Moz','O','ms',''],vr=br.length,Tr='undefined'!=typeof document,Er=function(e,t){return xr.set(e,yr(t))},Sr=function(e){ta=ta||document.createElement('div');for(var t=0;t<vr;t++){var r=br[t],n=''===r,a=n?e:r+e.charAt(0).toUpperCase()+e.slice(1);(a in ta.style||n)&&(_r.set(e,a),Er(e,''+(n?'':'-')+yr(a)))}},Cr=function(e){return Er(e,e)},Pr=function(e,t){void 0===t&&(t=!1);var r=t?xr:_r;return r.has(e)||(Tr?Sr(e):Cr(e)),r.get(e)||e},Ar=['','X','Y','Z'],Mr=['scale','rotate','skew','transformPerspective'].reduce(function(e,t){return Ar.reduce(function(e,r){return e.push(t+r),e},e)},['x','y','z']),wr=Mr.reduce(function(e,t){return e[t]=!0,e},{}),Or=function(e){return!0===wr[e]},Dr=function(e,t){return Mr.indexOf(e)-Mr.indexOf(t)},Rr=function(e){return'originX'===e||'originY'===e},Ir={color:Le,backgroundColor:Le,outlineColor:Le,fill:Le,stroke:Le,borderColor:Le,borderTopColor:Le,borderRightColor:Le,borderBottomColor:Le,borderLeftColor:Le,borderWidth:xe,borderTopWidth:xe,borderRightWidth:xe,borderBottomWidth:xe,borderLeftWidth:xe,borderRadius:xe,borderTopLeftRadius:xe,borderTopRightRadius:xe,borderBottomRightRadius:xe,borderBottomLeftRadius:xe,width:xe,maxWidth:xe,height:xe,maxHeight:xe,top:xe,right:xe,bottom:xe,left:xe,padding:xe,paddingTop:xe,paddingRight:xe,paddingBottom:xe,paddingLeft:xe,margin:xe,marginTop:xe,marginRight:xe,marginBottom:xe,marginLeft:xe,rotate:me,rotateX:me,rotateY:me,rotateZ:me,scale:ge,scaleX:ge,scaleY:ge,scaleZ:ge,skew:me,skewX:me,skewY:me,distance:xe,x:xe,y:xe,z:xe,perspective:xe,opacity:fe,originX:_e,originY:_e,originZ:xe},kr=function(e){return Ir[e]},Lr='scrollLeft',Fr='scrollTop',Nr=new Set([Lr,Fr]),Br=new Set([Lr,Fr,'transform']),Ur={x:'translateX',y:'translateY',z:'translateZ'},Xr=function(e){return'function'==typeof e},jr=function(e,t,r,n,a,o){void 0===t&&(t=!0),void 0===r&&(r={}),void 0===n&&(n={}),void 0===a&&(a={}),void 0===o&&(o=[]);var s=!0,d=!1,l=!1;for(var u in e){var p=e[u],c=kr(u),h='number'==typeof p&&c?c.transform(p):p;Or(u)?(d=!0,n[u]=h,o.push(u),s&&(c.default&&p!==c.default||!c.default&&0!==p)&&(s=!1)):Rr(u)?(a[u]=h,l=!0):(!Br.has(u)||!Xr(h))&&(r[Pr(u,!0)]=h)}if(!s){var f='';if(Xr(e.transform))f=e.transform(n);else{var y=!1;o.sort(Dr);for(var m=o.length,_=0,u;_<m;_++)u=o[_],f+=(Ur[u]||u)+'('+n[u]+') ',y='z'==u||y;!y&&t&&(f+='translateZ(0)')}r.transform=f}else d&&(r.transform='none');return l&&(r.transformOrigin=(a.originX||0)+' '+(a.originY||0)+' '+(a.originZ||0)),r},Gr=function(e){void 0===e&&(e=!0);var t={},r={},n={},a=[];return function(o){return a.length=0,jr(o,e,t,r,n,a),t}},Hr=fr({onRead:function(e,t){var r=t.element,n=t.preparseOutput,a=kr(e);if(Or(e))return a?a.default||0:0;if(Nr.has(e))return r[e];var o=window.getComputedStyle(r,null).getPropertyValue(Pr(e,!0))||0;return n&&a&&a.parse?a.parse(o):o},onRender:function(e,t,r){var n=t.element,a=t.buildStyles;Object.assign(n.style,a(e)),-1!==r.indexOf(Lr)&&(n.scrollLeft=e.scrollLeft),-1!==r.indexOf(Fr)&&(n.scrollTop=e.scrollTop)},uncachedValues:Nr}),Wr=function(e,t){return Hr(hr({element:e,buildStyles:Gr(),preparseOutput:!0},t))},Vr=1e-7,Yr=function(e,t){return e/100*t+'px'},zr=function(e,t,r,n){var a=!1,o=!1,i={},s=r?{pathLength:'0',pathSpacing:''+n}:void 0,d=void 0===e.scale?e.scaleX||1:e.scale||Vr,l=void 0===e.scaleY?d||1:e.scaleY||Vr,u=t.width*((e.originX||50)/100)+t.x,p=t.height*((e.originY||50)/100)+t.y,c={translate:'translate('+e.x+', '+e.y+') ',scale:'translate('+-u*(1*d)+', '+-p*(1*l)+') scale('+d+', '+l+') translate('+u/d+', '+p/l+') ',rotate:'rotate('+e.rotate+', '+u+', '+p+') ',skewX:'skewX('+e.skewX+') ',skewY:'skewY('+e.skewY+') '};for(var h in e)if(e.hasOwnProperty(h)){var f=e[h];Or(h)?a=!0:r&&('pathLength'===h||'pathSpacing'===h)&&'number'==typeof f?(o=!0,s[h]=Yr(f,n)):r&&'pathOffset'===h?i['stroke-dashoffset']=Yr(-f,n):i[yr(h)]=f}if(o&&(i['stroke-dasharray']=s.pathLength+' '+s.pathSpacing),a)for(var h in i.transform='',c)if(c.hasOwnProperty(h)){var y='scale'==h?'1':'0';i.transform+=c[h].replace(/undefined/g,y)}return i},qr={fill:Le,stroke:Le,scale:ge,scaleX:ge,scaleY:ge,opacity:fe,fillOpacity:fe,strokeOpacity:fe},Kr=function(e){return qr[e]},Zr=fr({onRead:function(e,t){var r=t.element;if(!Or(e))return r.getAttribute(e);var n=Kr(e);return n?n.default:0},onRender:function(e,t){var r=t.dimensions,n=t.element,a=t.isPath,o=t.pathLength;mr(n,zr(e,r,a,o))}}),Jr=function(e){var t='function'==typeof e.getBBox?e.getBBox():e.getBoundingClientRect(),r=t.x,n=t.y,a=t.width,o=t.height,i={element:e,dimensions:{x:r,y:n,width:a,height:o},isPath:!1};return'path'===e.tagName&&(i.isPath=!0,i.pathLength=e.getTotalLength()),Zr(i)},Qr=fr({useCache:!1,onRead:function(e){return'scrollTop'===e?window.pageYOffset:window.pageXOffset},onRender:function(e){var t=e.scrollTop,r=void 0===t?0:t,n=e.scrollLeft,a=void 0===n?0:n;return window.scrollTo(a,r)}}),$r=new WeakMap,en=function(e,t){var r;return e instanceof HTMLElement?r=Wr(e,t):e instanceof SVGElement?r=Jr(e):e===window&&(r=Qr(e)),Ge(void 0!==r,'No valid node provided. Node must be HTMLElement, SVGElement or window.'),$r.set(e,r),r},tn=function(e,t){return $r.has(e)?$r.get(e):en(e,t)},rn=function(e,t){var r='string'==typeof e?document.querySelector(e):e;return tn(r,t)},nn=function(){function e(e){void 0===e&&(e={}),this.props=e}return e.prototype.applyMiddleware=function(e){return this.create(ie({},this.props,{middleware:this.props.middleware?[e].concat(this.props.middleware):[e]}))},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=1===e.length?e[0]:Zt.apply(void 0,e);return this.applyMiddleware(function(e){return function(t){return e(r(t))}})},e.prototype.while=function(e){return this.applyMiddleware(function(t,r){return function(n){return e(n)?t(n):r()}})},e.prototype.filter=function(e){return this.applyMiddleware(function(t){return function(r){return e(r)&&t(r)}})},e}(),an=function(){return function(e,t){var r=e.middleware,n=e.onComplete,a=this;this.isActive=!0,this.update=function(e){a.observer.update&&a.updateObserver(e)},this.complete=function(){a.observer.complete&&a.isActive&&a.observer.complete(),a.onComplete&&a.onComplete(),a.isActive=!1},this.error=function(e){a.observer.error&&a.isActive&&a.observer.error(e),a.isActive=!1},this.observer=t,this.updateObserver=function(e){return t.update(e)},this.onComplete=n,t.update&&r&&r.length&&r.forEach(function(e){return a.updateObserver=e(a.updateObserver,a.complete)})}}(),on=function(e,t,r){var n=t.middleware;return'function'==typeof e?new an({middleware:n,onComplete:r},{update:e}):new an({middleware:n,onComplete:r},e)},sn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.create=function(e){return new t(e)},t.prototype.start=function(e){void 0===e&&(e={});var t=!1,r={stop:function(){}},n=this.props,o=n.init,i=a(n,['init']),s=on(e,i,function(){t=!0,r.stop()}),d=o(s);return r=d?ie({},r,d):r,e.registerParent&&e.registerParent(r),t&&r.stop(),r},t}(nn),dn=function(e){return new sn({init:e})},ln=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.subscribers=[],t}return n(t,e),t.prototype.complete=function(){this.subscribers.forEach(function(e){return e.complete()})},t.prototype.error=function(e){this.subscribers.forEach(function(t){return t.error(e)})},t.prototype.update=function(e){for(var t=0;t<this.subscribers.length;t++)this.subscribers[t].update(e)},t.prototype.subscribe=function(e){var t=this,r=on(e,this.props);this.subscribers.push(r);return{unsubscribe:function(){var e=t.subscribers.indexOf(r);-1!==e&&t.subscribers.splice(e,1)}}},t.prototype.stop=function(){this.parent&&this.parent.stop()},t.prototype.registerParent=function(e){this.stop(),this.parent=e},t}(nn),un=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.create=function(e){return new t(e)},t}(ln),pn=function(e,t){var r=te(t,1),n=q((r/(1/(2*(e-1)))+1)/2);return n*(1/(e-1))},cn=Object.freeze({angle:It,degreesToRadians:Nt,distance:jt,isPoint3D:Ut,isPoint:Bt,dilate:Ht,getValueFromProgress:Ht,pointFromAngleAndDistance:function(e,t,r){return t=Nt(t),{x:r*Z(t)+e.x,y:r*J(t)+e.y}},getProgressFromValue:Gt,radiansToDegrees:Rt,smooth:ar,speedPerFrame:lr,speedPerSecond:ur,stepProgress:pn}),hn=function(e){return Array.isArray(e)},fn=function(e){var t=typeof e;return'string'==t||'number'==t},gn=function(e){function t(t){var r=e.call(this,t)||this;return r.scheduleVelocityCheck=function(){return dt.postRender(r.velocityCheck)},r.velocityCheck=function(e){var t=e.timestamp;t!==r.lastUpdated&&(r.prev=r.current)},r.prev=r.current=t.value||0,fn(r.current)?(r.updateCurrent=function(e){return r.current=e},r.getVelocityOfCurrent=function(){return r.getSingleVelocity(r.current,r.prev)}):hn(r.current)?(r.updateCurrent=function(e){return r.current=e.slice()},r.getVelocityOfCurrent=function(){return r.getListVelocity()}):(r.updateCurrent=function(e){for(var t in r.current={},e)e.hasOwnProperty(t)&&(r.current[t]=e[t])},r.getVelocityOfCurrent=function(){return r.getMapVelocity()}),t.initialSubscription&&r.subscribe(t.initialSubscription),r}return n(t,e),t.prototype.create=function(e){return new t(e)},t.prototype.get=function(){return this.current},t.prototype.getVelocity=function(){return this.getVelocityOfCurrent()},t.prototype.update=function(t){e.prototype.update.call(this,t),this.prev=this.current,this.updateCurrent(t);var r=st(),n=r.delta,a=r.timestamp;this.timeDelta=n,this.lastUpdated=a,dt.postRender(this.scheduleVelocityCheck)},t.prototype.subscribe=function(t){var r=e.prototype.subscribe.call(this,t);return this.update(this.current),r},t.prototype.getSingleVelocity=function(e,t){return'number'==typeof e&&'number'==typeof t?ur(e-t,this.timeDelta):ur(parseFloat(e)-parseFloat(t),this.timeDelta)||0},t.prototype.getListVelocity=function(){var e=this;return this.current.map(function(t,r){return e.getSingleVelocity(t,e.prev[r])})},t.prototype.getMapVelocity=function(){var e={};for(var t in this.current)this.current.hasOwnProperty(t)&&(e[t]=this.getSingleVelocity(this.current[t],this.prev[t]));return e},t}(ln),yn=function(e){var t=e.getCount,r=e.getFirst,n=e.getOutput,a=e.mapApi,o=e.setProp,i=e.startActions;return function(e){return dn(function(s){var d=s.update,l=s.complete,u=s.error,p=t(e),c=n(),h=function(){return d(c)},f=0,y=i(e,function(e,t){var r=!1;return e.start({complete:function(){r||(r=!0,f++,f===p&&dt.update(l))},error:u,update:function(e){o(c,t,e),dt.update(h,!1,!0)}})});return Object.keys(r(y)).reduce(function(e,t){return e[t]=a(y,t),e},{})})}},mn=yn({getOutput:function(){return{}},getCount:function(e){return Object.keys(e).length},getFirst:function(e){return e[Object.keys(e)[0]]},mapApi:function(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return Object.keys(e).reduce(function(n,a){var o;return e[a][t]&&(r[0]&&void 0!==r[0][a]?n[a]=e[a][t](r[0][a]):n[a]=(o=e[a])[t].apply(o,r)),n},{})}},setProp:function(e,t,r){return e[t]=r},startActions:function(e,t){return Object.keys(e).reduce(function(r,n){return r[n]=t(e[n],n),r},{})}}),_n=yn({getOutput:function(){return[]},getCount:function(e){return e.length},getFirst:function(e){return e[0]},mapApi:function(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.map(function(e,n){if(e[t])return Array.isArray(r[0])?e[t](r[0][n]):e[t].apply(e,r)})}},setProp:function(e,t,r){return e[t]=r},startActions:function(e,t){return e.map(function(e,r){return t(e,r)})}}),xn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return _n(e)},bn=function(e){var t=Object.keys(e),r=function(t,r){return t!==void 0&&!e[r](t)};return{getVectorKeys:function(e){return t.reduce(function(t,n){return r(e[n],n)&&t.push(n),t},[])},testVectorProps:function(e){return e&&t.some(function(t){return r(e[t],t)})}}},vn=[xe,_e,me,be,ve],Tn=function(e){return vn.find(function(t){return t.test(e)})},En=function(e){return!!Tn(e)},Sn=function(e,t){return e(t)},Cn=function(e){return function(t,r){return t[r]=t[r][e],t}},Pn=function(e,t,r){var n=r[0],a=t[n].map(function(n,a){var o=r.reduce(Cn(a),ie({},t));return In(n)(e,o)});return xn.apply(void 0,a)},An=function(e){return function(t,r){return t[r]=t[r][e],t}},Mn=function(e,t,r){var n=r[0],a=Object.keys(t[n]).reduce(function(a,o){var i=r.reduce(An(o),ie({},t));return a[o]=In(t[n][o])(e,i),a},{});return mn(a)},wn=function(e,t){var r=t.from,n=t.to,o=a(t,['from','to']),i=Tn(r)||Tn(n),s=i.transform,d=i.parse;return e(ie({},o,{from:'string'==typeof r?d(r):r,to:'string'==typeof n?d(n):n})).pipe(s)},On=function(e,t){var r=t.from,n=t.to,o=a(t,['from','to']);return e(ie({},o,{from:0,to:1})).pipe(qt(r,n),Le.transform)},Dn=function(e,t){var r=t.from,n=t.to,o=a(t,['from','to']),i=Xe.createTransformer(r);return Ge(i(r)===Xe.createTransformer(n)(r),'Values \''+r+'\' and \''+n+'\' are of different format, or a value might have changed value type.'),e(ie({},o,{from:0,to:1})).pipe(Jt(Xe.parse(r),Xe.parse(n)),i)},Rn=function(e,t){var r=bn(t),n=r.testVectorProps,a=r.getVectorKeys;return function(t){var r=n(t);if(!r)return e(t);var o=a(t),i=o[0],s=t[i];return In(s)(e,t,o)}},In=function(e){var t=Sn;return'number'==typeof e?t=Sn:Array.isArray(e)?t=Pn:En(e)?t=wn:Le.test(e)?t=On:Xe.test(e)?t=Dn:'object'==typeof e&&(t=Mn),t},kn=Rn(function(e){return void 0===e&&(e={}),dn(function(t){var r=t.complete,n=t.update,a=e.velocity,o=void 0===a?0:a,i=e.from,s=void 0===i?0:i,d=e.power,l=void 0===d?.8:d,u=e.timeConstant,p=void 0===u?350:u,c=e.restDelta,h=void 0===c?.5:c,f=e.modifyTarget,y=0,m=l*o,_=re(s+m),x='undefined'==typeof f?_:f(_),b=dt.update(function(e){var t=e.delta;y+=t;var a=-m*z(-y/p),o=a>h||a<-h,i=o?x+a:x;n(i),o||(nt.update(b),r())},!0);return{stop:function(){return nt.update(b)}}})},{from:he.test,modifyTarget:function(e){return'function'==typeof e},velocity:he.test}),Ln=Rn(function(e){var t=e.from,r=void 0===t?0:t,n=e.to,a=void 0===n?1:n,o=e.ease,i=void 0===o?ht:o;return dn(function(e){var t=e.update;return{seek:function(e){return t(e)}}}).pipe(i,function(e){return Ht(r,a,e)})},{ease:function(e){return'function'==typeof e},from:he.test,to:he.test}),Fn=Ft(0,1),Nn=function(e){return void 0===e&&(e={}),dn(function(t){var r=t.update,n=t.complete,a=e.duration,o=void 0===a?300:a,i=e.ease,s=void 0===i?gt:i,d=e.flip,l=void 0===d?0:d,u=e.loop,p=void 0===u?0:u,c=e.yoyo,h=void 0===c?0:c,f=e.from,y=void 0===f?0:f,m=e.to,_=void 0===m?1:m,x=e.elapsed,b=void 0===x?0:x,v=e.playDirection,T=void 0===v?1:v,E=e.flipCount,S=void 0===E?0:E,C=e.yoyoCount,P=void 0===C?0:C,A=e.loopCount,M=void 0===A?0:A,w=Ln({from:y,to:_,ease:s}).start(r),O=0,D=!1,R=function(){return T*=-1},I=function(){var e=1==T?D&&b>=o:D&&0>=b,t;if(!e)return!1;if(e&&!p&&!l&&!h)return!0;var n=!1;return p&&M<p?(b=0,M++,n=!0):l&&S<l?(b=o-b,t=[_,y],y=t[0],_=t[1],w=Ln({from:y,to:_,ease:s}).start(r),S++,n=!0):h&&P<h&&(R(),P++,n=!0),!n},k=function(){O=Fn(Gt(0,o,b)),w.seek(O)},L=function(){D=!0,N=dt.update(function(e){var t=e.delta;b+=t*T,k(),I()&&n&&(nt.update(N),dt.update(n,!1,!0))},!0)},F=function(){D=!1,N&&nt.update(N)},N;return L(),{isActive:function(){return D},getElapsed:function(){return Ft(0,o,b)},getProgress:function(){return O},stop:function(){F()},pause:function(){return F(),this},resume:function(){return D||L(),this},seek:function(e){return b=Ht(0,o,e),dt.update(k,!1,!0),this},reverse:function(){return R(),this}}})},Bn=Ft(0,1),Un=function(e,t){return e.map(function(){return t||gt}).splice(0,e.length-1)},Xn=function(e){var t=e.length;return e.map(function(e,r){return 0===r?0:r/(t-1)})},jn=function(e,t,r){var n=e.length,a=n-1,o=t.map(function(e){return e.start(r)});return function(t){t<=e[0]&&o[0].seek(0),t>=e[a]&&o[a-1].seek(1);for(var r=1;r<n&&!(e[r]>t||r===a);r++);var i=Gt(e[r-1],e[r],t);o[r-1].seek(Bn(i))}},Gn=function(e){var t=e.easings,r=e.ease,n=void 0===r?ht:r,o=e.times,s=e.values,i=a(e,['easings','ease','times','values']);t=Array.isArray(t)?t:Un(s,t),o=o||Xn(s);var d=t.map(function(e,t){return Ln({from:s[t],to:s[t+1],ease:e})});return Nn(ie({},i,{ease:n})).applyMiddleware(function(e){return jn(o,d,e)})},Hn=Rn(function(e){return void 0===e&&(e={}),dn(function(t){var r=t.complete,n=t.update,a=e.acceleration,o=void 0===a?0:a,i=e.friction,s=void 0===i?0:i,d=e.velocity,l=void 0===d?0:d,u=e.springStrength,p=e.to,c=e.restSpeed,h=void 0===c?.001:c,f=e.from,y=void 0===f?0:f,m=y,_=dt.update(function(e){var t=e.delta,a=K(t,16);if(o&&(l+=lr(o,a)),s&&(l*=Q(1-s,a/100)),void 0!==u&&void 0!==p){var i=p-m;l+=i*lr(u,a)}m+=lr(l,a),n(m);var d=!1!==h&&(!l||$(l)<=h);d&&(nt.update(_),r())},!0);return{set:function(e){return m=e,this},setAcceleration:function(e){return o=e,this},setFriction:function(e){return s=e,this},setSpringStrength:function(e){return u=e,this},setSpringTarget:function(e){return p=e,this},setVelocity:function(e){return l=e,this},stop:function(){return nt.update(_)}}})},{acceleration:he.test,friction:he.test,velocity:he.test,from:he.test,to:he.test,springStrength:he.test}),Wn=Rn(function(e){return void 0===e&&(e={}),dn(function(r){var n=r.update,a=r.complete,o=e.velocity,i=void 0===o?0:o,s=e.from,d=void 0===s?0:s,l=e.to,u=void 0===l?0:l,p=e.stiffness,c=void 0===p?100:p,h=e.damping,f=void 0===h?10:h,y=e.mass,m=void 0===y?1:y,_=e.restSpeed,x=void 0===_?.01:_,b=e.restDelta,v=void 0===b?.01:b,T=i?-(i/1e3):0,E=0,t=u-d,S=d,C=S,P=dt.update(function(e){var r=e.delta;E+=r;var o=f/(2*ee(c*m)),s=ee(c/m)/1e3;if(C=S,1>o){var d=z(-o*s*E),l=s*ee(1-o*o);S=u-d*((T+o*s*t)/l*J(l*E)+t*Z(l*E))}else{var d=z(-s*E);S=u-d*(t+(T+s*t)*E)}i=ur(S-C,r);var p=$(i)<=x,h=$(u-S)<=v;p&&h?(S=u,n(S),nt.update(P),a()):n(S)},!0);return{stop:function(){return nt.update(P)}}})},{from:he.test,to:he.test,stiffness:he.test,damping:he.test,mass:he.test,velocity:he.test}),Vn=300,Yn=function(e){var t=[],r=e[e.length-1],n='number'==typeof r,a=n?r:0,o=n?e.slice(0,-1):e,s=o.length,i=0;return o.forEach(function(e,r){if(t.push(e),r!==s-1){var n=e.duration||Vn;i+=a,t.push('-'+(n-i))}}),t},zn=function(e,t){return Array.isArray(t)?e.push.apply(e,Yn(t)):e.push(t),e},qn=function(e,t,r){var n=e.duration,a=e.easings,o=e.times,i=e.values,s=i.length,d=o[s-1],l=0===t.at?0:t.at/n,u=(t.at+t.duration)/n;if(0===r)i.push(t.from),o.push(l);else if(d!==l){void 0!==t.from&&(i.push(i[s-1]),o.push(l),a.push(ht));var p=void 0===t.from?i[s-1]:t.from;i.push(p),o.push(l),a.push(ht)}else void 0!==t.from&&(i.push(t.from),o.push(l),a.push(ht));return i.push(t.to),o.push(u),a.push(t.ease||yt),e},Kn=function(e,t){var r=void 0===t?{}:t,n=r.duration,a=r.elapsed,o=r.ease,s=r.loop,d=r.flip,l=r.yoyo,u=0,p=0,c=e.reduce(zn,[]),h=[];c.forEach(function(e){if('string'==typeof e)u+=parseFloat(e);else if('number'==typeof e)u=e;else{var t=ie({},e,{at:u});t.duration=t.duration===void 0?Vn:t.duration,h.push(t),u+=t.duration,p=K(p,t.at+t.duration)}});for(var f={},y=h.length,m=0;m<y;m++){var i=h[m],_=i.track;if(_===void 0)throw new Error('No track defined');f.hasOwnProperty(_)||(f[_]=[]),f[_].push(i)}var x={};for(var b in f)if(f.hasOwnProperty(b)){var v=f[b].reduce(qn,{duration:p,easings:[],times:[],values:[]});x[b]=Gn(ie({},v,{duration:n||p,ease:o,elapsed:a,loop:s,yoyo:l,flip:d}))}return mn(x)},Zn=function(e,t,r){return dn(function(n){var a=n.update,o=t.split(' ').map(function(t){return e.addEventListener(t,a,r),t});return{stop:function(){return o.forEach(function(t){return e.removeEventListener(t,a,r)})}}})},Jn=function(){return{clientX:0,clientY:0,pageX:0,pageY:0,x:0,y:0}},Qn=function(t,e){return void 0===e&&(e=Jn()),e.clientX=e.x=t.clientX,e.clientY=e.y=t.clientY,e.pageX=t.pageX,e.pageY=t.pageY,e},$n=[Jn()],ea=!1,ta;if('undefined'!=typeof document){var ra=function(e){var t=e.touches;ea=!0;var r=t.length;$n.length=0;for(var n=0,a;n<r;n++)a=t[n],$n.push(Qn(a))};Zn(document,'touchstart touchmove',{passive:!0,capture:!0}).start(ra)}var na=function(e){var t=void 0===e?{}:e,r=t.preventDefault,n=!(void 0!==r)||r,a=t.scale,o=void 0===a?1:a,i=t.rotate,s=void 0===i?0:i;return dn(function(e){var t=e.update,r={touches:$n,scale:o,rotate:s},a=0,i=0,d=1<$n.length;if(d){var l=$n[0],u=$n[1];a=jt(l,u),i=It(l,u)}var p=function(){if(d){var e=$n[0],n=$n[1],l=jt(e,n),u=It(e,n);r.scale=o*(l/a),r.rotate=s+(u-i)}t(r)},c=Zn(document,'touchmove',{passive:!n}).start(function(t){(n||1<t.touches.length)&&t.preventDefault(),dt.update(p)});return ea&&dt.update(p),{stop:function(){nt.update(p),c.stop()}}})},aa=function(){return ea},oa=Jn(),ia=!1;if('undefined'!=typeof document){var sa=function(t){ia=!0,Qn(t,oa)};Zn(document,'mousedown mousemove',!0).start(sa)}var da=function(e){var t=(void 0===e?{}:e).preventDefault;return dn(function(e){var r=e.update,n=function(){return r(oa)},a=Zn(document,'mousemove').start(function(r){(!(void 0!==t)||t)&&r.preventDefault(),dt.update(n)});return ia&&dt.update(n),{stop:function(){nt.update(n),a.stop()}}})},la=function(e){var t=e[0];return t},ua=function(e){return void 0===e&&(e={}),aa()?na(e).pipe(function(e){var t=e.touches;return t},la):da(e)},pa=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return dn(function(t){var r=t.update,n=t.complete,a=0,o=function(){i=e[a].start({complete:function(){a++,a>=e.length?n():o()},update:r})},i;return o(),{stop:function(){return i&&i.stop()}}})},ca=function(e){return dn(function(t){var r=t.complete,n=setTimeout(r,e);return{stop:function(){return clearTimeout(n)}}})},ha=Object.freeze({applyOffset:kt,clamp:Ft,conditional:function(e,t){return function(r){return e(r)?t(r):r}},interpolate:function(e,t,r){var n=e.length;return 2===n&&'number'==typeof t[0]?rr(e[0],e[1],t[0],t[1]):tr(e,t,n,r)},blendArray:Jt,blendColor:qt,pipe:Zt,smooth:function(e){void 0===e&&(e=50);var t=0,r=0;return function(n){var a=st().timestamp,o=a===r?0:a-r,i=o?ar(t,n,o,e):t;return r=a,t=i,i}},snap:function(e){if('number'==typeof e)return function(t){return re(t/e)*e};var t=0,r=e.length;return function(n){var a=$(e[0]-n);for(t=1;t<r;t++){var o=e[t],i=$(o-n);if(0===i)return o;if(i>a)return e[t-1];if(t==r-1)return o;a=i}}},generateStaticSpring:ir,nonlinearSpring:dr,linearSpring:sr,wrap:pr,appendUnit:function(e){return function(t){return''+t+e}},steps:function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=1),function(n){var a=Gt(t,r,n);return Ht(t,r,pn(e,a))}},transformMap:function(e){return function(t){var r=ie({},t);for(var n in e)if(e.hasOwnProperty(n)){var a=e[n];r[n]=a(t[n])}return r}}}),fa=r(5),ga=function(e){return'object'==typeof window.Node?e instanceof window.Node:null!==e&&'object'==typeof e&&'number'==typeof e.nodeType&&'string'==typeof e.nodeName},ya=function(e){var t=Object.prototype.toString.call(e),r=/^\[object (HTMLCollection|NodeList|Object)\]$/;return'object'==typeof window.NodeList?e instanceof window.NodeList:null!==e&&'object'==typeof e&&'number'==typeof e.length&&r.test(t)&&(0===e.length||ga(e[0]))},ma=function(e,t){if(void 0===t&&(t=document),e instanceof Array)return e.filter(ga);if(ga(e))return[e];if(ya(e))return Array.prototype.slice.call(e);if('string'==typeof e)try{var r=t.querySelectorAll(e);return Array.prototype.slice.call(r)}catch(e){return[]}return[]},_a=function(){var e=Date.now();return function(t){var r=Date.now();16<r-e?(e=r,t(r)):setTimeout(function(){return _a(t)},0)}}(),xa=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||_a,ba=xa,va={delay:0,distance:'0',duration:600,easing:'cubic-bezier(0.5, 0, 0, 1)',interval:0,opacity:0,origin:'bottom',rotate:{x:0,y:0,z:0},scale:1,cleanup:!1,container:document.documentElement,desktop:!0,mobile:!0,reset:!1,useDelay:'always',viewFactor:0,viewOffset:{top:0,right:0,bottom:0,left:0},afterReset:function(){},afterReveal:function(){},beforeReset:function(){},beforeReveal:function(){}},Ta={success:function(){document.documentElement.classList.add('sr'),document.body?document.body.style.height='100%':document.addEventListener('DOMContentLoaded',function(){document.body.style.height='100%'})},failure:function(){return document.documentElement.classList.remove('sr'),{clean:function(){},destroy:function(){},reveal:function(){},sync:function(){},get noop(){return!0}}}},Ea=function(){function e(e,n){if(void 0===n&&(n=r),e&&'string'==typeof e){if(t[e])return t[e];if('string'==typeof n[e])return t[e]=e;if('string'==typeof n['-webkit-'+e])return t[e]='-webkit-'+e;throw new RangeError('Unable to find "'+e+'" style property.')}throw new TypeError('Expected a string.')}var t={},r=document.documentElement.style;return e.clearCache=function(){return t={}},e}(),Sa=function(){var e=0;return function(){return e++}}(),Ca=Math.sign||function(e){return(0<e)-(0>e)||+e},Pa='4.0.5',Aa,Ma,wa,Oa,Da,Ra,Ia,ka;W.isSupported=function(){return G()&&H()},Object.defineProperty(W,'debug',{get:function(){return Ia||!1},set:function(e){return Ia='boolean'==typeof e?e:Ia}}),W();var La=r(21),Fa=r.n(La);const Na=Fa()('#svg');(function(e=175,t=200){const r=Na.circle(0,0,80),n=Na.text(-10,0,'Jenkins'),a=Na.image('./img/jenkins.png',-55,-25,36,50),o=Na.group(r,n,a);r.attr({fill:'none',stroke:'#fff',strokeWidth:5}),n.attr({fontSize:'1.2rem',dominantBaseline:'middle'}),o.transform(new Fa.a.Matrix().translate(e,t))})(),V('\u6E90\u7801\u5E93',60,60),V('\u6784\u5EFA',60,400),V('\u90E8\u7F72',280,350),V('\u901A\u77E5',200,450);const Ba=Na.line(0,0,100,100);Ba.attr({stroke:'#fff',strokeWidth:3,strokeDasharray:'5, 5'}),W().reveal('.scroll-reveal',{container:document.querySelector('.scroller'),distance:'50px',origin:'bottom',easing:'ease-out',delay:200,duration:1e3}),fa.utils.skipHello();const Ua=new fa.Application({width:window.innerWidth,height:window.innerHeight});document.body.appendChild(Ua.view),Ua.view.style.position='fixed',Ua.view.style.top=0,Ua.view.style.left=0,Ua.view.style.zIndex=-1,fa.loader.add('bg','./img/background.jpg').add('star','./img/star.png').add('earth','./img/earth.png').add('health','./img/health.png').add('halation_1_1','./img/halation_1_1.png').add('halation_1_2','./img/halation_1_2.png').add('halation_1_3','./img/halation_1_3.png').add('halation_2_1','./img/halation_2_1.png').add('halation_2_2','./img/halation_2_2.png').add('halation_2_3','./img/halation_2_3.png').add('halation_3_1','./img/halation_3_1.png').add('halation_3_2','./img/halation_3_2.png').add('halation_3_3','./img/halation_3_3.png').add('logo','./img/jenkins.png').add('email','./img/email.png').add('cmd','./img/cmd.png').load((e,t)=>{const r=new fa.Container,n=new fa.Sprite(t.bg.texture),a=new fa.Sprite(t.bg.texture),o=new fa.Sprite(t.earth.texture);n.x=Ua.renderer.width/2,n.y=Ua.renderer.height/2,a.x=Ua.renderer.width/2,a.y=Ua.renderer.height/2,o.x=Ua.renderer.width/2,o.y=Ua.renderer.height,n.anchor.x=.5,n.anchor.y=.5,a.anchor.x=.5,a.anchor.y=.5,a.anchor.y=.5;const i=Ua.renderer.width/n.width;n.scale.set(i),a.scale.set(i),o.anchor.x=.5,o.anchor.y=1,o.scale.set(Ua.renderer.width/o.width),a.alpha=0,Ua.stage.addChild(a),Ua.stage.addChild(n),Ua.stage.addChild(o),Ua.stage.addChild(r);const s=new fa.Sprite(t.health.texture);s.anchor.set(.5),[,,,].fill([,,,].fill(0)).forEach((e,n)=>{e.forEach((e,a)=>{const o=new fa.Sprite(t[`halation_${n+1}_${a+1}`].texture);o.anchor.set(.5),o.blendMode=fa.BLEND_MODES.SCREEN,o.alpha=.5,r.addChild(o)})}),r.addChild(s),r.scale.set(.3),r.x=100,r.y=100,Nn({from:{rotation1:-45,rotation2:150,rotation3:0},to:{rotation1:45,rotation2:60,rotation3:90},duration:1e4,yoyo:Infinity}).start(({rotation1:e,rotation2:t,rotation3:n})=>{r.children[6].rotation=e*ne/180,r.children[7].rotation=t*ne/180,r.children[8].rotation=n*ne/180}),setInterval(()=>{const e=new fa.Sprite(t.star.texture),r=1e3*(2*Math.random()+.2);e.anchor.x=.5,e.anchor.y=.5,e.x=Ua.renderer.width*Math.random(),e.y=Ua.renderer.height*Math.random(),e.alpha=0,e.blendMode=fa.BLEND_MODES.SCREEN,Ua.stage.addChild(e),Nn({from:{opacity:0,scale:0},to:{opacity:1,scale:Math.random()},duration:r,yoyo:1}).start(({opacity:t,scale:r})=>{e.scale.set(r),e.alpha=t}),setTimeout(()=>{Ua.stage.removeChild(e)},2*r+30)},800),Kn([{track:'alpha',from:0,to:1,duration:0,ease:ht},'0',{track:'scale',from:i,to:1.4*i,duration:1e4,ease:ht},'-1000',{track:'alpha',from:1,to:0,duration:1e3,ease:ht},{track:'completed',from:1,to:0,duration:8e3,ease:ht}],{loop:Infinity,ease:ht}).start(({scale:e,alpha:t,completed:r})=>{n.alpha=t,n.scale.set(e),0===r&&(Ua.stage.removeChild(n),Ua.stage.addChildAt(n,0),n.x=Ua.renderer.width*(Math.random()/10+.45),n.y=Ua.renderer.height*(Math.random()/10+.45))}),Kn([{track:'alpha',from:0,to:1,duration:0,ease:ht},'0',{track:'scale',from:i,to:1.4*i,duration:1e4,ease:ht},'-1000',{track:'alpha',from:1,to:0,duration:1e3,ease:ht},{track:'completed',from:1,to:0,duration:8e3,ease:ht}],{loop:Infinity,ease:ht,elapsed:9e3}).start(({scale:e,alpha:t,completed:r})=>{a.alpha=t,a.scale.set(e),0===r&&(Ua.stage.removeChild(a),Ua.stage.addChildAt(a,0),a.x=Ua.renderer.width*(Math.random()/10+.45),a.y=Ua.renderer.height*(Math.random()/10+.45))})})}]);